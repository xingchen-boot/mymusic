/**
***REMOVED*******REMOVED*****The***REMOVED***`node:wasi`***REMOVED***module***REMOVED***does***REMOVED***not***REMOVED***currently***REMOVED***provide***REMOVED***the**
***REMOVED*******REMOVED*****comprehensive***REMOVED***file***REMOVED***system***REMOVED***security***REMOVED***properties***REMOVED***provided***REMOVED***by***REMOVED***some***REMOVED***WASI***REMOVED***runtimes.**
***REMOVED*******REMOVED*****Full***REMOVED***support***REMOVED***for***REMOVED***secure***REMOVED***file***REMOVED***system***REMOVED***sandboxing***REMOVED***may***REMOVED***or***REMOVED***may***REMOVED***not***REMOVED***be***REMOVED***implemented***REMOVED***in**
***REMOVED*******REMOVED*****future.***REMOVED***In***REMOVED***the***REMOVED***mean***REMOVED***time,***REMOVED***do***REMOVED***not***REMOVED***rely***REMOVED***on***REMOVED***it***REMOVED***to***REMOVED***run***REMOVED***untrusted***REMOVED***code.**
***REMOVED****
***REMOVED*******REMOVED***The***REMOVED***WASI***REMOVED***API***REMOVED***provides***REMOVED***an***REMOVED***implementation***REMOVED***of***REMOVED***the***REMOVED***[WebAssembly***REMOVED***System***REMOVED***Interface](https://wasi.dev/)***REMOVED***specification.***REMOVED***WASI***REMOVED***gives***REMOVED***WebAssembly***REMOVED***applications***REMOVED***access***REMOVED***to***REMOVED***the***REMOVED***underlying
***REMOVED*******REMOVED***operating***REMOVED***system***REMOVED***via***REMOVED***a***REMOVED***collection***REMOVED***of***REMOVED***POSIX-like***REMOVED***functions.
***REMOVED****
***REMOVED*******REMOVED***```js
***REMOVED*******REMOVED***import***REMOVED***{***REMOVED***readFile***REMOVED***}***REMOVED***from***REMOVED***'node:fs/promises';
***REMOVED*******REMOVED***import***REMOVED***{***REMOVED***WASI***REMOVED***}***REMOVED***from***REMOVED***'wasi';
***REMOVED*******REMOVED***import***REMOVED***{***REMOVED***argv,***REMOVED***env***REMOVED***}***REMOVED***from***REMOVED***'node:process';
***REMOVED****
***REMOVED*******REMOVED***const***REMOVED***wasi***REMOVED***=***REMOVED***new***REMOVED***WASI({
***REMOVED*******REMOVED******REMOVED******REMOVED***version:***REMOVED***'preview1',
***REMOVED*******REMOVED******REMOVED******REMOVED***args:***REMOVED***argv,
***REMOVED*******REMOVED******REMOVED******REMOVED***env,
***REMOVED*******REMOVED******REMOVED******REMOVED***preopens:***REMOVED***{
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'/local':***REMOVED***'/some/real/path/that/wasm/can/access',
***REMOVED*******REMOVED******REMOVED******REMOVED***},
***REMOVED*******REMOVED***});
***REMOVED****
***REMOVED*******REMOVED***const***REMOVED***wasm***REMOVED***=***REMOVED***await***REMOVED***WebAssembly.compile(
***REMOVED*******REMOVED******REMOVED******REMOVED***await***REMOVED***readFile(new***REMOVED***URL('./demo.wasm',***REMOVED***import.meta.url)),
***REMOVED*******REMOVED***);
***REMOVED*******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***await***REMOVED***WebAssembly.instantiate(wasm,***REMOVED***wasi.getImportObject());
***REMOVED****
***REMOVED*******REMOVED***wasi.start(instance);
***REMOVED*******REMOVED***```
***REMOVED****
***REMOVED*******REMOVED***To***REMOVED***run***REMOVED***the***REMOVED***above***REMOVED***example,***REMOVED***create***REMOVED***a***REMOVED***new***REMOVED***WebAssembly***REMOVED***text***REMOVED***format***REMOVED***file***REMOVED***named***REMOVED***`demo.wat`:
***REMOVED****
***REMOVED*******REMOVED***```text
***REMOVED*******REMOVED***(module
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***;;***REMOVED***Import***REMOVED***the***REMOVED***required***REMOVED***fd_write***REMOVED***WASI***REMOVED***function***REMOVED***which***REMOVED***will***REMOVED***write***REMOVED***the***REMOVED***given***REMOVED***io***REMOVED***vectors***REMOVED***to***REMOVED***stdout
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***;;***REMOVED***The***REMOVED***function***REMOVED***signature***REMOVED***for***REMOVED***fd_write***REMOVED***is:
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***;;***REMOVED***(File***REMOVED***Descriptor,***REMOVED****iovs,***REMOVED***iovs_len,***REMOVED***nwritten)***REMOVED***->***REMOVED***Returns***REMOVED***number***REMOVED***of***REMOVED***bytes***REMOVED***written
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(import***REMOVED***"wasi_snapshot_preview1"***REMOVED***"fd_write"***REMOVED***(func***REMOVED***$fd_write***REMOVED***(param***REMOVED***i32***REMOVED***i32***REMOVED***i32***REMOVED***i32)***REMOVED***(result***REMOVED***i32)))
***REMOVED****
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(memory***REMOVED***1)
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(export***REMOVED***"memory"***REMOVED***(memory***REMOVED***0))
***REMOVED****
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***;;***REMOVED***Write***REMOVED***'hello***REMOVED***world\n'***REMOVED***to***REMOVED***memory***REMOVED***at***REMOVED***an***REMOVED***offset***REMOVED***of***REMOVED***8***REMOVED***bytes
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***;;***REMOVED***Note***REMOVED***the***REMOVED***trailing***REMOVED***newline***REMOVED***which***REMOVED***is***REMOVED***required***REMOVED***for***REMOVED***the***REMOVED***text***REMOVED***to***REMOVED***appear
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(data***REMOVED***(i32.const***REMOVED***8)***REMOVED***"hello***REMOVED***world\n")
***REMOVED****
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(func***REMOVED***$main***REMOVED***(export***REMOVED***"_start")
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***;;***REMOVED***Creating***REMOVED***a***REMOVED***new***REMOVED***io***REMOVED***vector***REMOVED***within***REMOVED***linear***REMOVED***memory
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(i32.store***REMOVED***(i32.const***REMOVED***0)***REMOVED***(i32.const***REMOVED***8))***REMOVED******REMOVED***;;***REMOVED***iov.iov_base***REMOVED***-***REMOVED***This***REMOVED***is***REMOVED***a***REMOVED***pointer***REMOVED***to***REMOVED***the***REMOVED***start***REMOVED***of***REMOVED***the***REMOVED***'hello***REMOVED***world\n'***REMOVED***string
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(i32.store***REMOVED***(i32.const***REMOVED***4)***REMOVED***(i32.const***REMOVED***12))***REMOVED******REMOVED***;;***REMOVED***iov.iov_len***REMOVED***-***REMOVED***The***REMOVED***length***REMOVED***of***REMOVED***the***REMOVED***'hello***REMOVED***world\n'***REMOVED***string
***REMOVED****
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(call***REMOVED***$fd_write
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(i32.const***REMOVED***1)***REMOVED***;;***REMOVED***file_descriptor***REMOVED***-***REMOVED***1***REMOVED***for***REMOVED***stdout
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(i32.const***REMOVED***0)***REMOVED***;;***REMOVED****iovs***REMOVED***-***REMOVED***The***REMOVED***pointer***REMOVED***to***REMOVED***the***REMOVED***iov***REMOVED***array,***REMOVED***which***REMOVED***is***REMOVED***stored***REMOVED***at***REMOVED***memory***REMOVED***location***REMOVED***0
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(i32.const***REMOVED***1)***REMOVED***;;***REMOVED***iovs_len***REMOVED***-***REMOVED***We're***REMOVED***printing***REMOVED***1***REMOVED***string***REMOVED***stored***REMOVED***in***REMOVED***an***REMOVED***iov***REMOVED***-***REMOVED***so***REMOVED***one.
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(i32.const***REMOVED***20)***REMOVED***;;***REMOVED***nwritten***REMOVED***-***REMOVED***A***REMOVED***place***REMOVED***in***REMOVED***memory***REMOVED***to***REMOVED***store***REMOVED***the***REMOVED***number***REMOVED***of***REMOVED***bytes***REMOVED***written
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***drop***REMOVED***;;***REMOVED***Discard***REMOVED***the***REMOVED***number***REMOVED***of***REMOVED***bytes***REMOVED***written***REMOVED***from***REMOVED***the***REMOVED***top***REMOVED***of***REMOVED***the***REMOVED***stack
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED*******REMOVED***)
***REMOVED*******REMOVED***```
***REMOVED****
***REMOVED*******REMOVED***Use***REMOVED***[wabt](https://github.com/WebAssembly/wabt)***REMOVED***to***REMOVED***compile***REMOVED***`.wat`***REMOVED***to***REMOVED***`.wasm`
***REMOVED****
***REMOVED*******REMOVED***```bash
***REMOVED*******REMOVED***wat2wasm***REMOVED***demo.wat
***REMOVED*******REMOVED***```
***REMOVED*******REMOVED***@experimental
***REMOVED*******REMOVED***@see***REMOVED***[source](https://github.com/nodejs/node/blob/v20.13.1/lib/wasi.js)
***REMOVED****/
declare***REMOVED***module***REMOVED***"wasi"***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***WASIOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***An***REMOVED***array***REMOVED***of***REMOVED***strings***REMOVED***that***REMOVED***the***REMOVED***WebAssembly***REMOVED***application***REMOVED***will
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***see***REMOVED***as***REMOVED***command***REMOVED***line***REMOVED***arguments.***REMOVED***The***REMOVED***first***REMOVED***argument***REMOVED***is***REMOVED***the***REMOVED***virtual***REMOVED***path***REMOVED***to***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***WASI***REMOVED***command***REMOVED***itself.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***[]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***args?:***REMOVED***string[]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***An***REMOVED***object***REMOVED***similar***REMOVED***to***REMOVED***`process.env`***REMOVED***that***REMOVED***the***REMOVED***WebAssembly
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***application***REMOVED***will***REMOVED***see***REMOVED***as***REMOVED***its***REMOVED***environment.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***{}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***env?:***REMOVED***object***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***object***REMOVED***represents***REMOVED***the***REMOVED***WebAssembly***REMOVED***application's
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***sandbox***REMOVED***directory***REMOVED***structure.***REMOVED***The***REMOVED***string***REMOVED***keys***REMOVED***of***REMOVED***`preopens`***REMOVED***are***REMOVED***treated***REMOVED***as
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***directories***REMOVED***within***REMOVED***the***REMOVED***sandbox.***REMOVED***The***REMOVED***corresponding***REMOVED***values***REMOVED***in***REMOVED***`preopens`***REMOVED***are
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***real***REMOVED***paths***REMOVED***to***REMOVED***those***REMOVED***directories***REMOVED***on***REMOVED***the***REMOVED***host***REMOVED***machine.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***preopens?:***REMOVED***NodeJS.Dict<string>***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***By***REMOVED***default,***REMOVED***when***REMOVED***WASI***REMOVED***applications***REMOVED***call***REMOVED***`__wasi_proc_exit()`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`wasi.start()`***REMOVED***will***REMOVED***return***REMOVED***with***REMOVED***the***REMOVED***exit***REMOVED***code***REMOVED***specified***REMOVED***rather***REMOVED***than***REMOVED***terminatng***REMOVED***the***REMOVED***process.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Setting***REMOVED***this***REMOVED***option***REMOVED***to***REMOVED***`false`***REMOVED***will***REMOVED***cause***REMOVED***the***REMOVED***Node.js***REMOVED***process***REMOVED***to***REMOVED***exit***REMOVED***with
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***specified***REMOVED***exit***REMOVED***code***REMOVED***instead.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***true
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***returnOnExit?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***file***REMOVED***descriptor***REMOVED***used***REMOVED***as***REMOVED***standard***REMOVED***input***REMOVED***in***REMOVED***the***REMOVED***WebAssembly***REMOVED***application.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stdin?:***REMOVED***number***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***file***REMOVED***descriptor***REMOVED***used***REMOVED***as***REMOVED***standard***REMOVED***output***REMOVED***in***REMOVED***the***REMOVED***WebAssembly***REMOVED***application.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stdout?:***REMOVED***number***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***file***REMOVED***descriptor***REMOVED***used***REMOVED***as***REMOVED***standard***REMOVED***error***REMOVED***in***REMOVED***the***REMOVED***WebAssembly***REMOVED***application.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***2
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stderr?:***REMOVED***number***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***version***REMOVED***of***REMOVED***WASI***REMOVED***requested.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Currently***REMOVED***the***REMOVED***only***REMOVED***supported***REMOVED***versions***REMOVED***are***REMOVED***`'unstable'`***REMOVED***and***REMOVED***`'preview1'`.***REMOVED***This***REMOVED***option***REMOVED***is***REMOVED***mandatory.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v19.8.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***version:***REMOVED***"unstable"***REMOVED***|***REMOVED***"preview1";
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`WASI`***REMOVED***class***REMOVED***provides***REMOVED***the***REMOVED***WASI***REMOVED***system***REMOVED***call***REMOVED***API***REMOVED***and***REMOVED***additional***REMOVED***convenience
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***methods***REMOVED***for***REMOVED***working***REMOVED***with***REMOVED***WASI-based***REMOVED***applications.***REMOVED***Each***REMOVED***`WASI`***REMOVED***instance
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***represents***REMOVED***a***REMOVED***distinct***REMOVED***environment.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v13.3.0,***REMOVED***v12.16.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***class***REMOVED***WASI***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***constructor(options?:***REMOVED***WASIOptions);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Return***REMOVED***an***REMOVED***import***REMOVED***object***REMOVED***that***REMOVED***can***REMOVED***be***REMOVED***passed***REMOVED***to***REMOVED***`WebAssembly.instantiate()`***REMOVED***if***REMOVED***no***REMOVED***other***REMOVED***WASM***REMOVED***imports***REMOVED***are***REMOVED***needed***REMOVED***beyond***REMOVED***those***REMOVED***provided***REMOVED***by***REMOVED***WASI.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***version***REMOVED***`unstable`***REMOVED***was***REMOVED***passed***REMOVED***into***REMOVED***the***REMOVED***constructor***REMOVED***it***REMOVED***will***REMOVED***return:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***{***REMOVED***wasi_unstable:***REMOVED***wasi.wasiImport***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***version***REMOVED***`preview1`***REMOVED***was***REMOVED***passed***REMOVED***into***REMOVED***the***REMOVED***constructor***REMOVED***or***REMOVED***no***REMOVED***version***REMOVED***was***REMOVED***specified***REMOVED***it***REMOVED***will***REMOVED***return:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***{***REMOVED***wasi_snapshot_preview1:***REMOVED***wasi.wasiImport***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v19.8.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***getImportObject():***REMOVED***object;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Attempt***REMOVED***to***REMOVED***begin***REMOVED***execution***REMOVED***of***REMOVED***`instance`***REMOVED***as***REMOVED***a***REMOVED***WASI***REMOVED***command***REMOVED***by***REMOVED***invoking***REMOVED***its***REMOVED***`_start()`***REMOVED***export.***REMOVED***If***REMOVED***`instance`***REMOVED***does***REMOVED***not***REMOVED***contain***REMOVED***a***REMOVED***`_start()`***REMOVED***export,***REMOVED***or***REMOVED***if***REMOVED***`instance`***REMOVED***contains***REMOVED***an***REMOVED***`_initialize()`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***export,***REMOVED***then***REMOVED***an***REMOVED***exception***REMOVED***is***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`start()`***REMOVED***requires***REMOVED***that***REMOVED***`instance`***REMOVED***exports***REMOVED***a***REMOVED***[`WebAssembly.Memory`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Memory)***REMOVED***named***REMOVED***`memory`.***REMOVED***If
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`instance`***REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***a***REMOVED***`memory`***REMOVED***export***REMOVED***an***REMOVED***exception***REMOVED***is***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`start()`***REMOVED***is***REMOVED***called***REMOVED***more***REMOVED***than***REMOVED***once,***REMOVED***an***REMOVED***exception***REMOVED***is***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v13.3.0,***REMOVED***v12.16.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***start(instance:***REMOVED***object):***REMOVED***number;***REMOVED***//***REMOVED***TODO:***REMOVED***avoid***REMOVED***DOM***REMOVED***dependency***REMOVED***until***REMOVED***WASM***REMOVED***moved***REMOVED***to***REMOVED***own***REMOVED***lib.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Attempt***REMOVED***to***REMOVED***initialize***REMOVED***`instance`***REMOVED***as***REMOVED***a***REMOVED***WASI***REMOVED***reactor***REMOVED***by***REMOVED***invoking***REMOVED***its***REMOVED***`_initialize()`***REMOVED***export,***REMOVED***if***REMOVED***it***REMOVED***is***REMOVED***present.***REMOVED***If***REMOVED***`instance`***REMOVED***contains***REMOVED***a***REMOVED***`_start()`***REMOVED***export,***REMOVED***then***REMOVED***an***REMOVED***exception***REMOVED***is***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`initialize()`***REMOVED***requires***REMOVED***that***REMOVED***`instance`***REMOVED***exports***REMOVED***a***REMOVED***[`WebAssembly.Memory`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Memory)***REMOVED***named***REMOVED***`memory`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`instance`***REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***a***REMOVED***`memory`***REMOVED***export***REMOVED***an***REMOVED***exception***REMOVED***is***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`initialize()`***REMOVED***is***REMOVED***called***REMOVED***more***REMOVED***than***REMOVED***once,***REMOVED***an***REMOVED***exception***REMOVED***is***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v14.6.0,***REMOVED***v12.19.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initialize(instance:***REMOVED***object):***REMOVED***void;***REMOVED***//***REMOVED***TODO:***REMOVED***avoid***REMOVED***DOM***REMOVED***dependency***REMOVED***until***REMOVED***WASM***REMOVED***moved***REMOVED***to***REMOVED***own***REMOVED***lib.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`wasiImport`***REMOVED***is***REMOVED***an***REMOVED***object***REMOVED***that***REMOVED***implements***REMOVED***the***REMOVED***WASI***REMOVED***system***REMOVED***call***REMOVED***API.***REMOVED***This***REMOVED***object
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***should***REMOVED***be***REMOVED***passed***REMOVED***as***REMOVED***the***REMOVED***`wasi_snapshot_preview1`***REMOVED***import***REMOVED***during***REMOVED***the***REMOVED***instantiation
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***of***REMOVED***a***REMOVED***[`WebAssembly.Instance`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Instance).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v13.3.0,***REMOVED***v12.16.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***readonly***REMOVED***wasiImport:***REMOVED***NodeJS.Dict<any>;***REMOVED***//***REMOVED***TODO:***REMOVED***Narrow***REMOVED***to***REMOVED***DOM***REMOVED***types
***REMOVED******REMOVED******REMOVED******REMOVED***}
}
declare***REMOVED***module***REMOVED***"node:wasi"***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***export***REMOVED*******REMOVED***from***REMOVED***"wasi";
}
