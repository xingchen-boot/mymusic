{"version":3,"file":"tab-bar2.js","sources":["../../../../../../packages/components/tabs/src/tab-bar.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<div\n***REMOVED******REMOVED******REMOVED******REMOVED***ref=\"barRef\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:class=\"[ns.e('active-bar'),***REMOVED***ns.is(rootTabs!.props.tabPosition)]\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:style=\"barStyle\"\n***REMOVED******REMOVED***/>\n</template>\n\n<script***REMOVED***lang=\"ts\"***REMOVED***setup>\nimport***REMOVED***{***REMOVED***inject,***REMOVED***nextTick,***REMOVED***onBeforeUnmount,***REMOVED***ref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useResizeObserver***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core'\nimport***REMOVED***{***REMOVED***capitalize,***REMOVED***isUndefined,***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***tabsRootContextKey***REMOVED***}***REMOVED***from***REMOVED***'./constants'\nimport***REMOVED***{***REMOVED***tabBarProps***REMOVED***}***REMOVED***from***REMOVED***'./tab-bar'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***CSSProperties***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\nconst***REMOVED***COMPONENT_NAME***REMOVED***=***REMOVED***'ElTabBar'\ndefineOptions({\n***REMOVED******REMOVED***name:***REMOVED***COMPONENT_NAME,\n})\nconst***REMOVED***props***REMOVED***=***REMOVED***defineProps(tabBarProps)\n\nconst***REMOVED***rootTabs***REMOVED***=***REMOVED***inject(tabsRootContextKey)\nif***REMOVED***(!rootTabs)***REMOVED***throwError(COMPONENT_NAME,***REMOVED***'<el-tabs><el-tab-bar***REMOVED***/></el-tabs>')\n\nconst***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('tabs')\n\nconst***REMOVED***barRef***REMOVED***=***REMOVED***ref<HTMLDivElement>()\nconst***REMOVED***barStyle***REMOVED***=***REMOVED***ref<CSSProperties>()\n\nconst***REMOVED***getBarStyle***REMOVED***=***REMOVED***():***REMOVED***CSSProperties***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***let***REMOVED***offset***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED***let***REMOVED***tabSize***REMOVED***=***REMOVED***0\n\n***REMOVED******REMOVED***const***REMOVED***sizeName***REMOVED***=***REMOVED***['top',***REMOVED***'bottom'].includes(rootTabs.props.tabPosition)\n***REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***'width'\n***REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***'height'\n***REMOVED******REMOVED***const***REMOVED***sizeDir***REMOVED***=***REMOVED***sizeName***REMOVED***===***REMOVED***'width'***REMOVED***?***REMOVED***'x'***REMOVED***:***REMOVED***'y'\n***REMOVED******REMOVED***const***REMOVED***position***REMOVED***=***REMOVED***sizeDir***REMOVED***===***REMOVED***'x'***REMOVED***?***REMOVED***'left'***REMOVED***:***REMOVED***'top'\n\n***REMOVED******REMOVED***props.tabs.every((tab)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isUndefined(tab.paneName))***REMOVED***return***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***$el***REMOVED***=***REMOVED***props.tabRefs[tab.paneName]\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!$el)***REMOVED***return***REMOVED***false\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!tab.active)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***offset***REMOVED***=***REMOVED***$el[`offset${capitalize(position)}`]\n***REMOVED******REMOVED******REMOVED******REMOVED***tabSize***REMOVED***=***REMOVED***$el[`client${capitalize(sizeName)}`]\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***tabStyles***REMOVED***=***REMOVED***window.getComputedStyle($el)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(sizeName***REMOVED***===***REMOVED***'width')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tabSize***REMOVED***-=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Number.parseFloat(tabStyles.paddingLeft)***REMOVED***+\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Number.parseFloat(tabStyles.paddingRight)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset***REMOVED***+=***REMOVED***Number.parseFloat(tabStyles.paddingLeft)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***[sizeName]:***REMOVED***`${tabSize}px`,\n***REMOVED******REMOVED******REMOVED******REMOVED***transform:***REMOVED***`translate${capitalize(sizeDir)}(${offset}px)`,\n***REMOVED******REMOVED***}\n}\n\nconst***REMOVED***update***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***(barStyle.value***REMOVED***=***REMOVED***getBarStyle())\n\nconst***REMOVED***tabObservers***REMOVED***=***REMOVED***[]***REMOVED***as***REMOVED***ReturnType<typeof***REMOVED***useResizeObserver>[]\nconst***REMOVED***observerTabs***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***tabObservers.forEach((observer)***REMOVED***=>***REMOVED***observer.stop())\n***REMOVED******REMOVED***tabObservers.length***REMOVED***=***REMOVED***0\n\n***REMOVED******REMOVED***Object.values(props.tabRefs).forEach((tab)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***tabObservers.push(useResizeObserver(tab,***REMOVED***update))\n***REMOVED******REMOVED***})\n}\n\nwatch(\n***REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.tabs,\n***REMOVED******REMOVED***async***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***await***REMOVED***nextTick()\n***REMOVED******REMOVED******REMOVED******REMOVED***update()\n\n***REMOVED******REMOVED******REMOVED******REMOVED***observerTabs()\n***REMOVED******REMOVED***},\n***REMOVED******REMOVED***{***REMOVED***immediate:***REMOVED***true***REMOVED***}\n)\nconst***REMOVED***barObserver***REMOVED***=***REMOVED***useResizeObserver(barRef,***REMOVED***()***REMOVED***=>***REMOVED***update())\n\nonBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***tabObservers.forEach((observer)***REMOVED***=>***REMOVED***observer.stop())\n***REMOVED******REMOVED***tabObservers.length***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED***barObserver.stop()\n})\n\ndefineExpose({\n***REMOVED******REMOVED***/*****REMOVED***@description***REMOVED***tab***REMOVED***root***REMOVED***html***REMOVED***element***REMOVED****/\n***REMOVED******REMOVED***ref:***REMOVED***barRef,\n***REMOVED******REMOVED***/*****REMOVED***@description***REMOVED***method***REMOVED***to***REMOVED***manually***REMOVED***update***REMOVED***tab***REMOVED***bar***REMOVED***style***REMOVED****/\n***REMOVED******REMOVED***update,\n})\n</script>\n"],"names":["inject","tabsRootContextKey","throwError","isUndefined","capitalize","useResizeObserver","watch","nextTick","onBeforeUnmount","_openBlock","_createElementBlock"],"mappings":"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"}