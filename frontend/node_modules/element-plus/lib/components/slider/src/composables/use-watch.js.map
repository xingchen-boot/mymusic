{"version":3,"file":"use-watch.js","sources":["../../../../../../../packages/components/slider/src/composables/use-watch.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***INPUT_EVENT,***REMOVED***UPDATE_MODEL_EVENT***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/constants'\nimport***REMOVED***{***REMOVED***debugWarn,***REMOVED***isArray,***REMOVED***isNumber,***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ComputedRef,***REMOVED***SetupContext***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***Arrayable***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***type***REMOVED***{***REMOVED***FormItemContext***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/form'\nimport***REMOVED***type***REMOVED***{***REMOVED***SliderEmits,***REMOVED***SliderInitData,***REMOVED***SliderProps***REMOVED***}***REMOVED***from***REMOVED***'../slider'\n\nexport***REMOVED***const***REMOVED***useWatch***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***SliderProps,\n***REMOVED******REMOVED***initData:***REMOVED***SliderInitData,\n***REMOVED******REMOVED***minValue:***REMOVED***ComputedRef<number>,\n***REMOVED******REMOVED***maxValue:***REMOVED***ComputedRef<number>,\n***REMOVED******REMOVED***emit:***REMOVED***SetupContext<SliderEmits>['emit'],\n***REMOVED******REMOVED***elFormItem:***REMOVED***FormItemContext\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***_emit***REMOVED***=***REMOVED***(val:***REMOVED***Arrayable<number>)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***emit(UPDATE_MODEL_EVENT,***REMOVED***val)\n***REMOVED******REMOVED******REMOVED******REMOVED***emit(INPUT_EVENT,***REMOVED***val)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***valueChanged***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.range)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***![minValue.value,***REMOVED***maxValue.value].every(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(item,***REMOVED***index)***REMOVED***=>***REMOVED***item***REMOVED***===***REMOVED***(initData.oldValue***REMOVED***as***REMOVED***number[])[index]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.modelValue***REMOVED***!==***REMOVED***initData.oldValue\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***setValues***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.min***REMOVED***>***REMOVED***props.max)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throwError('Slider',***REMOVED***'min***REMOVED***should***REMOVED***not***REMOVED***be***REMOVED***greater***REMOVED***than***REMOVED***max.')\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***val***REMOVED***=***REMOVED***props.modelValue\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.range***REMOVED***&&***REMOVED***isArray(val))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(val[1]***REMOVED***<***REMOVED***props.min)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([props.min,***REMOVED***props.min])\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val[0]***REMOVED***>***REMOVED***props.max)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([props.max,***REMOVED***props.max])\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val[0]***REMOVED***<***REMOVED***props.min)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([props.min,***REMOVED***val[1]])\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val[1]***REMOVED***>***REMOVED***props.max)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([val[0],***REMOVED***props.max])\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.firstValue***REMOVED***=***REMOVED***val[0]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.secondValue***REMOVED***=***REMOVED***val[1]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(valueChanged())***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.validateEvent)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***elFormItem?.validate?.('change').catch((err)***REMOVED***=>***REMOVED***debugWarn(err))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.oldValue***REMOVED***=***REMOVED***val.slice()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(!props.range***REMOVED***&&***REMOVED***isNumber(val)***REMOVED***&&***REMOVED***!Number.isNaN(val))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(val***REMOVED***<***REMOVED***props.min)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit(props.min)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val***REMOVED***>***REMOVED***props.max)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit(props.max)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.firstValue***REMOVED***=***REMOVED***val\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(valueChanged())***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.validateEvent)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***elFormItem?.validate?.('change').catch((err)***REMOVED***=>***REMOVED***debugWarn(err))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.oldValue***REMOVED***=***REMOVED***val\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***setValues()\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***initData.dragging,\n***REMOVED******REMOVED******REMOVED******REMOVED***(val)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!val)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***setValues()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.modelValue,\n***REMOVED******REMOVED******REMOVED******REMOVED***(val,***REMOVED***oldVal)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.dragging***REMOVED***||\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(isArray(val)***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isArray(oldVal)***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***val.every((item,***REMOVED***index)***REMOVED***=>***REMOVED***item***REMOVED***===***REMOVED***oldVal[index])***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.firstValue***REMOVED***===***REMOVED***val[0]***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.secondValue***REMOVED***===***REMOVED***val[1])\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***setValues()\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***deep:***REMOVED***true,\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***[props.min,***REMOVED***props.max],\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***setValues()\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n}\n"],"names":["UPDATE_MODEL_EVENT","INPUT_EVENT","throwError","isArray","debugWarn","isNumber","watch"],"mappings":"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"}