'use***REMOVED***strict';

Object.defineProperty(exports,***REMOVED***'__esModule',***REMOVED***{***REMOVED***value:***REMOVED***true***REMOVED***});

var***REMOVED***vue***REMOVED***=***REMOVED***require('vue');
var***REMOVED***draggable***REMOVED***=***REMOVED***require('../utils/draggable.js');
var***REMOVED***position***REMOVED***=***REMOVED***require('../../../../utils/dom/position.js');
var***REMOVED***index***REMOVED***=***REMOVED***require('../../../../hooks/use-locale/index.js');
var***REMOVED***aria***REMOVED***=***REMOVED***require('../../../../constants/aria.js');
var***REMOVED***index$1***REMOVED***=***REMOVED***require('../../../../hooks/use-namespace/index.js');
var***REMOVED***style***REMOVED***=***REMOVED***require('../../../../utils/dom/style.js');

const***REMOVED***useAlphaSlider***REMOVED***=***REMOVED***(props)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***vue.getCurrentInstance();
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***t***REMOVED***}***REMOVED***=***REMOVED***index.useLocale();
***REMOVED******REMOVED***const***REMOVED***thumb***REMOVED***=***REMOVED***vue.shallowRef();
***REMOVED******REMOVED***const***REMOVED***bar***REMOVED***=***REMOVED***vue.shallowRef();
***REMOVED******REMOVED***const***REMOVED***alpha***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***props.color.get("alpha"));
***REMOVED******REMOVED***const***REMOVED***alphaLabel***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***t("el.colorpicker.alphaLabel"));
***REMOVED******REMOVED***function***REMOVED***handleClick(event)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.disabled)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***event.target;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target***REMOVED***!==***REMOVED***thumb.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***handleDrag(event);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***(_a***REMOVED***=***REMOVED***thumb.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.focus();
***REMOVED******REMOVED***}
***REMOVED******REMOVED***function***REMOVED***handleDrag(event)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!bar.value***REMOVED***||***REMOVED***!thumb.value***REMOVED***||***REMOVED***props.disabled)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***el***REMOVED***=***REMOVED***instance.vnode.el;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***rect***REMOVED***=***REMOVED***el.getBoundingClientRect();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***clientX,***REMOVED***clientY***REMOVED***}***REMOVED***=***REMOVED***position.getClientXY(event);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.vertical)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***left***REMOVED***=***REMOVED***clientX***REMOVED***-***REMOVED***rect.left;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***left***REMOVED***=***REMOVED***Math.max(thumb.value.offsetWidth***REMOVED***/***REMOVED***2,***REMOVED***left);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***left***REMOVED***=***REMOVED***Math.min(left,***REMOVED***rect.width***REMOVED***-***REMOVED***thumb.value.offsetWidth***REMOVED***/***REMOVED***2);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.color.set("alpha",***REMOVED***Math.round((left***REMOVED***-***REMOVED***thumb.value.offsetWidth***REMOVED***/***REMOVED***2)***REMOVED***/***REMOVED***(rect.width***REMOVED***-***REMOVED***thumb.value.offsetWidth)***REMOVED*******REMOVED***100));
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***top***REMOVED***=***REMOVED***clientY***REMOVED***-***REMOVED***rect.top;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***top***REMOVED***=***REMOVED***Math.max(thumb.value.offsetHeight***REMOVED***/***REMOVED***2,***REMOVED***top);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***top***REMOVED***=***REMOVED***Math.min(top,***REMOVED***rect.height***REMOVED***-***REMOVED***thumb.value.offsetHeight***REMOVED***/***REMOVED***2);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.color.set("alpha",***REMOVED***Math.round((top***REMOVED***-***REMOVED***thumb.value.offsetHeight***REMOVED***/***REMOVED***2)***REMOVED***/***REMOVED***(rect.height***REMOVED***-***REMOVED***thumb.value.offsetHeight)***REMOVED*******REMOVED***100));
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***function***REMOVED***handleKeydown(event)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.disabled)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***code,***REMOVED***shiftKey***REMOVED***}***REMOVED***=***REMOVED***event;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***step***REMOVED***=***REMOVED***shiftKey***REMOVED***?***REMOVED***10***REMOVED***:***REMOVED***1;
***REMOVED******REMOVED******REMOVED******REMOVED***switch***REMOVED***(code)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***aria.EVENT_CODE.left:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***aria.EVENT_CODE.down:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***event.preventDefault();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***event.stopPropagation();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***incrementPosition(-step);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***break;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***aria.EVENT_CODE.right:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***aria.EVENT_CODE.up:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***event.preventDefault();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***event.stopPropagation();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***incrementPosition(step);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***break;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***function***REMOVED***incrementPosition(step)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***next***REMOVED***=***REMOVED***alpha.value***REMOVED***+***REMOVED***step;
***REMOVED******REMOVED******REMOVED******REMOVED***next***REMOVED***=***REMOVED***next***REMOVED***<***REMOVED***0***REMOVED***?***REMOVED***0***REMOVED***:***REMOVED***next***REMOVED***>***REMOVED***100***REMOVED***?***REMOVED***100***REMOVED***:***REMOVED***next;
***REMOVED******REMOVED******REMOVED******REMOVED***props.color.set("alpha",***REMOVED***next);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***thumb,
***REMOVED******REMOVED******REMOVED******REMOVED***bar,
***REMOVED******REMOVED******REMOVED******REMOVED***alpha,
***REMOVED******REMOVED******REMOVED******REMOVED***alphaLabel,
***REMOVED******REMOVED******REMOVED******REMOVED***handleDrag,
***REMOVED******REMOVED******REMOVED******REMOVED***handleClick,
***REMOVED******REMOVED******REMOVED******REMOVED***handleKeydown
***REMOVED******REMOVED***};
};
const***REMOVED***useAlphaSliderDOM***REMOVED***=***REMOVED***(props,***REMOVED***{
***REMOVED******REMOVED***bar,
***REMOVED******REMOVED***thumb,
***REMOVED******REMOVED***handleDrag
})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***vue.getCurrentInstance();
***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***index$1.useNamespace("color-alpha-slider");
***REMOVED******REMOVED***const***REMOVED***thumbLeft***REMOVED***=***REMOVED***vue.ref(0);
***REMOVED******REMOVED***const***REMOVED***thumbTop***REMOVED***=***REMOVED***vue.ref(0);
***REMOVED******REMOVED***const***REMOVED***background***REMOVED***=***REMOVED***vue.ref();
***REMOVED******REMOVED***function***REMOVED***getThumbLeft()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!thumb.value)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.vertical)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***el***REMOVED***=***REMOVED***instance.vnode.el;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***alpha***REMOVED***=***REMOVED***props.color.get("alpha");
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!el)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Math.round(alpha***REMOVED*******REMOVED***(el.offsetWidth***REMOVED***-***REMOVED***thumb.value.offsetWidth***REMOVED***/***REMOVED***2)***REMOVED***/***REMOVED***100);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***function***REMOVED***getThumbTop()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!thumb.value)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***el***REMOVED***=***REMOVED***instance.vnode.el;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.vertical)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***alpha***REMOVED***=***REMOVED***props.color.get("alpha");
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!el)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Math.round(alpha***REMOVED*******REMOVED***(el.offsetHeight***REMOVED***-***REMOVED***thumb.value.offsetHeight***REMOVED***/***REMOVED***2)***REMOVED***/***REMOVED***100);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***function***REMOVED***getBackground()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.color***REMOVED***&&***REMOVED***props.color.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***r,***REMOVED***g,***REMOVED***b***REMOVED***}***REMOVED***=***REMOVED***props.color.toRgb();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***`linear-gradient(to***REMOVED***right,***REMOVED***rgba(${r},***REMOVED***${g},***REMOVED***${b},***REMOVED***0)***REMOVED***0%,***REMOVED***rgba(${r},***REMOVED***${g},***REMOVED***${b},***REMOVED***1)***REMOVED***100%)`;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***"";
***REMOVED******REMOVED***}
***REMOVED******REMOVED***function***REMOVED***update()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***thumbLeft.value***REMOVED***=***REMOVED***getThumbLeft();
***REMOVED******REMOVED******REMOVED******REMOVED***thumbTop.value***REMOVED***=***REMOVED***getThumbTop();
***REMOVED******REMOVED******REMOVED******REMOVED***background.value***REMOVED***=***REMOVED***getBackground();
***REMOVED******REMOVED***}
***REMOVED******REMOVED***vue.onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!bar.value***REMOVED***||***REMOVED***!thumb.value)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***dragConfig***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***drag:***REMOVED***(event)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***handleDrag(event);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end:***REMOVED***(event)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***handleDrag(event);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***draggable.draggable(bar.value,***REMOVED***dragConfig);
***REMOVED******REMOVED******REMOVED******REMOVED***draggable.draggable(thumb.value,***REMOVED***dragConfig);
***REMOVED******REMOVED******REMOVED******REMOVED***update();
***REMOVED******REMOVED***});
***REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***props.color.get("alpha"),***REMOVED***()***REMOVED***=>***REMOVED***update());
***REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***props.color.value,***REMOVED***()***REMOVED***=>***REMOVED***update());
***REMOVED******REMOVED***const***REMOVED***rootKls***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED***ns.b(),
***REMOVED******REMOVED******REMOVED******REMOVED***ns.is("vertical",***REMOVED***props.vertical),
***REMOVED******REMOVED******REMOVED******REMOVED***ns.is("disabled",***REMOVED***props.disabled)
***REMOVED******REMOVED***]);
***REMOVED******REMOVED***const***REMOVED***barKls***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***ns.e("bar"));
***REMOVED******REMOVED***const***REMOVED***thumbKls***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***ns.e("thumb"));
***REMOVED******REMOVED***const***REMOVED***barStyle***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***({***REMOVED***background:***REMOVED***background.value***REMOVED***}));
***REMOVED******REMOVED***const***REMOVED***thumbStyle***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***({
***REMOVED******REMOVED******REMOVED******REMOVED***left:***REMOVED***style.addUnit(thumbLeft.value),
***REMOVED******REMOVED******REMOVED******REMOVED***top:***REMOVED***style.addUnit(thumbTop.value)
***REMOVED******REMOVED***}));
***REMOVED******REMOVED***return***REMOVED***{***REMOVED***rootKls,***REMOVED***barKls,***REMOVED***barStyle,***REMOVED***thumbKls,***REMOVED***thumbStyle,***REMOVED***update***REMOVED***};
};

exports.useAlphaSlider***REMOVED***=***REMOVED***useAlphaSlider;
exports.useAlphaSliderDOM***REMOVED***=***REMOVED***useAlphaSliderDOM;
//#***REMOVED***sourceMappingURL=use-alpha-slider.js.map
