{"version":3,"file":"useResizable.js","sources":["../../../../../../../packages/components/drawer/src/composables/useResizable.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***onBeforeUnmount,***REMOVED***ref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***addUnit***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***clamp,***REMOVED***useEventListener,***REMOVED***useWindowSize***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***DrawerProps***REMOVED***}***REMOVED***from***REMOVED***'../drawer'\n\nexport***REMOVED***function***REMOVED***useResizable(\n***REMOVED******REMOVED***props:***REMOVED***DrawerProps,\n***REMOVED******REMOVED***target:***REMOVED***Ref<HTMLElement***REMOVED***|***REMOVED***undefined>\n)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***width,***REMOVED***height***REMOVED***}***REMOVED***=***REMOVED***useWindowSize()\n\n***REMOVED******REMOVED***const***REMOVED***isHorizontal***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***['ltr',***REMOVED***'rtl'].includes(props.direction))\n***REMOVED******REMOVED***const***REMOVED***sign***REMOVED***=***REMOVED***computed(()***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***['ltr',***REMOVED***'ttb'].includes(props.direction)***REMOVED***?***REMOVED***1***REMOVED***:***REMOVED***-1\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED***const***REMOVED***windowSize***REMOVED***=***REMOVED***computed(()***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***isHorizontal.value***REMOVED***?***REMOVED***width.value***REMOVED***:***REMOVED***height.value\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED***const***REMOVED***getSize***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***clamp(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startSize.value***REMOVED***+***REMOVED***sign.value***REMOVED*******REMOVED***offset.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***4,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***windowSize.value\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***startSize***REMOVED***=***REMOVED***ref(0)\n***REMOVED******REMOVED***const***REMOVED***offset***REMOVED***=***REMOVED***ref(0)\n***REMOVED******REMOVED***const***REMOVED***isResizing***REMOVED***=***REMOVED***ref(false)\n***REMOVED******REMOVED***const***REMOVED***hasStartedDragging***REMOVED***=***REMOVED***ref(false)\n***REMOVED******REMOVED***let***REMOVED***startPos:***REMOVED***number[]***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED***let***REMOVED***cleanups:***REMOVED***(()***REMOVED***=>***REMOVED***void)[]***REMOVED***=***REMOVED***[]\n\n***REMOVED******REMOVED***const***REMOVED***getActualSize***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***drawerEl***REMOVED***=***REMOVED***target.value?.closest('[aria-modal=\"true\"]')***REMOVED***as***REMOVED***HTMLElement\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(drawerEl)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***isHorizontal.value***REMOVED***?***REMOVED***drawerEl.offsetWidth***REMOVED***:***REMOVED***drawerEl.offsetHeight\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***100\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***[props.size,***REMOVED***props.resizable]***REMOVED***as***REMOVED***const,\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***hasStartedDragging.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startSize.value***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset.value***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onMouseUp()\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***onMousedown***REMOVED***=***REMOVED***(e:***REMOVED***MouseEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.resizable)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!hasStartedDragging.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startSize.value***REMOVED***=***REMOVED***getActualSize()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***hasStartedDragging.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***startPos***REMOVED***=***REMOVED***[e.pageX,***REMOVED***e.pageY]\n***REMOVED******REMOVED******REMOVED******REMOVED***isResizing.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***cleanups.push(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***useEventListener(window,***REMOVED***'mouseup',***REMOVED***onMouseUp),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***useEventListener(window,***REMOVED***'mousemove',***REMOVED***onMouseMove)\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onMouseMove***REMOVED***=***REMOVED***(e:***REMOVED***MouseEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***pageX,***REMOVED***pageY***REMOVED***}***REMOVED***=***REMOVED***e\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***offsetX***REMOVED***=***REMOVED***pageX***REMOVED***-***REMOVED***startPos[0]\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***offsetY***REMOVED***=***REMOVED***pageY***REMOVED***-***REMOVED***startPos[1]\n***REMOVED******REMOVED******REMOVED******REMOVED***offset.value***REMOVED***=***REMOVED***isHorizontal.value***REMOVED***?***REMOVED***offsetX***REMOVED***:***REMOVED***offsetY\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onMouseUp***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***startPos***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED******REMOVED******REMOVED***startSize.value***REMOVED***=***REMOVED***getSize.value\n***REMOVED******REMOVED******REMOVED******REMOVED***offset.value***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED***isResizing.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED***cleanups.forEach((cleanup)***REMOVED***=>***REMOVED***cleanup?.())\n***REMOVED******REMOVED******REMOVED******REMOVED***cleanups***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***cleanup***REMOVED***=***REMOVED***useEventListener(target,***REMOVED***'mousedown',***REMOVED***onMousedown)\n\n***REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***cleanup()\n***REMOVED******REMOVED******REMOVED******REMOVED***onMouseUp()\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***size:***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***hasStartedDragging.value\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***`${getSize.value}px`\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***addUnit(props.size)\n***REMOVED******REMOVED******REMOVED******REMOVED***}),\n***REMOVED******REMOVED******REMOVED******REMOVED***isResizing,\n***REMOVED******REMOVED******REMOVED******REMOVED***isHorizontal,\n***REMOVED******REMOVED***}\n}\n"],"names":["useWindowSize","computed","clamp","ref","watch","useEventListener","onBeforeUnmount","addUnit"],"mappings":"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"}