{"version":3,"file":"use-checkbox-event.js","sources":["../../../../../../../packages/components/checkbox/src/composables/use-checkbox-event.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***getCurrentInstance,***REMOVED***inject,***REMOVED***nextTick,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useFormItem***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/form'\nimport***REMOVED***{***REMOVED***debugWarn***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***CHANGE_EVENT***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/constants'\nimport***REMOVED***{***REMOVED***checkboxGroupContextKey***REMOVED***}***REMOVED***from***REMOVED***'../constants'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***useFormItemInputId***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/form'\nimport***REMOVED***type***REMOVED***{***REMOVED***CheckboxProps***REMOVED***}***REMOVED***from***REMOVED***'../checkbox'\nimport***REMOVED***type***REMOVED***{\n***REMOVED******REMOVED***CheckboxDisabled,\n***REMOVED******REMOVED***CheckboxModel,\n***REMOVED******REMOVED***CheckboxStatus,\n}***REMOVED***from***REMOVED***'../composables'\n\nexport***REMOVED***const***REMOVED***useCheckboxEvent***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***CheckboxProps,\n***REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***model,\n***REMOVED******REMOVED******REMOVED******REMOVED***isLimitExceeded,\n***REMOVED******REMOVED******REMOVED******REMOVED***hasOwnLabel,\n***REMOVED******REMOVED******REMOVED******REMOVED***isDisabled,\n***REMOVED******REMOVED******REMOVED******REMOVED***isLabeledByFormItem,\n***REMOVED******REMOVED***}:***REMOVED***Pick<CheckboxModel,***REMOVED***'model'***REMOVED***|***REMOVED***'isLimitExceeded'>***REMOVED***&\n***REMOVED******REMOVED******REMOVED******REMOVED***Pick<CheckboxStatus,***REMOVED***'hasOwnLabel'>***REMOVED***&\n***REMOVED******REMOVED******REMOVED******REMOVED***Pick<CheckboxDisabled,***REMOVED***'isDisabled'>***REMOVED***&\n***REMOVED******REMOVED******REMOVED******REMOVED***Pick<ReturnType<typeof***REMOVED***useFormItemInputId>,***REMOVED***'isLabeledByFormItem'>\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***checkboxGroup***REMOVED***=***REMOVED***inject(checkboxGroupContextKey,***REMOVED***undefined)\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***formItem***REMOVED***}***REMOVED***=***REMOVED***useFormItem()\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***emit***REMOVED***}***REMOVED***=***REMOVED***getCurrentInstance()!\n\n***REMOVED******REMOVED***function***REMOVED***getLabeledValue(value:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***boolean)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[true,***REMOVED***props.trueValue,***REMOVED***props.trueLabel].includes(value)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***props.trueValue***REMOVED***??***REMOVED***props.trueLabel***REMOVED***??***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***props.falseValue***REMOVED***??***REMOVED***props.falseLabel***REMOVED***??***REMOVED***false\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***function***REMOVED***emitChangeEvent(\n***REMOVED******REMOVED******REMOVED******REMOVED***checked:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***boolean,\n***REMOVED******REMOVED******REMOVED******REMOVED***e:***REMOVED***InputEvent***REMOVED***|***REMOVED***MouseEvent\n***REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***emit(CHANGE_EVENT,***REMOVED***getLabeledValue(checked),***REMOVED***e)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***function***REMOVED***handleChange(e:***REMOVED***Event)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isLimitExceeded.value)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***e.target***REMOVED***as***REMOVED***HTMLInputElement\n***REMOVED******REMOVED******REMOVED******REMOVED***emit(CHANGE_EVENT,***REMOVED***getLabeledValue(target.checked),***REMOVED***e)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***async***REMOVED***function***REMOVED***onClickRoot(e:***REMOVED***MouseEvent)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isLimitExceeded.value)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!hasOwnLabel.value***REMOVED***&&***REMOVED***!isDisabled.value***REMOVED***&&***REMOVED***isLabeledByFormItem.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***fix:***REMOVED***https://github.com/element-plus/element-plus/issues/9981\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***eventTargets:***REMOVED***EventTarget[]***REMOVED***=***REMOVED***e.composedPath()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***hasLabel***REMOVED***=***REMOVED***eventTargets.some(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(item)***REMOVED***=>***REMOVED***(item***REMOVED***as***REMOVED***HTMLElement).tagName***REMOVED***===***REMOVED***'LABEL'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!hasLabel)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***model.value***REMOVED***=***REMOVED***getLabeledValue(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***[false,***REMOVED***props.falseValue,***REMOVED***props.falseLabel].includes(model.value)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***await***REMOVED***nextTick()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emitChangeEvent(model.value,***REMOVED***e)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***validateEvent***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***checkboxGroup?.validateEvent***REMOVED***||***REMOVED***props.validateEvent\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.modelValue,\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(validateEvent.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formItem?.validate('change').catch((err)***REMOVED***=>***REMOVED***debugWarn(err))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***handleChange,\n***REMOVED******REMOVED******REMOVED******REMOVED***onClickRoot,\n***REMOVED******REMOVED***}\n}\n"],"names":["inject","checkboxGroupContextKey","useFormItem","getCurrentInstance","CHANGE_EVENT","nextTick","computed","watch","debugWarn"],"mappings":"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"}