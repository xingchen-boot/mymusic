{"version":3,"file":"mention-dropdown2.js","sources":["../../../../../../packages/components/mention/src/mention-dropdown.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<div***REMOVED***ref=\"dropdownRef\"***REMOVED***:class=\"ns.b('dropdown')\">\n***REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***v-if=\"$slots.header\"***REMOVED***:class=\"ns.be('dropdown',***REMOVED***'header')\">\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***name=\"header\"***REMOVED***/>\n***REMOVED******REMOVED******REMOVED******REMOVED***</div>\n***REMOVED******REMOVED******REMOVED******REMOVED***<el-scrollbar\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***v-show=\"options.length***REMOVED***>***REMOVED***0***REMOVED***&&***REMOVED***!loading\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:id=\"contentId\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ref=\"scrollbarRef\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tag=\"ul\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:wrap-class=\"ns.be('dropdown',***REMOVED***'wrap')\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:view-class=\"ns.be('dropdown',***REMOVED***'list')\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***role=\"listbox\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:aria-label=\"ariaLabel\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***aria-orientation=\"vertical\"\n***REMOVED******REMOVED******REMOVED******REMOVED***>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<li\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***v-for=\"(item,***REMOVED***index)***REMOVED***in***REMOVED***options\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:id=\"`${contentId}-${index}`\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ref=\"optionRefs\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:key=\"index\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:class=\"optionkls(item,***REMOVED***index)\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***role=\"option\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:aria-disabled=\"item.disabled***REMOVED***||***REMOVED***disabled***REMOVED***||***REMOVED***undefined\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:aria-selected=\"hoveringIndex***REMOVED***===***REMOVED***index\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***@mousemove=\"handleMouseEnter(index)\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***@click.stop=\"handleSelect(item)\"\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***name=\"label\"***REMOVED***:item=\"item\"***REMOVED***:index=\"index\">\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<span>{{***REMOVED***item.label***REMOVED***??***REMOVED***item.value***REMOVED***}}</span>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</slot>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</li>\n***REMOVED******REMOVED******REMOVED******REMOVED***</el-scrollbar>\n***REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***v-if=\"loading\"***REMOVED***:class=\"ns.be('dropdown',***REMOVED***'loading')\">\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***name=\"loading\">***REMOVED***{{***REMOVED***t('el.mention.loading')***REMOVED***}}***REMOVED***</slot>\n***REMOVED******REMOVED******REMOVED******REMOVED***</div>\n***REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***v-if=\"$slots.footer\"***REMOVED***:class=\"ns.be('dropdown',***REMOVED***'footer')\">\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***name=\"footer\"***REMOVED***/>\n***REMOVED******REMOVED******REMOVED******REMOVED***</div>\n***REMOVED******REMOVED***</div>\n</template>\n\n<script***REMOVED***setup***REMOVED***lang=\"ts\">\nimport***REMOVED***{***REMOVED***computed,***REMOVED***nextTick,***REMOVED***ref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useLocale,***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***scrollIntoView***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***ElScrollbar***REMOVED***from***REMOVED***'@element-plus/components/scrollbar'\nimport***REMOVED***{***REMOVED***mentionDropdownEmits,***REMOVED***mentionDropdownProps***REMOVED***}***REMOVED***from***REMOVED***'./mention-dropdown'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***MentionOption***REMOVED***}***REMOVED***from***REMOVED***'./types'\n\ndefineOptions({\n***REMOVED******REMOVED***name:***REMOVED***'ElMentionDropdown',\n})\n\nconst***REMOVED***props***REMOVED***=***REMOVED***defineProps(mentionDropdownProps)\nconst***REMOVED***emit***REMOVED***=***REMOVED***defineEmits(mentionDropdownEmits)\n\nconst***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('mention')\nconst***REMOVED***{***REMOVED***t***REMOVED***}***REMOVED***=***REMOVED***useLocale()\nconst***REMOVED***hoveringIndex***REMOVED***=***REMOVED***ref(-1)\n\nconst***REMOVED***scrollbarRef***REMOVED***=***REMOVED***ref<InstanceType<typeof***REMOVED***ElScrollbar>>()\nconst***REMOVED***optionRefs***REMOVED***=***REMOVED***ref<HTMLElement[]>()\nconst***REMOVED***dropdownRef***REMOVED***=***REMOVED***ref<HTMLElement>()\n\nconst***REMOVED***optionkls***REMOVED***=***REMOVED***(item:***REMOVED***MentionOption,***REMOVED***index:***REMOVED***number)***REMOVED***=>***REMOVED***[\n***REMOVED******REMOVED***ns.be('dropdown',***REMOVED***'item'),\n***REMOVED******REMOVED***ns.is('hovering',***REMOVED***hoveringIndex.value***REMOVED***===***REMOVED***index),\n***REMOVED******REMOVED***ns.is('disabled',***REMOVED***item.disabled***REMOVED***||***REMOVED***props.disabled),\n]\n\nconst***REMOVED***handleSelect***REMOVED***=***REMOVED***(item:***REMOVED***MentionOption)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(item.disabled***REMOVED***||***REMOVED***props.disabled)***REMOVED***return\n***REMOVED******REMOVED***emit('select',***REMOVED***item)\n}\n\nconst***REMOVED***handleMouseEnter***REMOVED***=***REMOVED***(index:***REMOVED***number)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***hoveringIndex.value***REMOVED***=***REMOVED***index\n}\n\nconst***REMOVED***filteredAllDisabled***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.disabled***REMOVED***||***REMOVED***props.options.every((item)***REMOVED***=>***REMOVED***item.disabled)\n)\n\nconst***REMOVED***hoverOption***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.options[hoveringIndex.value])\n\nconst***REMOVED***selectHoverOption***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!hoverOption.value)***REMOVED***return\n***REMOVED******REMOVED***emit('select',***REMOVED***hoverOption.value)\n}\n\nconst***REMOVED***navigateOptions***REMOVED***=***REMOVED***(direction:***REMOVED***'next'***REMOVED***|***REMOVED***'prev')***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***options***REMOVED***}***REMOVED***=***REMOVED***props\n***REMOVED******REMOVED***if***REMOVED***(options.length***REMOVED***===***REMOVED***0***REMOVED***||***REMOVED***filteredAllDisabled.value)***REMOVED***return\n\n***REMOVED******REMOVED***if***REMOVED***(direction***REMOVED***===***REMOVED***'next')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***hoveringIndex.value++\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hoveringIndex.value***REMOVED***===***REMOVED***options.length)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***hoveringIndex.value***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(direction***REMOVED***===***REMOVED***'prev')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***hoveringIndex.value--\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hoveringIndex.value***REMOVED***<***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***hoveringIndex.value***REMOVED***=***REMOVED***options.length***REMOVED***-***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***const***REMOVED***option***REMOVED***=***REMOVED***options[hoveringIndex.value]\n***REMOVED******REMOVED***if***REMOVED***(option.disabled)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***navigateOptions(direction)\n***REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***nextTick(()***REMOVED***=>***REMOVED***scrollToOption(option))\n}\n\nconst***REMOVED***scrollToOption***REMOVED***=***REMOVED***(option:***REMOVED***MentionOption)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***options***REMOVED***}***REMOVED***=***REMOVED***props\n\n***REMOVED******REMOVED***const***REMOVED***index***REMOVED***=***REMOVED***options.findIndex((item)***REMOVED***=>***REMOVED***item.value***REMOVED***===***REMOVED***option.value)\n***REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***optionRefs.value?.[index]\n\n***REMOVED******REMOVED***if***REMOVED***(target)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***menu***REMOVED***=***REMOVED***dropdownRef.value?.querySelector?.(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***`.${ns.be('dropdown',***REMOVED***'wrap')}`\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(menu)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scrollIntoView(menu***REMOVED***as***REMOVED***HTMLElement,***REMOVED***target)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***scrollbarRef.value?.handleScroll()\n}\n\nconst***REMOVED***resetHoveringIndex***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(filteredAllDisabled.value***REMOVED***||***REMOVED***props.options.length***REMOVED***===***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***hoveringIndex.value***REMOVED***=***REMOVED***-1\n***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***hoveringIndex.value***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED***}\n}\n\nwatch(()***REMOVED***=>***REMOVED***props.options,***REMOVED***resetHoveringIndex,***REMOVED***{\n***REMOVED******REMOVED***immediate:***REMOVED***true,\n})\n\ndefineExpose({\n***REMOVED******REMOVED***hoveringIndex,\n***REMOVED******REMOVED***navigateOptions,\n***REMOVED******REMOVED***selectHoverOption,\n***REMOVED******REMOVED***hoverOption,\n})\n</script>\n"],"names":["useNamespace","useLocale","ref","computed","nextTick","scrollIntoView","watch"],"mappings":"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"}