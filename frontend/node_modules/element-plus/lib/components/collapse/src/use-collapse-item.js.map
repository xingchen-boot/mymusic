{"version":3,"file":"use-collapse-item.js","sources":["../../../../../../packages/components/collapse/src/use-collapse-item.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***inject,***REMOVED***ref,***REMOVED***unref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useIdInjection,***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***collapseContextKey***REMOVED***}***REMOVED***from***REMOVED***'./constants'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***CollapseItemProps***REMOVED***}***REMOVED***from***REMOVED***'./collapse-item'\n\nexport***REMOVED***const***REMOVED***useCollapseItem***REMOVED***=***REMOVED***(props:***REMOVED***CollapseItemProps)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***collapse***REMOVED***=***REMOVED***inject(collapseContextKey)\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***namespace***REMOVED***}***REMOVED***=***REMOVED***useNamespace('collapse')\n\n***REMOVED******REMOVED***const***REMOVED***focusing***REMOVED***=***REMOVED***ref(false)\n***REMOVED******REMOVED***const***REMOVED***isClick***REMOVED***=***REMOVED***ref(false)\n***REMOVED******REMOVED***const***REMOVED***idInjection***REMOVED***=***REMOVED***useIdInjection()\n***REMOVED******REMOVED***const***REMOVED***id***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***idInjection.current++)\n***REMOVED******REMOVED***const***REMOVED***name***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.name***REMOVED***??***REMOVED***`${namespace.value}-id-${idInjection.prefix}-${unref(id)}`\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***isActive***REMOVED***=***REMOVED***computed(()***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***collapse?.activeNames.value.includes(unref(name))\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***handleFocus***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isClick.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusing.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isClick.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***50)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***handleHeaderClick***REMOVED***=***REMOVED***(e:***REMOVED***MouseEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.disabled)***REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***e.target***REMOVED***as***REMOVED***HTMLElement\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target?.closest('input,***REMOVED***textarea,***REMOVED***select'))***REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***collapse?.handleItemClick(unref(name))\n***REMOVED******REMOVED******REMOVED******REMOVED***focusing.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED***isClick.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***handleEnterClick***REMOVED***=***REMOVED***(e:***REMOVED***KeyboardEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***e.target***REMOVED***as***REMOVED***HTMLElement\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target?.closest('input,***REMOVED***textarea,***REMOVED***select'))***REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault()\n***REMOVED******REMOVED******REMOVED******REMOVED***collapse?.handleItemClick(unref(name))\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***focusing,\n***REMOVED******REMOVED******REMOVED******REMOVED***id,\n***REMOVED******REMOVED******REMOVED******REMOVED***isActive,\n***REMOVED******REMOVED******REMOVED******REMOVED***handleFocus,\n***REMOVED******REMOVED******REMOVED******REMOVED***handleHeaderClick,\n***REMOVED******REMOVED******REMOVED******REMOVED***handleEnterClick,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***const***REMOVED***useCollapseItemDOM***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***CollapseItemProps,\n***REMOVED******REMOVED***{***REMOVED***focusing,***REMOVED***isActive,***REMOVED***id***REMOVED***}:***REMOVED***Partial<ReturnType<typeof***REMOVED***useCollapseItem>>\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('collapse')\n\n***REMOVED******REMOVED***const***REMOVED***rootKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED***ns.b('item'),\n***REMOVED******REMOVED******REMOVED******REMOVED***ns.is('active',***REMOVED***unref(isActive)),\n***REMOVED******REMOVED******REMOVED******REMOVED***ns.is('disabled',***REMOVED***props.disabled),\n***REMOVED******REMOVED***])\n***REMOVED******REMOVED***const***REMOVED***headKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED***ns.be('item',***REMOVED***'header'),\n***REMOVED******REMOVED******REMOVED******REMOVED***ns.is('active',***REMOVED***unref(isActive)),\n***REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***focusing:***REMOVED***unref(focusing)***REMOVED***&&***REMOVED***!props.disabled***REMOVED***},\n***REMOVED******REMOVED***])\n***REMOVED******REMOVED***const***REMOVED***arrowKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED***ns.be('item',***REMOVED***'arrow'),\n***REMOVED******REMOVED******REMOVED******REMOVED***ns.is('active',***REMOVED***unref(isActive)),\n***REMOVED******REMOVED***])\n***REMOVED******REMOVED***const***REMOVED***itemTitleKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[ns.be('item',***REMOVED***'title')])\n***REMOVED******REMOVED***const***REMOVED***itemWrapperKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.be('item',***REMOVED***'wrap'))\n***REMOVED******REMOVED***const***REMOVED***itemContentKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.be('item',***REMOVED***'content'))\n***REMOVED******REMOVED***const***REMOVED***scopedContentId***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.b(`content-${unref(id)}`))\n***REMOVED******REMOVED***const***REMOVED***scopedHeadId***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.b(`head-${unref(id)}`))\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***itemTitleKls,\n***REMOVED******REMOVED******REMOVED******REMOVED***arrowKls,\n***REMOVED******REMOVED******REMOVED******REMOVED***headKls,\n***REMOVED******REMOVED******REMOVED******REMOVED***rootKls,\n***REMOVED******REMOVED******REMOVED******REMOVED***itemWrapperKls,\n***REMOVED******REMOVED******REMOVED******REMOVED***itemContentKls,\n***REMOVED******REMOVED******REMOVED******REMOVED***scopedContentId,\n***REMOVED******REMOVED******REMOVED******REMOVED***scopedHeadId,\n***REMOVED******REMOVED***}\n}\n"],"names":["inject","collapseContextKey","useNamespace","ref","useIdInjection","computed","unref"],"mappings":"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"}