{"version":3,"file":"watcher-helper.js","sources":["../../../../../../../packages/components/table/src/table-column/watcher-helper.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***getCurrentInstance,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***hasOwn***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***parseMinWidth,***REMOVED***parseWidth***REMOVED***}***REMOVED***from***REMOVED***'../util'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ComputedRef***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***DefaultRow***REMOVED***}***REMOVED***from***REMOVED***'../table/defaults'\nimport***REMOVED***type***REMOVED***{***REMOVED***TableColumn,***REMOVED***TableColumnCtx,***REMOVED***ValueOf***REMOVED***}***REMOVED***from***REMOVED***'./defaults'\n\nfunction***REMOVED***getAllAliases(props:***REMOVED***string[],***REMOVED***aliases:***REMOVED***Record<string,***REMOVED***string>)***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***props.reduce((prev,***REMOVED***cur)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***prev[cur***REMOVED***as***REMOVED***keyof***REMOVED***typeof***REMOVED***prev]***REMOVED***=***REMOVED***cur\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***prev\n***REMOVED******REMOVED***},***REMOVED***aliases)\n}\nfunction***REMOVED***useWatcher<T***REMOVED***extends***REMOVED***DefaultRow>(\n***REMOVED******REMOVED***owner:***REMOVED***ComputedRef<any>,\n***REMOVED******REMOVED***props_:***REMOVED***Partial<TableColumnCtx<T>>\n)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***getCurrentInstance()***REMOVED***as***REMOVED***TableColumn<T>\n***REMOVED******REMOVED***const***REMOVED***registerComplexWatchers***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***props***REMOVED***=***REMOVED***['fixed']\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***aliases:***REMOVED***Record<string,***REMOVED***string>***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***realWidth:***REMOVED***'width',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***realMinWidth:***REMOVED***'minWidth',\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***allAliases***REMOVED***=***REMOVED***getAllAliases(props,***REMOVED***aliases)\n***REMOVED******REMOVED******REMOVED******REMOVED***Object.keys(allAliases).forEach((key)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***columnKey***REMOVED***=***REMOVED***aliases[key]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(props_,***REMOVED***columnKey))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props_[columnKey],\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(newVal)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***value:***REMOVED***ValueOf<TableColumnCtx<T>>***REMOVED***=***REMOVED***newVal\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(columnKey***REMOVED***===***REMOVED***'width'***REMOVED***&&***REMOVED***key***REMOVED***===***REMOVED***'realWidth')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***value***REMOVED***=***REMOVED***parseWidth(newVal)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(columnKey***REMOVED***===***REMOVED***'minWidth'***REMOVED***&&***REMOVED***key***REMOVED***===***REMOVED***'realMinWidth')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***value***REMOVED***=***REMOVED***parseMinWidth(newVal)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.columnConfig.value[columnKey***REMOVED***as***REMOVED***never]***REMOVED***=***REMOVED***value***REMOVED***as***REMOVED***never\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.columnConfig.value[key***REMOVED***as***REMOVED***never]***REMOVED***=***REMOVED***value***REMOVED***as***REMOVED***never\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***updateColumns***REMOVED***=***REMOVED***columnKey***REMOVED***===***REMOVED***'fixed'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***owner.value.store.scheduleLayout(updateColumns)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***const***REMOVED***registerNormalWatchers***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***props***REMOVED***=***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'label',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'filters',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'filterMultiple',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'filteredValue',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'sortable',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'index',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'formatter',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'className',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'labelClassName',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'filterClassName',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'showOverflowTooltip',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'tooltipFormatter',\n***REMOVED******REMOVED******REMOVED******REMOVED***]\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***parentProps***REMOVED***=***REMOVED***['showOverflowTooltip']\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***aliases:***REMOVED***Record<string,***REMOVED***string>***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***property:***REMOVED***'prop',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***align:***REMOVED***'realAlign',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***headerAlign:***REMOVED***'realHeaderAlign',\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***allAliases***REMOVED***=***REMOVED***getAllAliases(props,***REMOVED***aliases)\n***REMOVED******REMOVED******REMOVED******REMOVED***Object.keys(allAliases).forEach((key)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***columnKey***REMOVED***=***REMOVED***aliases[key]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(props_,***REMOVED***columnKey))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props_[columnKey],\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(newVal)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.columnConfig.value[key***REMOVED***as***REMOVED***never]***REMOVED***=***REMOVED***newVal\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***parentProps.forEach((key)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(owner.value.props,***REMOVED***key))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***owner.value.props[key],\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(newVal)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.columnConfig.value[key]***REMOVED***=***REMOVED***newVal***REMOVED***as***REMOVED***never\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***registerComplexWatchers,\n***REMOVED******REMOVED******REMOVED******REMOVED***registerNormalWatchers,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***default***REMOVED***useWatcher\n"],"names":["getCurrentInstance","hasOwn","watch","parseWidth","parseMinWidth"],"mappings":"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"}