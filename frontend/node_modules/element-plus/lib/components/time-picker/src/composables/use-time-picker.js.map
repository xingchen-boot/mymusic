{"version":3,"file":"use-time-picker.js","sources":["../../../../../../../packages/components/time-picker/src/composables/use-time-picker.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***ref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***makeList***REMOVED***}***REMOVED***from***REMOVED***'../utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Dayjs***REMOVED***}***REMOVED***from***REMOVED***'dayjs'\nimport***REMOVED***type***REMOVED***{\n***REMOVED******REMOVED***GetDisabledHours,\n***REMOVED******REMOVED***GetDisabledMinutes,\n***REMOVED******REMOVED***GetDisabledSeconds,\n}***REMOVED***from***REMOVED***'../common/props'\n\nconst***REMOVED***makeAvailableArr***REMOVED***=***REMOVED***(disabledList:***REMOVED***boolean[]):***REMOVED***number[]***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***trueOrNumber***REMOVED***=***REMOVED***(isDisabled:***REMOVED***boolean,***REMOVED***index:***REMOVED***number)***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***isDisabled***REMOVED***||***REMOVED***index\n\n***REMOVED******REMOVED***const***REMOVED***getNumber***REMOVED***=***REMOVED***(predicate:***REMOVED***number***REMOVED***|***REMOVED***true):***REMOVED***predicate***REMOVED***is***REMOVED***number***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***predicate***REMOVED***!==***REMOVED***true\n\n***REMOVED******REMOVED***return***REMOVED***disabledList.map(trueOrNumber).filter(getNumber)\n}\n\nexport***REMOVED***const***REMOVED***getTimeLists***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***disabledHours?:***REMOVED***GetDisabledHours,\n***REMOVED******REMOVED***disabledMinutes?:***REMOVED***GetDisabledMinutes,\n***REMOVED******REMOVED***disabledSeconds?:***REMOVED***GetDisabledSeconds\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***getHoursList***REMOVED***=***REMOVED***(role:***REMOVED***string,***REMOVED***compare?:***REMOVED***Dayjs)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***makeList(24,***REMOVED***disabledHours***REMOVED***&&***REMOVED***(()***REMOVED***=>***REMOVED***disabledHours?.(role,***REMOVED***compare)))\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***getMinutesList***REMOVED***=***REMOVED***(hour:***REMOVED***number,***REMOVED***role:***REMOVED***string,***REMOVED***compare?:***REMOVED***Dayjs)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***makeList(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***60,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***disabledMinutes***REMOVED***&&***REMOVED***(()***REMOVED***=>***REMOVED***disabledMinutes?.(hour,***REMOVED***role,***REMOVED***compare))\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***getSecondsList***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***hour:***REMOVED***number,\n***REMOVED******REMOVED******REMOVED******REMOVED***minute:***REMOVED***number,\n***REMOVED******REMOVED******REMOVED******REMOVED***role:***REMOVED***string,\n***REMOVED******REMOVED******REMOVED******REMOVED***compare?:***REMOVED***Dayjs\n***REMOVED******REMOVED***)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***makeList(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***60,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***disabledSeconds***REMOVED***&&***REMOVED***(()***REMOVED***=>***REMOVED***disabledSeconds?.(hour,***REMOVED***minute,***REMOVED***role,***REMOVED***compare))\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***getHoursList,\n***REMOVED******REMOVED******REMOVED******REMOVED***getMinutesList,\n***REMOVED******REMOVED******REMOVED******REMOVED***getSecondsList,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***const***REMOVED***buildAvailableTimeSlotGetter***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***disabledHours:***REMOVED***GetDisabledHours,\n***REMOVED******REMOVED***disabledMinutes:***REMOVED***GetDisabledMinutes,\n***REMOVED******REMOVED***disabledSeconds:***REMOVED***GetDisabledSeconds\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***getHoursList,***REMOVED***getMinutesList,***REMOVED***getSecondsList***REMOVED***}***REMOVED***=***REMOVED***getTimeLists(\n***REMOVED******REMOVED******REMOVED******REMOVED***disabledHours,\n***REMOVED******REMOVED******REMOVED******REMOVED***disabledMinutes,\n***REMOVED******REMOVED******REMOVED******REMOVED***disabledSeconds\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***getAvailableHours:***REMOVED***GetDisabledHours***REMOVED***=***REMOVED***(role,***REMOVED***compare?)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***makeAvailableArr(getHoursList(role,***REMOVED***compare))\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***getAvailableMinutes:***REMOVED***GetDisabledMinutes***REMOVED***=***REMOVED***(hour,***REMOVED***role,***REMOVED***compare?)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***makeAvailableArr(getMinutesList(hour,***REMOVED***role,***REMOVED***compare))\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***getAvailableSeconds:***REMOVED***GetDisabledSeconds***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***hour,\n***REMOVED******REMOVED******REMOVED******REMOVED***minute,\n***REMOVED******REMOVED******REMOVED******REMOVED***role,\n***REMOVED******REMOVED******REMOVED******REMOVED***compare?\n***REMOVED******REMOVED***)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***makeAvailableArr(getSecondsList(hour,***REMOVED***minute,***REMOVED***role,***REMOVED***compare))\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***getAvailableHours,\n***REMOVED******REMOVED******REMOVED******REMOVED***getAvailableMinutes,\n***REMOVED******REMOVED******REMOVED******REMOVED***getAvailableSeconds,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***const***REMOVED***useOldValue***REMOVED***=***REMOVED***(props:***REMOVED***{\n***REMOVED******REMOVED***parsedValue?:***REMOVED***string***REMOVED***|***REMOVED***Dayjs***REMOVED***|***REMOVED***Dayjs[]\n***REMOVED******REMOVED***visible:***REMOVED***boolean\n})***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***oldValue***REMOVED***=***REMOVED***ref(props.parsedValue)\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.visible,\n***REMOVED******REMOVED******REMOVED******REMOVED***(val)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!val)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***oldValue.value***REMOVED***=***REMOVED***props.parsedValue\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***return***REMOVED***oldValue\n}\n"],"names":["makeList","ref","watch"],"mappings":"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"}