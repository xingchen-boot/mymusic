'use***REMOVED***strict';

Object.defineProperty(exports,***REMOVED***'__esModule',***REMOVED***{***REMOVED***value:***REMOVED***true***REMOVED***});

var***REMOVED***vue***REMOVED***=***REMOVED***require('vue');
var***REMOVED***useColumns***REMOVED***=***REMOVED***require('./composables/use-columns.js');
var***REMOVED***useScrollbar***REMOVED***=***REMOVED***require('./composables/use-scrollbar.js');
var***REMOVED***useRow***REMOVED***=***REMOVED***require('./composables/use-row.js');
var***REMOVED***useData***REMOVED***=***REMOVED***require('./composables/use-data.js');
var***REMOVED***useStyles***REMOVED***=***REMOVED***require('./composables/use-styles.js');
var***REMOVED***index***REMOVED***=***REMOVED***require('../../../hooks/use-namespace/index.js');
var***REMOVED***types***REMOVED***=***REMOVED***require('../../../utils/types.js');
var***REMOVED***shared***REMOVED***=***REMOVED***require('@vue/shared');

function***REMOVED***useTable(props)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***mainTableRef***REMOVED***=***REMOVED***vue.ref();
***REMOVED******REMOVED***const***REMOVED***leftTableRef***REMOVED***=***REMOVED***vue.ref();
***REMOVED******REMOVED***const***REMOVED***rightTableRef***REMOVED***=***REMOVED***vue.ref();
***REMOVED******REMOVED***const***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***columns,
***REMOVED******REMOVED******REMOVED******REMOVED***columnsStyles,
***REMOVED******REMOVED******REMOVED******REMOVED***columnsTotalWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnLeft,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnRight,
***REMOVED******REMOVED******REMOVED******REMOVED***hasFixedColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***mainColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***onColumnSorted
***REMOVED******REMOVED***}***REMOVED***=***REMOVED***useColumns.useColumns(props,***REMOVED***vue.toRef(props,***REMOVED***"columns"),***REMOVED***vue.toRef(props,***REMOVED***"fixed"));
***REMOVED******REMOVED***const***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***scrollTo,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollToLeft,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollToTop,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollToRow,
***REMOVED******REMOVED******REMOVED******REMOVED***onScroll,
***REMOVED******REMOVED******REMOVED******REMOVED***onVerticalScroll,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollPos
***REMOVED******REMOVED***}***REMOVED***=***REMOVED***useScrollbar.useScrollbar(props,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***mainTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***leftTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***rightTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***onMaybeEndReached
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***index.useNamespace("table-v2");
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***vue.getCurrentInstance();
***REMOVED******REMOVED***const***REMOVED***isScrolling***REMOVED***=***REMOVED***vue.shallowRef(false);
***REMOVED******REMOVED***const***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***expandedRowKeys,
***REMOVED******REMOVED******REMOVED******REMOVED***lastRenderedRowIndex,
***REMOVED******REMOVED******REMOVED******REMOVED***isDynamic,
***REMOVED******REMOVED******REMOVED******REMOVED***isResetting,
***REMOVED******REMOVED******REMOVED******REMOVED***rowHeights,
***REMOVED******REMOVED******REMOVED******REMOVED***resetAfterIndex,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowExpanded,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowHeightChange,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowHovered,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowsRendered
***REMOVED******REMOVED***}***REMOVED***=***REMOVED***useRow.useRow(props,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***mainTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***leftTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***rightTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***tableInstance:***REMOVED***instance,
***REMOVED******REMOVED******REMOVED******REMOVED***ns,
***REMOVED******REMOVED******REMOVED******REMOVED***isScrolling
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***data,***REMOVED***depthMap***REMOVED***}***REMOVED***=***REMOVED***useData.useData(props,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***expandedRowKeys,
***REMOVED******REMOVED******REMOVED******REMOVED***lastRenderedRowIndex,
***REMOVED******REMOVED******REMOVED******REMOVED***resetAfterIndex
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***rowsHeight***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***estimatedRowHeight,***REMOVED***rowHeight***REMOVED***}***REMOVED***=***REMOVED***props;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***_data***REMOVED***=***REMOVED***vue.unref(data);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(types.isNumber(estimatedRowHeight))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Object.values(vue.unref(rowHeights)).reduce((acc,***REMOVED***curr)***REMOVED***=>***REMOVED***acc***REMOVED***+***REMOVED***curr,***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***_data.length***REMOVED*******REMOVED***rowHeight;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***bodyWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedTableHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***mainTableHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***leftTableWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***rightTableWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***windowHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***footerHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***emptyStyle,
***REMOVED******REMOVED******REMOVED******REMOVED***rootStyle,
***REMOVED******REMOVED******REMOVED******REMOVED***headerHeight
***REMOVED******REMOVED***}***REMOVED***=***REMOVED***useStyles.useStyles(props,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***columnsTotalWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnLeft,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnRight,
***REMOVED******REMOVED******REMOVED******REMOVED***rowsHeight
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***containerRef***REMOVED***=***REMOVED***vue.ref();
***REMOVED******REMOVED***const***REMOVED***showEmpty***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***noData***REMOVED***=***REMOVED***vue.unref(data).length***REMOVED***===***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***shared.isArray(props.fixedData)***REMOVED***?***REMOVED***props.fixedData.length***REMOVED***===***REMOVED***0***REMOVED***&&***REMOVED***noData***REMOVED***:***REMOVED***noData;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***function***REMOVED***getRowHeight(rowIndex)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***estimatedRowHeight,***REMOVED***rowHeight,***REMOVED***rowKey***REMOVED***}***REMOVED***=***REMOVED***props;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!estimatedRowHeight)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***rowHeight;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***vue.unref(rowHeights)[vue.unref(data)[rowIndex][rowKey]]***REMOVED***||***REMOVED***estimatedRowHeight;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***isEndReached***REMOVED***=***REMOVED***vue.ref(false);
***REMOVED******REMOVED***function***REMOVED***onMaybeEndReached()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***onEndReached***REMOVED***}***REMOVED***=***REMOVED***props;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!onEndReached)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***scrollTop***REMOVED***}***REMOVED***=***REMOVED***vue.unref(scrollPos);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***_totalHeight***REMOVED***=***REMOVED***vue.unref(rowsHeight);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***clientHeight***REMOVED***=***REMOVED***vue.unref(windowHeight);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***remainDistance***REMOVED***=***REMOVED***_totalHeight***REMOVED***-***REMOVED***(scrollTop***REMOVED***+***REMOVED***clientHeight)***REMOVED***+***REMOVED***props.hScrollbarSize;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isEndReached.value***REMOVED***&&***REMOVED***vue.unref(lastRenderedRowIndex)***REMOVED***>=***REMOVED***0***REMOVED***&&***REMOVED***_totalHeight***REMOVED***<=***REMOVED***scrollTop***REMOVED***+***REMOVED***vue.unref(mainTableHeight)***REMOVED***-***REMOVED***vue.unref(headerHeight))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isEndReached.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onEndReached(remainDistance);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isEndReached.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***vue.unref(rowsHeight),***REMOVED***()***REMOVED***=>***REMOVED***isEndReached.value***REMOVED***=***REMOVED***false);
***REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***props.expandedRowKeys,***REMOVED***(val)***REMOVED***=>***REMOVED***expandedRowKeys.value***REMOVED***=***REMOVED***val,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***deep:***REMOVED***true
***REMOVED******REMOVED***});
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***columns,
***REMOVED******REMOVED******REMOVED******REMOVED***containerRef,
***REMOVED******REMOVED******REMOVED******REMOVED***mainTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***leftTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***rightTableRef,
***REMOVED******REMOVED******REMOVED******REMOVED***isDynamic,
***REMOVED******REMOVED******REMOVED******REMOVED***isResetting,
***REMOVED******REMOVED******REMOVED******REMOVED***isScrolling,
***REMOVED******REMOVED******REMOVED******REMOVED***hasFixedColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***columnsStyles,
***REMOVED******REMOVED******REMOVED******REMOVED***columnsTotalWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***data,
***REMOVED******REMOVED******REMOVED******REMOVED***expandedRowKeys,
***REMOVED******REMOVED******REMOVED******REMOVED***depthMap,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnLeft,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnRight,
***REMOVED******REMOVED******REMOVED******REMOVED***mainColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***bodyWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***emptyStyle,
***REMOVED******REMOVED******REMOVED******REMOVED***rootStyle,
***REMOVED******REMOVED******REMOVED******REMOVED***footerHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***mainTableHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedTableHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***leftTableWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***rightTableWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***showEmpty,
***REMOVED******REMOVED******REMOVED******REMOVED***getRowHeight,
***REMOVED******REMOVED******REMOVED******REMOVED***onColumnSorted,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowHovered,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowExpanded,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowsRendered,
***REMOVED******REMOVED******REMOVED******REMOVED***onRowHeightChange,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollTo,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollToLeft,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollToTop,
***REMOVED******REMOVED******REMOVED******REMOVED***scrollToRow,
***REMOVED******REMOVED******REMOVED******REMOVED***onScroll,
***REMOVED******REMOVED******REMOVED******REMOVED***onVerticalScroll
***REMOVED******REMOVED***};
}

exports.useTable***REMOVED***=***REMOVED***useTable;
//#***REMOVED***sourceMappingURL=use-table.js.map
