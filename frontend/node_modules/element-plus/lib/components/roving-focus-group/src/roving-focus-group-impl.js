'use***REMOVED***strict';

Object.defineProperty(exports,***REMOVED***'__esModule',***REMOVED***{***REMOVED***value:***REMOVED***true***REMOVED***});

var***REMOVED***vue***REMOVED***=***REMOVED***require('vue');
var***REMOVED***core***REMOVED***=***REMOVED***require('@vueuse/core');
var***REMOVED***rovingFocusGroup***REMOVED***=***REMOVED***require('./roving-focus-group.js');
var***REMOVED***tokens***REMOVED***=***REMOVED***require('./tokens.js');
var***REMOVED***utils***REMOVED***=***REMOVED***require('./utils.js');
var***REMOVED***pluginVue_exportHelper***REMOVED***=***REMOVED***require('../../../_virtual/plugin-vue_export-helper.js');
var***REMOVED***event***REMOVED***=***REMOVED***require('../../../utils/dom/event.js');

const***REMOVED***CURRENT_TAB_ID_CHANGE_EVT***REMOVED***=***REMOVED***"currentTabIdChange";
const***REMOVED***ENTRY_FOCUS_EVT***REMOVED***=***REMOVED***"rovingFocusGroup.entryFocus";
const***REMOVED***EVT_OPTS***REMOVED***=***REMOVED***{***REMOVED***bubbles:***REMOVED***false,***REMOVED***cancelable:***REMOVED***true***REMOVED***};
const***REMOVED***_sfc_main***REMOVED***=***REMOVED***vue.defineComponent({
***REMOVED******REMOVED***name:***REMOVED***"ElRovingFocusGroupImpl",
***REMOVED******REMOVED***inheritAttrs:***REMOVED***false,
***REMOVED******REMOVED***props:***REMOVED***rovingFocusGroup.rovingFocusGroupProps,
***REMOVED******REMOVED***emits:***REMOVED***[CURRENT_TAB_ID_CHANGE_EVT,***REMOVED***"entryFocus"],
***REMOVED******REMOVED***setup(props,***REMOVED***{***REMOVED***emit***REMOVED***})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentTabbedId***REMOVED***=***REMOVED***vue.ref((_a***REMOVED***=***REMOVED***props.currentTabId***REMOVED***||***REMOVED***props.defaultCurrentTabId)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isBackingOut***REMOVED***=***REMOVED***vue.ref(false);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isClickFocus***REMOVED***=***REMOVED***vue.ref(false);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***rovingFocusGroupRef***REMOVED***=***REMOVED***vue.ref();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***getItems***REMOVED***}***REMOVED***=***REMOVED***vue.inject(rovingFocusGroup.ROVING_FOCUS_COLLECTION_INJECTION_KEY,***REMOVED***void***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***rovingFocusGroupRootStyle***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***outline:***REMOVED***"none"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.style
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***];
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onItemFocus***REMOVED***=***REMOVED***(tabbedId)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit(CURRENT_TAB_ID_CHANGE_EVT,***REMOVED***tabbedId);
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onItemShiftTab***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isBackingOut.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onMousedown***REMOVED***=***REMOVED***event.composeEventHandlers((e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a2;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a2***REMOVED***=***REMOVED***props.onMousedown)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a2.call(props,***REMOVED***e);
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isClickFocus.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onFocus***REMOVED***=***REMOVED***event.composeEventHandlers((e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a2;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a2***REMOVED***=***REMOVED***props.onFocus)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a2.call(props,***REMOVED***e);
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isKeyboardFocus***REMOVED***=***REMOVED***!vue.unref(isClickFocus);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***target,***REMOVED***currentTarget***REMOVED***}***REMOVED***=***REMOVED***e;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target***REMOVED***===***REMOVED***currentTarget***REMOVED***&&***REMOVED***isKeyboardFocus***REMOVED***&&***REMOVED***!vue.unref(isBackingOut))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***entryFocusEvt***REMOVED***=***REMOVED***new***REMOVED***Event(ENTRY_FOCUS_EVT,***REMOVED***EVT_OPTS);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentTarget***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***currentTarget.dispatchEvent(entryFocusEvt);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!entryFocusEvt.defaultPrevented)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***items***REMOVED***=***REMOVED***getItems().filter((item)***REMOVED***=>***REMOVED***item.focusable);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***activeItem***REMOVED***=***REMOVED***items.find((item)***REMOVED***=>***REMOVED***item.active);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentItem***REMOVED***=***REMOVED***items.find((item)***REMOVED***=>***REMOVED***item.id***REMOVED***===***REMOVED***vue.unref(currentTabbedId));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***candidates***REMOVED***=***REMOVED***[activeItem,***REMOVED***currentItem,***REMOVED***...items].filter(Boolean);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***candidateNodes***REMOVED***=***REMOVED***candidates.map((item)***REMOVED***=>***REMOVED***item.ref);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***utils.focusFirst(candidateNodes);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isClickFocus.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onBlur***REMOVED***=***REMOVED***event.composeEventHandlers((e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a2;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a2***REMOVED***=***REMOVED***props.onBlur)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a2.call(props,***REMOVED***e);
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isBackingOut.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***handleEntryFocus***REMOVED***=***REMOVED***(...args)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit("entryFocus",***REMOVED***...args);
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***vue.provide(tokens.ROVING_FOCUS_GROUP_INJECTION_KEY,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentTabbedId:***REMOVED***vue.readonly(currentTabbedId),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***loop:***REMOVED***vue.toRef(props,***REMOVED***"loop"),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tabIndex:***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***vue.unref(isBackingOut)***REMOVED***?***REMOVED***-1***REMOVED***:***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rovingFocusGroupRef,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rovingFocusGroupRootStyle,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***orientation:***REMOVED***vue.toRef(props,***REMOVED***"orientation"),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dir:***REMOVED***vue.toRef(props,***REMOVED***"dir"),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onItemFocus,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onItemShiftTab,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onBlur,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onFocus,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onMousedown
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***props.currentTabId,***REMOVED***(val)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentTabbedId.value***REMOVED***=***REMOVED***val***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***val***REMOVED***:***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***core.useEventListener(rovingFocusGroupRef,***REMOVED***ENTRY_FOCUS_EVT,***REMOVED***handleEntryFocus);
***REMOVED******REMOVED***}
});
function***REMOVED***_sfc_render(_ctx,***REMOVED***_cache,***REMOVED***$props,***REMOVED***$setup,***REMOVED***$data,***REMOVED***$options)***REMOVED***{
***REMOVED******REMOVED***return***REMOVED***vue.renderSlot(_ctx.$slots,***REMOVED***"default");
}
var***REMOVED***ElRovingFocusGroupImpl***REMOVED***=***REMOVED***/****REMOVED***@__PURE__***REMOVED****/***REMOVED***pluginVue_exportHelper["default"](_sfc_main,***REMOVED***[["render",***REMOVED***_sfc_render],***REMOVED***["__file",***REMOVED***"roving-focus-group-impl.vue"]]);

exports["default"]***REMOVED***=***REMOVED***ElRovingFocusGroupImpl;
//#***REMOVED***sourceMappingURL=roving-focus-group-impl.js.map
