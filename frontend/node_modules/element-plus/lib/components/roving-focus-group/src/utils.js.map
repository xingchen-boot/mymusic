{"version":3,"file":"utils.js","sources":["../../../../../../packages/components/roving-focus-group/src/utils.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***EVENT_CODE***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/constants'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***HTMLAttributes***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\ntype***REMOVED***Orientation***REMOVED***=***REMOVED***HTMLAttributes['aria-orientation']\ntype***REMOVED***Direction***REMOVED***=***REMOVED***'ltr'***REMOVED***|***REMOVED***'rtl'\ntype***REMOVED***FocusIntent***REMOVED***=***REMOVED***'first'***REMOVED***|***REMOVED***'last'***REMOVED***|***REMOVED***'prev'***REMOVED***|***REMOVED***'next'\n\nconst***REMOVED***MAP_KEY_TO_FOCUS_INTENT:***REMOVED***Record<string,***REMOVED***FocusIntent>***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***ArrowLeft:***REMOVED***'prev',\n***REMOVED******REMOVED***ArrowUp:***REMOVED***'prev',\n***REMOVED******REMOVED***ArrowRight:***REMOVED***'next',\n***REMOVED******REMOVED***ArrowDown:***REMOVED***'next',\n***REMOVED******REMOVED***PageUp:***REMOVED***'first',\n***REMOVED******REMOVED***Home:***REMOVED***'first',\n***REMOVED******REMOVED***PageDown:***REMOVED***'last',\n***REMOVED******REMOVED***End:***REMOVED***'last',\n}\n\nconst***REMOVED***getDirectionAwareKey***REMOVED***=***REMOVED***(key:***REMOVED***string,***REMOVED***dir?:***REMOVED***Direction)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(dir***REMOVED***!==***REMOVED***'rtl')***REMOVED***return***REMOVED***key\n\n***REMOVED******REMOVED***switch***REMOVED***(key)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***EVENT_CODE.right:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***EVENT_CODE.left\n***REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***EVENT_CODE.left:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***EVENT_CODE.right\n***REMOVED******REMOVED******REMOVED******REMOVED***default:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***key\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***const***REMOVED***getFocusIntent***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***event:***REMOVED***KeyboardEvent,\n***REMOVED******REMOVED***orientation?:***REMOVED***Orientation,\n***REMOVED******REMOVED***dir?:***REMOVED***Direction\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***key***REMOVED***=***REMOVED***getDirectionAwareKey(event.code,***REMOVED***dir)\n***REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***orientation***REMOVED***===***REMOVED***'vertical'***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED***[EVENT_CODE.left,***REMOVED***EVENT_CODE.right].includes(key)\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***undefined\n***REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***orientation***REMOVED***===***REMOVED***'horizontal'***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED***[EVENT_CODE.up,***REMOVED***EVENT_CODE.down].includes(key)\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***undefined\n***REMOVED******REMOVED***return***REMOVED***MAP_KEY_TO_FOCUS_INTENT[key]\n}\n\nexport***REMOVED***const***REMOVED***reorderArray***REMOVED***=***REMOVED***<T>(array:***REMOVED***T[],***REMOVED***atIdx:***REMOVED***number)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***array.map((_,***REMOVED***idx)***REMOVED***=>***REMOVED***array[(idx***REMOVED***+***REMOVED***atIdx)***REMOVED***%***REMOVED***array.length])\n}\n\nexport***REMOVED***const***REMOVED***focusFirst***REMOVED***=***REMOVED***(elements:***REMOVED***HTMLElement[])***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***activeElement:***REMOVED***prevActive***REMOVED***}***REMOVED***=***REMOVED***document\n\n***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***element***REMOVED***of***REMOVED***elements)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(element***REMOVED***===***REMOVED***prevActive)***REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***element.focus()\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(prevActive***REMOVED***!==***REMOVED***document.activeElement)***REMOVED***return\n***REMOVED******REMOVED***}\n}\n"],"names":["EVENT_CODE"],"mappings":";;;;;;AACA,MAAM,uBAAuB,GAAG;AAChC,EAAE,SAAS,EAAE,MAAM;AACnB,EAAE,OAAO,EAAE,MAAM;AACjB,EAAE,UAAU,EAAE,MAAM;AACpB,EAAE,SAAS,EAAE,MAAM;AACnB,EAAE,MAAM,EAAE,OAAO;AACjB,EAAE,IAAI,EAAE,OAAO;AACf,EAAE,QAAQ,EAAE,MAAM;AAClB,EAAE,GAAG,EAAE,MAAM;AACb,CAAC,CAAC;AACF,MAAM,oBAAoB,GAAG,CAAC,GAAG,EAAE,GAAG,KAAK;AAC3C,EAAE,IAAI,GAAG,KAAK,KAAK;AACnB,IAAI,OAAO,GAAG,CAAC;AACf,EAAE,QAAQ,GAAG;AACb,IAAI,KAAKA,eAAU,CAAC,KAAK;AACzB,MAAM,OAAOA,eAAU,CAAC,IAAI,CAAC;AAC7B,IAAI,KAAKA,eAAU,CAAC,IAAI;AACxB,MAAM,OAAOA,eAAU,CAAC,KAAK,CAAC;AAC9B,IAAI;AACJ,MAAM,OAAO,GAAG,CAAC;AACjB,GAAG;AACH,CAAC,CAAC;AACU,MAAC,cAAc,GAAG,CAAC,KAAK,EAAE,WAAW,EAAE,GAAG,KAAK;AAC3D,EAAE,MAAM,GAAG,GAAG,oBAAoB,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AACpD,EAAE,IAAI,WAAW,KAAK,UAAU,IAAI,CAACA,eAAU,CAAC,IAAI,EAAEA,eAAU,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC;AACrF,IAAI,OAAO,KAAK,CAAC,CAAC;AAClB,EAAE,IAAI,WAAW,KAAK,YAAY,IAAI,CAACA,eAAU,CAAC,EAAE,EAAEA,eAAU,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC;AACpF,IAAI,OAAO,KAAK,CAAC,CAAC;AAClB,EAAE,OAAO,uBAAuB,CAAC,GAAG,CAAC,CAAC;AACtC,EAAE;AACU,MAAC,YAAY,GAAG,CAAC,KAAK,EAAE,KAAK,KAAK;AAC9C,EAAE,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,KAAK,KAAK,CAAC,CAAC,GAAG,GAAG,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;AACpE,EAAE;AACU,MAAC,UAAU,GAAG,CAAC,QAAQ,KAAK;AACxC,EAAE,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,GAAG,QAAQ,CAAC;AACjD,EAAE,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE;AAClC,IAAI,IAAI,OAAO,KAAK,UAAU;AAC9B,MAAM,OAAO;AACb,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;AACpB,IAAI,IAAI,UAAU,KAAK,QAAQ,CAAC,aAAa;AAC7C,MAAM,OAAO;AACb,GAAG;AACH;;;;;;"}