{"version":3,"file":"useSize.js","sources":["../../../../../../../packages/components/splitter/src/hooks/useSize.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***ref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***isString***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ComputedRef,***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***PanelItemState***REMOVED***}***REMOVED***from***REMOVED***'../type'\n\nexport***REMOVED***function***REMOVED***getPct(str:***REMOVED***string)***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***Number(str.slice(0,***REMOVED***-1))***REMOVED***/***REMOVED***100\n}\n\nexport***REMOVED***function***REMOVED***getPx(str:***REMOVED***string)***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***Number(str.slice(0,***REMOVED***-2))\n}\n\nexport***REMOVED***function***REMOVED***isPct(\n***REMOVED******REMOVED***itemSize:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***undefined\n):***REMOVED***itemSize***REMOVED***is***REMOVED***string***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***isString(itemSize)***REMOVED***&&***REMOVED***itemSize.endsWith('%')\n}\n\nexport***REMOVED***function***REMOVED***isPx(\n***REMOVED******REMOVED***itemSize:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***undefined\n):***REMOVED***itemSize***REMOVED***is***REMOVED***string***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***isString(itemSize)***REMOVED***&&***REMOVED***itemSize.endsWith('px')\n}\n\nexport***REMOVED***function***REMOVED***useSize(\n***REMOVED******REMOVED***panels:***REMOVED***Ref<PanelItemState[]>,\n***REMOVED******REMOVED***containerSize:***REMOVED***ComputedRef<number>\n)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***propSizes***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***panels.value.map((i)***REMOVED***=>***REMOVED***i.size))\n\n***REMOVED******REMOVED***const***REMOVED***panelCounts***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***panels.value.length)\n\n***REMOVED******REMOVED***const***REMOVED***percentSizes***REMOVED***=***REMOVED***ref<number[]>([])\n\n***REMOVED******REMOVED***watch([propSizes,***REMOVED***panelCounts,***REMOVED***containerSize],***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***ptgList:***REMOVED***(number***REMOVED***|***REMOVED***undefined)[]***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***emptyCount***REMOVED***=***REMOVED***0\n\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Convert***REMOVED***the***REMOVED***passed***REMOVED***props***REMOVED***size***REMOVED***to***REMOVED***a***REMOVED***percentage\n***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***panelCounts.value;***REMOVED***i***REMOVED***+=***REMOVED***1)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***itemSize***REMOVED***=***REMOVED***panels.value[i]?.size\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isPct(itemSize))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ptgList[i]***REMOVED***=***REMOVED***getPct(itemSize)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(isPx(itemSize))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ptgList[i]***REMOVED***=***REMOVED***getPx(itemSize)***REMOVED***/***REMOVED***containerSize.value\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(itemSize***REMOVED***||***REMOVED***itemSize***REMOVED***===***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***num***REMOVED***=***REMOVED***Number(itemSize)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!Number.isNaN(num))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ptgList[i]***REMOVED***=***REMOVED***num***REMOVED***/***REMOVED***containerSize.value\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emptyCount***REMOVED***+=***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ptgList[i]***REMOVED***=***REMOVED***undefined\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***totalPtg***REMOVED***=***REMOVED***ptgList.reduce<number>((acc,***REMOVED***ptg)***REMOVED***=>***REMOVED***acc***REMOVED***+***REMOVED***(ptg***REMOVED***||***REMOVED***0),***REMOVED***0)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(totalPtg***REMOVED***>***REMOVED***1***REMOVED***||***REMOVED***!emptyCount)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***If***REMOVED***it***REMOVED***is***REMOVED***greater***REMOVED***than***REMOVED***1,***REMOVED***the***REMOVED***scaling***REMOVED***ratio\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***scale***REMOVED***=***REMOVED***1***REMOVED***/***REMOVED***totalPtg\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ptgList***REMOVED***=***REMOVED***ptgList.map((ptg)***REMOVED***=>***REMOVED***(ptg***REMOVED***===***REMOVED***undefined***REMOVED***?***REMOVED***0***REMOVED***:***REMOVED***ptg***REMOVED*******REMOVED***scale))\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***If***REMOVED***it***REMOVED***is***REMOVED***less***REMOVED***than***REMOVED***1,***REMOVED***the***REMOVED***filling***REMOVED***ratio\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***avgRest***REMOVED***=***REMOVED***(1***REMOVED***-***REMOVED***totalPtg)***REMOVED***/***REMOVED***emptyCount\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ptgList***REMOVED***=***REMOVED***ptgList.map((ptg)***REMOVED***=>***REMOVED***(ptg***REMOVED***===***REMOVED***undefined***REMOVED***?***REMOVED***avgRest***REMOVED***:***REMOVED***ptg))\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***percentSizes.value***REMOVED***=***REMOVED***ptgList***REMOVED***as***REMOVED***number[]\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***ptg2px***REMOVED***=***REMOVED***(ptg:***REMOVED***number)***REMOVED***=>***REMOVED***ptg***REMOVED*******REMOVED***containerSize.value\n***REMOVED******REMOVED***const***REMOVED***pxSizes***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***percentSizes.value.map(ptg2px))\n\n***REMOVED******REMOVED***return***REMOVED***{***REMOVED***percentSizes,***REMOVED***pxSizes***REMOVED***}\n}\n"],"names":["isString","computed","ref","watch"],"mappings":"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"}