'use***REMOVED***strict';

Object.defineProperty(exports,***REMOVED***'__esModule',***REMOVED***{***REMOVED***value:***REMOVED***true***REMOVED***});

var***REMOVED***vue***REMOVED***=***REMOVED***require('vue');
var***REMOVED***lodashUnified***REMOVED***=***REMOVED***require('lodash-unified');
var***REMOVED***token***REMOVED***=***REMOVED***require('./token.js');
var***REMOVED***option***REMOVED***=***REMOVED***require('./option.js');
var***REMOVED***strings***REMOVED***=***REMOVED***require('../../../utils/strings.js');
var***REMOVED***error***REMOVED***=***REMOVED***require('../../../utils/error.js');
var***REMOVED***shared***REMOVED***=***REMOVED***require('@vue/shared');

function***REMOVED***useOption(props,***REMOVED***states)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***select***REMOVED***=***REMOVED***vue.inject(token.selectKey);
***REMOVED******REMOVED***if***REMOVED***(!select)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***error.throwError(option.COMPONENT_NAME,***REMOVED***"usage:***REMOVED***<el-select><el-option***REMOVED***/></el-select/>");
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***selectGroup***REMOVED***=***REMOVED***vue.inject(token.selectGroupKey,***REMOVED***{***REMOVED***disabled:***REMOVED***false***REMOVED***});
***REMOVED******REMOVED***const***REMOVED***itemSelected***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***contains(lodashUnified.castArray(select.props.modelValue),***REMOVED***props.value);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***limitReached***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(select.props.multiple)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***modelValue***REMOVED***=***REMOVED***lodashUnified.castArray((_a***REMOVED***=***REMOVED***select.props.modelValue)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***[]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***!itemSelected.value***REMOVED***&&***REMOVED***modelValue.length***REMOVED***>=***REMOVED***select.props.multipleLimit***REMOVED***&&***REMOVED***select.props.multipleLimit***REMOVED***>***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***currentLabel***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***(_a***REMOVED***=***REMOVED***props.label)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***shared.isObject(props.value)***REMOVED***?***REMOVED***""***REMOVED***:***REMOVED***props.value;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***currentValue***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.value***REMOVED***||***REMOVED***props.label***REMOVED***||***REMOVED***"";
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***isDisabled***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.disabled***REMOVED***||***REMOVED***states.groupDisabled***REMOVED***||***REMOVED***limitReached.value;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***vue.getCurrentInstance();
***REMOVED******REMOVED***const***REMOVED***contains***REMOVED***=***REMOVED***(arr***REMOVED***=***REMOVED***[],***REMOVED***target)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!shared.isObject(props.value))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***arr***REMOVED***&&***REMOVED***arr.includes(target);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***valueKey***REMOVED***=***REMOVED***select.props.valueKey;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***arr***REMOVED***&&***REMOVED***arr.some((item)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***vue.toRaw(lodashUnified.get(item,***REMOVED***valueKey))***REMOVED***===***REMOVED***lodashUnified.get(target,***REMOVED***valueKey);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***hoverItem***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.disabled***REMOVED***&&***REMOVED***!selectGroup.disabled)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***select.states.hoveringIndex***REMOVED***=***REMOVED***select.optionsArray.indexOf(instance.proxy);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***updateOption***REMOVED***=***REMOVED***(query)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***regexp***REMOVED***=***REMOVED***new***REMOVED***RegExp(strings.escapeStringRegexp(query),***REMOVED***"i");
***REMOVED******REMOVED******REMOVED******REMOVED***states.visible***REMOVED***=***REMOVED***regexp.test(String(currentLabel.value))***REMOVED***||***REMOVED***props.created;
***REMOVED******REMOVED***};
***REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***currentLabel.value,***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.created***REMOVED***&&***REMOVED***!select.props.remote)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***select.setSelected();
***REMOVED******REMOVED***});
***REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***props.value,***REMOVED***(val,***REMOVED***oldVal)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***remote,***REMOVED***valueKey***REMOVED***}***REMOVED***=***REMOVED***select.props;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***shouldUpdate***REMOVED***=***REMOVED***remote***REMOVED***?***REMOVED***val***REMOVED***!==***REMOVED***oldVal***REMOVED***:***REMOVED***!lodashUnified.isEqual(val,***REMOVED***oldVal);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(shouldUpdate)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***select.onOptionDestroy(oldVal,***REMOVED***instance.proxy);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***select.onOptionCreate(instance.proxy);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.created***REMOVED***&&***REMOVED***!remote)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(valueKey***REMOVED***&&***REMOVED***shared.isObject(val)***REMOVED***&&***REMOVED***shared.isObject(oldVal)***REMOVED***&&***REMOVED***val[valueKey]***REMOVED***===***REMOVED***oldVal[valueKey])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***select.setSelected();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***vue.watch(()***REMOVED***=>***REMOVED***selectGroup.disabled,***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***states.groupDisabled***REMOVED***=***REMOVED***selectGroup.disabled;
***REMOVED******REMOVED***},***REMOVED***{***REMOVED***immediate:***REMOVED***true***REMOVED***});
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***select,
***REMOVED******REMOVED******REMOVED******REMOVED***currentLabel,
***REMOVED******REMOVED******REMOVED******REMOVED***currentValue,
***REMOVED******REMOVED******REMOVED******REMOVED***itemSelected,
***REMOVED******REMOVED******REMOVED******REMOVED***isDisabled,
***REMOVED******REMOVED******REMOVED******REMOVED***hoverItem,
***REMOVED******REMOVED******REMOVED******REMOVED***updateOption
***REMOVED******REMOVED***};
}

exports.useOption***REMOVED***=***REMOVED***useOption;
//#***REMOVED***sourceMappingURL=useOption.js.map
