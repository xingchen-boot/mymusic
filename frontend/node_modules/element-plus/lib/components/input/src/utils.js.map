{"version":3,"file":"utils.js","sources":["../../../../../../packages/components/input/src/utils.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***isFirefox,***REMOVED***isNumber***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nlet***REMOVED***hiddenTextarea:***REMOVED***HTMLTextAreaElement***REMOVED***|***REMOVED***undefined***REMOVED***=***REMOVED***undefined\n\nconst***REMOVED***HIDDEN_STYLE***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***height:***REMOVED***'0',\n***REMOVED******REMOVED***visibility:***REMOVED***'hidden',\n***REMOVED******REMOVED***overflow:***REMOVED***isFirefox()***REMOVED***?***REMOVED***''***REMOVED***:***REMOVED***'hidden',\n***REMOVED******REMOVED***position:***REMOVED***'absolute',\n***REMOVED******REMOVED***'z-index':***REMOVED***'-1000',\n***REMOVED******REMOVED***top:***REMOVED***'0',\n***REMOVED******REMOVED***right:***REMOVED***'0',\n}\n\nconst***REMOVED***CONTEXT_STYLE***REMOVED***=***REMOVED***[\n***REMOVED******REMOVED***'letter-spacing',\n***REMOVED******REMOVED***'line-height',\n***REMOVED******REMOVED***'padding-top',\n***REMOVED******REMOVED***'padding-bottom',\n***REMOVED******REMOVED***'font-family',\n***REMOVED******REMOVED***'font-weight',\n***REMOVED******REMOVED***'font-size',\n***REMOVED******REMOVED***'text-rendering',\n***REMOVED******REMOVED***'text-transform',\n***REMOVED******REMOVED***'width',\n***REMOVED******REMOVED***'text-indent',\n***REMOVED******REMOVED***'padding-left',\n***REMOVED******REMOVED***'padding-right',\n***REMOVED******REMOVED***'border-width',\n***REMOVED******REMOVED***'box-sizing',\n***REMOVED******REMOVED***'word-break',\n]\n\ntype***REMOVED***NodeStyle***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***contextStyle:***REMOVED***string[][]\n***REMOVED******REMOVED***boxSizing:***REMOVED***string\n***REMOVED******REMOVED***paddingSize:***REMOVED***number\n***REMOVED******REMOVED***borderSize:***REMOVED***number\n}\n\ntype***REMOVED***TextAreaHeight***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***height:***REMOVED***string\n***REMOVED******REMOVED***minHeight?:***REMOVED***string\n}\n\nfunction***REMOVED***calculateNodeStyling(targetElement:***REMOVED***Element):***REMOVED***NodeStyle***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***style***REMOVED***=***REMOVED***window.getComputedStyle(targetElement)\n\n***REMOVED******REMOVED***const***REMOVED***boxSizing***REMOVED***=***REMOVED***style.getPropertyValue('box-sizing')\n\n***REMOVED******REMOVED***const***REMOVED***paddingSize***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***Number.parseFloat(style.getPropertyValue('padding-bottom'))***REMOVED***+\n***REMOVED******REMOVED******REMOVED******REMOVED***Number.parseFloat(style.getPropertyValue('padding-top'))\n\n***REMOVED******REMOVED***const***REMOVED***borderSize***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***Number.parseFloat(style.getPropertyValue('border-bottom-width'))***REMOVED***+\n***REMOVED******REMOVED******REMOVED******REMOVED***Number.parseFloat(style.getPropertyValue('border-top-width'))\n\n***REMOVED******REMOVED***const***REMOVED***contextStyle***REMOVED***=***REMOVED***CONTEXT_STYLE.map((name)***REMOVED***=>***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED***name,\n***REMOVED******REMOVED******REMOVED******REMOVED***style.getPropertyValue(name),\n***REMOVED******REMOVED***])\n\n***REMOVED******REMOVED***return***REMOVED***{***REMOVED***contextStyle,***REMOVED***paddingSize,***REMOVED***borderSize,***REMOVED***boxSizing***REMOVED***}\n}\n\nexport***REMOVED***function***REMOVED***calcTextareaHeight(\n***REMOVED******REMOVED***targetElement:***REMOVED***HTMLTextAreaElement,\n***REMOVED******REMOVED***minRows***REMOVED***=***REMOVED***1,\n***REMOVED******REMOVED***maxRows?:***REMOVED***number\n):***REMOVED***TextAreaHeight***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!hiddenTextarea)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***hiddenTextarea***REMOVED***=***REMOVED***document.createElement('textarea')\n***REMOVED******REMOVED******REMOVED******REMOVED***;(targetElement.parentNode***REMOVED***??***REMOVED***document.body).appendChild(hiddenTextarea)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***paddingSize,***REMOVED***borderSize,***REMOVED***boxSizing,***REMOVED***contextStyle***REMOVED***}***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***calculateNodeStyling(targetElement)\n\n***REMOVED******REMOVED***contextStyle.forEach(([key,***REMOVED***value])***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***hiddenTextarea?.style.setProperty(key,***REMOVED***value)\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***Object.entries(HIDDEN_STYLE).forEach(([key,***REMOVED***value])***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***hiddenTextarea?.style.setProperty(key,***REMOVED***value,***REMOVED***'important')\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***hiddenTextarea.value***REMOVED***=***REMOVED***targetElement.value***REMOVED***||***REMOVED***targetElement.placeholder***REMOVED***||***REMOVED***''\n\n***REMOVED******REMOVED***let***REMOVED***height***REMOVED***=***REMOVED***hiddenTextarea.scrollHeight\n***REMOVED******REMOVED***const***REMOVED***result***REMOVED***=***REMOVED***{}***REMOVED***as***REMOVED***TextAreaHeight\n\n***REMOVED******REMOVED***if***REMOVED***(boxSizing***REMOVED***===***REMOVED***'border-box')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***height***REMOVED***=***REMOVED***height***REMOVED***+***REMOVED***borderSize\n***REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(boxSizing***REMOVED***===***REMOVED***'content-box')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***height***REMOVED***=***REMOVED***height***REMOVED***-***REMOVED***paddingSize\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***hiddenTextarea.value***REMOVED***=***REMOVED***''\n***REMOVED******REMOVED***const***REMOVED***singleRowHeight***REMOVED***=***REMOVED***hiddenTextarea.scrollHeight***REMOVED***-***REMOVED***paddingSize\n\n***REMOVED******REMOVED***if***REMOVED***(isNumber(minRows))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***minHeight***REMOVED***=***REMOVED***singleRowHeight***REMOVED*******REMOVED***minRows\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(boxSizing***REMOVED***===***REMOVED***'border-box')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***minHeight***REMOVED***=***REMOVED***minHeight***REMOVED***+***REMOVED***paddingSize***REMOVED***+***REMOVED***borderSize\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***height***REMOVED***=***REMOVED***Math.max(minHeight,***REMOVED***height)\n***REMOVED******REMOVED******REMOVED******REMOVED***result.minHeight***REMOVED***=***REMOVED***`${minHeight}px`\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(isNumber(maxRows))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***maxHeight***REMOVED***=***REMOVED***singleRowHeight***REMOVED*******REMOVED***maxRows\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(boxSizing***REMOVED***===***REMOVED***'border-box')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***maxHeight***REMOVED***=***REMOVED***maxHeight***REMOVED***+***REMOVED***paddingSize***REMOVED***+***REMOVED***borderSize\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***height***REMOVED***=***REMOVED***Math.min(maxHeight,***REMOVED***height)\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***result.height***REMOVED***=***REMOVED***`${height}px`\n***REMOVED******REMOVED***hiddenTextarea.parentNode?.removeChild(hiddenTextarea)\n***REMOVED******REMOVED***hiddenTextarea***REMOVED***=***REMOVED***undefined\n\n***REMOVED******REMOVED***return***REMOVED***result\n}\n"],"names":["isFirefox","isNumber"],"mappings":"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"}