{"version":3,"file":"index.js","sources":["../../../../../packages/hooks/use-floating/index.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***isRef,***REMOVED***onMounted,***REMOVED***ref,***REMOVED***unref,***REMOVED***watchEffect***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***unrefElement***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core'\nimport***REMOVED***{***REMOVED***isNil***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\nimport***REMOVED***{***REMOVED***arrow***REMOVED***as***REMOVED***arrowCore,***REMOVED***computePosition***REMOVED***}***REMOVED***from***REMOVED***'@floating-ui/dom'\nimport***REMOVED***{***REMOVED***buildProps,***REMOVED***isClient,***REMOVED***keysOf***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Ref,***REMOVED***ToRefs***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{\n***REMOVED******REMOVED***ComputePositionReturn,\n***REMOVED******REMOVED***Middleware,\n***REMOVED******REMOVED***Placement,\n***REMOVED******REMOVED***SideObject,\n***REMOVED******REMOVED***Strategy,\n***REMOVED******REMOVED***VirtualElement,\n}***REMOVED***from***REMOVED***'@floating-ui/dom'\n\nexport***REMOVED***const***REMOVED***useFloatingProps***REMOVED***=***REMOVED***buildProps({}***REMOVED***as***REMOVED***const)\n\nexport***REMOVED***type***REMOVED***UseFloatingProps***REMOVED***=***REMOVED***ToRefs<{\n***REMOVED******REMOVED***middleware:***REMOVED***Array<Middleware>\n***REMOVED******REMOVED***placement:***REMOVED***Placement\n***REMOVED******REMOVED***strategy:***REMOVED***Strategy\n}>\n\ntype***REMOVED***ElementRef***REMOVED***=***REMOVED***Parameters<typeof***REMOVED***unrefElement>['0']\n\nconst***REMOVED***unrefReference***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***elRef:***REMOVED***ElementRef***REMOVED***|***REMOVED***Ref<VirtualElement***REMOVED***|***REMOVED***undefined>\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isClient)***REMOVED***return\n***REMOVED******REMOVED***if***REMOVED***(!elRef)***REMOVED***return***REMOVED***elRef\n***REMOVED******REMOVED***const***REMOVED***unrefEl***REMOVED***=***REMOVED***unrefElement(elRef***REMOVED***as***REMOVED***ElementRef)\n***REMOVED******REMOVED***if***REMOVED***(unrefEl)***REMOVED***return***REMOVED***unrefEl\n***REMOVED******REMOVED***return***REMOVED***isRef(elRef)***REMOVED***?***REMOVED***unrefEl***REMOVED***:***REMOVED***(elRef***REMOVED***as***REMOVED***VirtualElement)\n}\n\nexport***REMOVED***const***REMOVED***getPositionDataWithUnit***REMOVED***=***REMOVED***<T***REMOVED***extends***REMOVED***Record<string,***REMOVED***number>>(\n***REMOVED******REMOVED***record:***REMOVED***T***REMOVED***|***REMOVED***undefined,\n***REMOVED******REMOVED***key:***REMOVED***keyof***REMOVED***T\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***value***REMOVED***=***REMOVED***record?.[key]\n***REMOVED******REMOVED***return***REMOVED***isNil(value)***REMOVED***?***REMOVED***''***REMOVED***:***REMOVED***`${value}px`\n}\n\nexport***REMOVED***const***REMOVED***useFloating***REMOVED***=***REMOVED***({\n***REMOVED******REMOVED***middleware,\n***REMOVED******REMOVED***placement,\n***REMOVED******REMOVED***strategy,\n}:***REMOVED***UseFloatingProps)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***referenceRef***REMOVED***=***REMOVED***ref<HTMLElement***REMOVED***|***REMOVED***VirtualElement>()\n***REMOVED******REMOVED***const***REMOVED***contentRef***REMOVED***=***REMOVED***ref<HTMLElement>()\n***REMOVED******REMOVED***const***REMOVED***x***REMOVED***=***REMOVED***ref<number>()\n***REMOVED******REMOVED***const***REMOVED***y***REMOVED***=***REMOVED***ref<number>()\n***REMOVED******REMOVED***const***REMOVED***middlewareData***REMOVED***=***REMOVED***ref<ComputePositionReturn['middlewareData']>({})\n\n***REMOVED******REMOVED***const***REMOVED***states***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***x,\n***REMOVED******REMOVED******REMOVED******REMOVED***y,\n***REMOVED******REMOVED******REMOVED******REMOVED***placement,\n***REMOVED******REMOVED******REMOVED******REMOVED***strategy,\n***REMOVED******REMOVED******REMOVED******REMOVED***middlewareData,\n***REMOVED******REMOVED***}***REMOVED***as***REMOVED***const\n\n***REMOVED******REMOVED***const***REMOVED***update***REMOVED***=***REMOVED***async***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isClient)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***referenceEl***REMOVED***=***REMOVED***unrefReference(referenceRef)\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***contentEl***REMOVED***=***REMOVED***unrefElement(contentRef)\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!referenceEl***REMOVED***||***REMOVED***!contentEl)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***data***REMOVED***=***REMOVED***await***REMOVED***computePosition(referenceEl,***REMOVED***contentEl,***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***placement:***REMOVED***unref(placement),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***strategy:***REMOVED***unref(strategy),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***middleware:***REMOVED***unref(middleware),\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***keysOf(states).forEach((key)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***states[key].value***REMOVED***=***REMOVED***data[key]\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***watchEffect(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***update()\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***...states,\n***REMOVED******REMOVED******REMOVED******REMOVED***update,\n***REMOVED******REMOVED******REMOVED******REMOVED***referenceRef,\n***REMOVED******REMOVED******REMOVED******REMOVED***contentRef,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***type***REMOVED***ArrowMiddlewareProps***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***arrowRef:***REMOVED***Ref<HTMLElement***REMOVED***|***REMOVED***null***REMOVED***|***REMOVED***undefined>\n***REMOVED******REMOVED***padding?:***REMOVED***number***REMOVED***|***REMOVED***SideObject\n}\n\nexport***REMOVED***const***REMOVED***arrowMiddleware***REMOVED***=***REMOVED***({\n***REMOVED******REMOVED***arrowRef,\n***REMOVED******REMOVED***padding,\n}:***REMOVED***ArrowMiddlewareProps):***REMOVED***Middleware***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***name:***REMOVED***'arrow',\n***REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***element:***REMOVED***arrowRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***padding,\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n\n***REMOVED******REMOVED******REMOVED******REMOVED***fn(args)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***arrowEl***REMOVED***=***REMOVED***unref(arrowRef)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!arrowEl)***REMOVED***return***REMOVED***{}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***arrowCore({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***element:***REMOVED***arrowEl,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***padding,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}).fn(args)\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED***}\n}\n"],"names":["buildProps","isClient","unrefElement","isRef","isNil","ref","computePosition","unref","keysOf","onMounted","watchEffect","arrowCore"],"mappings":"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"}