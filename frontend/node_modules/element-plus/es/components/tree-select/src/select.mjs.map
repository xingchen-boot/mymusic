{"version":3,"file":"select.mjs","sources":["../../../../../../packages/components/tree-select/src/select.ts"],"sourcesContent":["//***REMOVED***@ts-nocheck\nimport***REMOVED***{***REMOVED***computed,***REMOVED***nextTick,***REMOVED***toRefs,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***pick***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\nimport***REMOVED***ElSelect***REMOVED***from***REMOVED***'@element-plus/components/select'\nimport***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***UPDATE_MODEL_EVENT***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/constants'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***SelectInstance***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/select'\nimport***REMOVED***type***REMOVED***{***REMOVED***TreeInstance***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/tree'\n\nexport***REMOVED***const***REMOVED***useSelect***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props,\n***REMOVED******REMOVED***{***REMOVED***attrs,***REMOVED***emit***REMOVED***},\n***REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***select,\n***REMOVED******REMOVED******REMOVED******REMOVED***tree,\n***REMOVED******REMOVED******REMOVED******REMOVED***key,\n***REMOVED******REMOVED***}:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***select:***REMOVED***Ref<SelectInstance***REMOVED***|***REMOVED***undefined>\n***REMOVED******REMOVED******REMOVED******REMOVED***tree:***REMOVED***Ref<TreeInstance***REMOVED***|***REMOVED***undefined>\n***REMOVED******REMOVED******REMOVED******REMOVED***key:***REMOVED***Ref<string>\n***REMOVED******REMOVED***}\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('tree-select')\n\n***REMOVED******REMOVED***//***REMOVED***update***REMOVED***tree***REMOVED***data***REMOVED***when***REMOVED***use***REMOVED***filterMethod/remoteMethod\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.data,\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.filterable)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***nextTick(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***let***REMOVED***tree***REMOVED***node***REMOVED***expand***REMOVED***only,***REMOVED***same***REMOVED***with***REMOVED***tree***REMOVED***filter\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tree.value?.filter(select.value?.states.inputValue)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***flush:***REMOVED***'post'***REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***result***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***...pick(toRefs(props),***REMOVED***Object.keys(ElSelect.props)),\n***REMOVED******REMOVED******REMOVED******REMOVED***...attrs,\n***REMOVED******REMOVED******REMOVED******REMOVED***class:***REMOVED***computed(()***REMOVED***=>***REMOVED***attrs.class),\n***REMOVED******REMOVED******REMOVED******REMOVED***style:***REMOVED***computed(()***REMOVED***=>***REMOVED***attrs.style),\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***attrs***REMOVED***is***REMOVED***not***REMOVED***reactive,***REMOVED***when***REMOVED***v-model***REMOVED***binding***REMOVED***source***REMOVED***changes,\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***this***REMOVED***listener***REMOVED***is***REMOVED***still***REMOVED***old,***REMOVED***see***REMOVED***the***REMOVED***bug(or***REMOVED***test***REMOVED***'v-model***REMOVED***source***REMOVED***change'):\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***https://github.com/element-plus/element-plus/issues/14204\n***REMOVED******REMOVED******REMOVED******REMOVED***'onUpdate:modelValue':***REMOVED***(value)***REMOVED***=>***REMOVED***emit(UPDATE_MODEL_EVENT,***REMOVED***value),\n***REMOVED******REMOVED******REMOVED******REMOVED***valueKey:***REMOVED***key,\n***REMOVED******REMOVED******REMOVED******REMOVED***popperClass:***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***classes***REMOVED***=***REMOVED***[ns.e('popper')]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.popperClass)***REMOVED***classes.push(props.popperClass)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***classes.join('***REMOVED***')\n***REMOVED******REMOVED******REMOVED******REMOVED***}),\n***REMOVED******REMOVED******REMOVED******REMOVED***filterMethod:***REMOVED***(keyword***REMOVED***=***REMOVED***'')***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.filterMethod)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.filterMethod(keyword)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(props.remoteMethod)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.remoteMethod(keyword)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***let***REMOVED***tree***REMOVED***node***REMOVED***expand***REMOVED***only,***REMOVED***same***REMOVED***with***REMOVED***tree***REMOVED***filter\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tree.value?.filter(keyword)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***result\n}\n"],"names":[],"mappings":";;;;;;AAKY,MAAC,SAAS,GAAG,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE;AAClD,EAAE,MAAM;AACR,EAAE,IAAI;AACN,EAAE,GAAG;AACL,CAAC,KAAK;AACN,EAAE,MAAM,EAAE,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;AACzC,EAAE,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,EAAE,MAAM;AAChC,IAAI,IAAI,KAAK,CAAC,UAAU,EAAE;AAC1B,MAAM,QAAQ,CAAC,MAAM;AACrB,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC;AACnB,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,MAAM,CAAC,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;AACpH,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,CAAC;AACxB,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACvD,IAAI,GAAG,KAAK;AACZ,IAAI,KAAK,EAAE,QAAQ,CAAC,MAAM,KAAK,CAAC,KAAK,CAAC;AACtC,IAAI,KAAK,EAAE,QAAQ,CAAC,MAAM,KAAK,CAAC,KAAK,CAAC;AACtC,IAAI,qBAAqB,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,kBAAkB,EAAE,KAAK,CAAC;AACrE,IAAI,QAAQ,EAAE,GAAG;AACjB,IAAI,WAAW,EAAE,QAAQ,CAAC,MAAM;AAChC,MAAM,MAAM,OAAO,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACvC,MAAM,IAAI,KAAK,CAAC,WAAW;AAC3B,QAAQ,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;AACxC,MAAM,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC/B,KAAK,CAAC;AACN,IAAI,YAAY,EAAE,CAAC,OAAO,GAAG,EAAE,KAAK;AACpC,MAAM,IAAI,EAAE,CAAC;AACb,MAAM,IAAI,KAAK,CAAC,YAAY,EAAE;AAC9B,QAAQ,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;AACpC,OAAO,MAAM,IAAI,KAAK,CAAC,YAAY,EAAE;AACrC,QAAQ,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;AACpC,OAAO,MAAM;AACb,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAChE,OAAO;AACP,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,OAAO,MAAM,CAAC;AAChB;;;;"}