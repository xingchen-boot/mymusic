import***REMOVED***{***REMOVED***getCurrentInstance,***REMOVED***onBeforeMount,***REMOVED***onMounted,***REMOVED***onUpdated,***REMOVED***onUnmounted,***REMOVED***computed***REMOVED***}***REMOVED***from***REMOVED***'vue';

function***REMOVED***useLayoutObserver(root)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***getCurrentInstance();
***REMOVED******REMOVED***onBeforeMount(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***tableLayout.value.addObserver(instance);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***onColumnsChange(tableLayout.value);
***REMOVED******REMOVED******REMOVED******REMOVED***onScrollableChange(tableLayout.value);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***onUpdated(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***onColumnsChange(tableLayout.value);
***REMOVED******REMOVED******REMOVED******REMOVED***onScrollableChange(tableLayout.value);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***onUnmounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***tableLayout.value.removeObserver(instance);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***tableLayout***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***layout***REMOVED***=***REMOVED***root.layout;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!layout)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Error("Can***REMOVED***not***REMOVED***find***REMOVED***table***REMOVED***layout.");
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***layout;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***onColumnsChange***REMOVED***=***REMOVED***(layout)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***cols***REMOVED***=***REMOVED***((_a***REMOVED***=***REMOVED***root.vnode.el)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.querySelectorAll("colgroup***REMOVED***>***REMOVED***col"))***REMOVED***||***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!cols.length)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***flattenColumns***REMOVED***=***REMOVED***layout.getFlattenColumns();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***columnsMap***REMOVED***=***REMOVED***{};
***REMOVED******REMOVED******REMOVED******REMOVED***flattenColumns.forEach((column)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***columnsMap[column.id]***REMOVED***=***REMOVED***column;
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0,***REMOVED***j***REMOVED***=***REMOVED***cols.length;***REMOVED***i***REMOVED***<***REMOVED***j;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***col***REMOVED***=***REMOVED***cols[i];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***name***REMOVED***=***REMOVED***col.getAttribute("name");
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***column***REMOVED***=***REMOVED***columnsMap[name];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(column)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***col.setAttribute("width",***REMOVED***column.realWidth***REMOVED***||***REMOVED***column.width);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***onScrollableChange***REMOVED***=***REMOVED***(layout)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***cols***REMOVED***=***REMOVED***((_a***REMOVED***=***REMOVED***root.vnode.el)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.querySelectorAll("colgroup***REMOVED***>***REMOVED***col[name=gutter]"))***REMOVED***||***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0,***REMOVED***j***REMOVED***=***REMOVED***cols.length;***REMOVED***i***REMOVED***<***REMOVED***j;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***col***REMOVED***=***REMOVED***cols[i];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***col.setAttribute("width",***REMOVED***layout.scrollY.value***REMOVED***?***REMOVED***layout.gutterWidth***REMOVED***:***REMOVED***"0");
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***ths***REMOVED***=***REMOVED***((_b***REMOVED***=***REMOVED***root.vnode.el)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_b.querySelectorAll("th.gutter"))***REMOVED***||***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0,***REMOVED***j***REMOVED***=***REMOVED***ths.length;***REMOVED***i***REMOVED***<***REMOVED***j;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***th***REMOVED***=***REMOVED***ths[i];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***th.style.width***REMOVED***=***REMOVED***layout.scrollY.value***REMOVED***?***REMOVED***`${layout.gutterWidth}px`***REMOVED***:***REMOVED***"0";
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***th.style.display***REMOVED***=***REMOVED***layout.scrollY.value***REMOVED***?***REMOVED***""***REMOVED***:***REMOVED***"none";
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***tableLayout:***REMOVED***tableLayout.value,
***REMOVED******REMOVED******REMOVED******REMOVED***onColumnsChange,
***REMOVED******REMOVED******REMOVED******REMOVED***onScrollableChange
***REMOVED******REMOVED***};
}

export***REMOVED***{***REMOVED***useLayoutObserver***REMOVED***as***REMOVED***default***REMOVED***};
//#***REMOVED***sourceMappingURL=layout-observer.mjs.map
