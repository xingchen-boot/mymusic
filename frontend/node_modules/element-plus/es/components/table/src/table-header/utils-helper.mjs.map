{"version":3,"file":"utils-helper.mjs","sources":["../../../../../../../packages/components/table/src/table-header/utils-helper.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***inject***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***TABLE_INJECTION_KEY***REMOVED***}***REMOVED***from***REMOVED***'../tokens'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***DefaultRow***REMOVED***}***REMOVED***from***REMOVED***'../table/defaults'\nimport***REMOVED***type***REMOVED***{***REMOVED***TableColumnCtx***REMOVED***}***REMOVED***from***REMOVED***'../table-column/defaults'\nimport***REMOVED***type***REMOVED***{***REMOVED***TableHeaderProps***REMOVED***}***REMOVED***from***REMOVED***'.'\n\nconst***REMOVED***getAllColumns***REMOVED***=***REMOVED***<T***REMOVED***extends***REMOVED***DefaultRow>(\n***REMOVED******REMOVED***columns:***REMOVED***TableColumnCtx<T>[]\n):***REMOVED***TableColumnCtx<T>[]***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***result:***REMOVED***TableColumnCtx<T>[]***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED***columns.forEach((column)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(column.children)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.push(column)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***eslint-disable-next-line***REMOVED***prefer-spread\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.push.apply(result,***REMOVED***getAllColumns(column.children))\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result.push(column)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***})\n***REMOVED******REMOVED***return***REMOVED***result\n}\n\nexport***REMOVED***const***REMOVED***convertToRows***REMOVED***=***REMOVED***<T***REMOVED***extends***REMOVED***DefaultRow>(\n***REMOVED******REMOVED***originColumns:***REMOVED***TableColumnCtx<T>[]\n):***REMOVED***TableColumnCtx<T>[][]***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***let***REMOVED***maxLevel***REMOVED***=***REMOVED***1\n***REMOVED******REMOVED***const***REMOVED***traverse***REMOVED***=***REMOVED***(column:***REMOVED***TableColumnCtx<T>,***REMOVED***parent?:***REMOVED***TableColumnCtx<T>)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parent)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column.level***REMOVED***=***REMOVED***parent.level***REMOVED***+***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(maxLevel***REMOVED***<***REMOVED***column.level)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***maxLevel***REMOVED***=***REMOVED***column.level\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(column.children)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***colSpan***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column.children.forEach((subColumn)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***traverse(subColumn,***REMOVED***column)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***colSpan***REMOVED***+=***REMOVED***subColumn.colSpan\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column.colSpan***REMOVED***=***REMOVED***colSpan\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column.colSpan***REMOVED***=***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***originColumns.forEach((column)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***column.level***REMOVED***=***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED***traverse(column,***REMOVED***undefined)\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***rows:***REMOVED***TableColumnCtx<T>[][]***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***maxLevel;***REMOVED***i++)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***rows.push([])\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***allColumns:***REMOVED***TableColumnCtx<T>[]***REMOVED***=***REMOVED***getAllColumns(originColumns)\n\n***REMOVED******REMOVED***allColumns.forEach((column)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!column.children)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column.rowSpan***REMOVED***=***REMOVED***maxLevel***REMOVED***-***REMOVED***column.level***REMOVED***+***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column.rowSpan***REMOVED***=***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column.children.forEach((col)***REMOVED***=>***REMOVED***(col.isSubColumn***REMOVED***=***REMOVED***true))\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***rows[column.level***REMOVED***-***REMOVED***1].push(column)\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***rows\n}\n\nfunction***REMOVED***useUtils<T***REMOVED***extends***REMOVED***DefaultRow>(props:***REMOVED***TableHeaderProps<T>)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***parent***REMOVED***=***REMOVED***inject(TABLE_INJECTION_KEY)\n***REMOVED******REMOVED***const***REMOVED***columnRows***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***convertToRows(props.store.states.originColumns.value)\n***REMOVED******REMOVED***})\n***REMOVED******REMOVED***const***REMOVED***isGroup***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***result***REMOVED***=***REMOVED***columnRows.value.length***REMOVED***>***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(result***REMOVED***&&***REMOVED***parent)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parent.state.isGroup.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***result\n***REMOVED******REMOVED***})\n***REMOVED******REMOVED***const***REMOVED***toggleAllSelection***REMOVED***=***REMOVED***(event:***REMOVED***Event)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***event.stopPropagation()\n***REMOVED******REMOVED******REMOVED******REMOVED***parent?.store.commit('toggleAllSelection')\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***isGroup,\n***REMOVED******REMOVED******REMOVED******REMOVED***toggleAllSelection,\n***REMOVED******REMOVED******REMOVED******REMOVED***columnRows,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***default***REMOVED***useUtils\n"],"names":[],"mappings":"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"}