{"version":3,"file":"watermark2.mjs","sources":["../../../../../../packages/components/watermark/src/watermark.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<div***REMOVED***ref=\"containerRef\"***REMOVED***:style=\"[style]\">\n***REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***/>\n***REMOVED******REMOVED***</div>\n</template>\n\n<script***REMOVED***lang=\"ts\"***REMOVED***setup>\nimport***REMOVED***{\n***REMOVED******REMOVED***computed,\n***REMOVED******REMOVED***onBeforeUnmount,\n***REMOVED******REMOVED***onMounted,\n***REMOVED******REMOVED***ref,\n***REMOVED******REMOVED***shallowRef,\n***REMOVED******REMOVED***watch,\n}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useMutationObserver***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core'\nimport***REMOVED***{***REMOVED***isArray,***REMOVED***isUndefined***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***watermarkProps***REMOVED***}***REMOVED***from***REMOVED***'./watermark'\nimport***REMOVED***{***REMOVED***getPixelRatio,***REMOVED***getStyleStr,***REMOVED***reRendering***REMOVED***}***REMOVED***from***REMOVED***'./utils'\nimport***REMOVED***useClips,***REMOVED***{***REMOVED***FontGap***REMOVED***}***REMOVED***from***REMOVED***'./useClips'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***WatermarkProps***REMOVED***}***REMOVED***from***REMOVED***'./watermark'\nimport***REMOVED***type***REMOVED***{***REMOVED***CSSProperties***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\ndefineOptions({\n***REMOVED******REMOVED***name:***REMOVED***'ElWatermark',\n})\n\nconst***REMOVED***style:***REMOVED***CSSProperties***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***position:***REMOVED***'relative',\n}\n\nconst***REMOVED***props***REMOVED***=***REMOVED***defineProps(watermarkProps)\nconst***REMOVED***color***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.font?.color***REMOVED***??***REMOVED***'rgba(0,0,0,.15)')\nconst***REMOVED***fontSize***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.font?.fontSize***REMOVED***??***REMOVED***16)\nconst***REMOVED***fontWeight***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.font?.fontWeight***REMOVED***??***REMOVED***'normal')\nconst***REMOVED***fontStyle***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.font?.fontStyle***REMOVED***??***REMOVED***'normal')\nconst***REMOVED***fontFamily***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.font?.fontFamily***REMOVED***??***REMOVED***'sans-serif')\nconst***REMOVED***textAlign***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.font?.textAlign***REMOVED***??***REMOVED***'center')\nconst***REMOVED***textBaseline***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.font?.textBaseline***REMOVED***??***REMOVED***'hanging')\n\nconst***REMOVED***gapX***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.gap[0])\nconst***REMOVED***gapY***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.gap[1])\nconst***REMOVED***gapXCenter***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***gapX.value***REMOVED***/***REMOVED***2)\nconst***REMOVED***gapYCenter***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***gapY.value***REMOVED***/***REMOVED***2)\nconst***REMOVED***offsetLeft***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.offset?.[0]***REMOVED***??***REMOVED***gapXCenter.value)\nconst***REMOVED***offsetTop***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.offset?.[1]***REMOVED***??***REMOVED***gapYCenter.value)\n\nconst***REMOVED***getMarkStyle***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***markStyle:***REMOVED***CSSProperties***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***zIndex:***REMOVED***props.zIndex,\n***REMOVED******REMOVED******REMOVED******REMOVED***position:***REMOVED***'absolute',\n***REMOVED******REMOVED******REMOVED******REMOVED***left:***REMOVED***0,\n***REMOVED******REMOVED******REMOVED******REMOVED***top:***REMOVED***0,\n***REMOVED******REMOVED******REMOVED******REMOVED***width:***REMOVED***'100%',\n***REMOVED******REMOVED******REMOVED******REMOVED***height:***REMOVED***'100%',\n***REMOVED******REMOVED******REMOVED******REMOVED***pointerEvents:***REMOVED***'none',\n***REMOVED******REMOVED******REMOVED******REMOVED***backgroundRepeat:***REMOVED***'repeat',\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***/*****REMOVED***Calculate***REMOVED***the***REMOVED***style***REMOVED***of***REMOVED***the***REMOVED***offset***REMOVED****/\n***REMOVED******REMOVED***let***REMOVED***positionLeft***REMOVED***=***REMOVED***offsetLeft.value***REMOVED***-***REMOVED***gapXCenter.value\n***REMOVED******REMOVED***let***REMOVED***positionTop***REMOVED***=***REMOVED***offsetTop.value***REMOVED***-***REMOVED***gapYCenter.value\n***REMOVED******REMOVED***if***REMOVED***(positionLeft***REMOVED***>***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***markStyle.left***REMOVED***=***REMOVED***`${positionLeft}px`\n***REMOVED******REMOVED******REMOVED******REMOVED***markStyle.width***REMOVED***=***REMOVED***`calc(100%***REMOVED***-***REMOVED***${positionLeft}px)`\n***REMOVED******REMOVED******REMOVED******REMOVED***positionLeft***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(positionTop***REMOVED***>***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***markStyle.top***REMOVED***=***REMOVED***`${positionTop}px`\n***REMOVED******REMOVED******REMOVED******REMOVED***markStyle.height***REMOVED***=***REMOVED***`calc(100%***REMOVED***-***REMOVED***${positionTop}px)`\n***REMOVED******REMOVED******REMOVED******REMOVED***positionTop***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***markStyle.backgroundPosition***REMOVED***=***REMOVED***`${positionLeft}px***REMOVED***${positionTop}px`\n\n***REMOVED******REMOVED***return***REMOVED***markStyle\n}\n\nconst***REMOVED***containerRef***REMOVED***=***REMOVED***shallowRef<HTMLDivElement***REMOVED***|***REMOVED***null>(null)\nconst***REMOVED***watermarkRef***REMOVED***=***REMOVED***shallowRef<HTMLDivElement>()\nconst***REMOVED***stopObservation***REMOVED***=***REMOVED***ref(false)\n\nconst***REMOVED***destroyWatermark***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(watermarkRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***watermarkRef.value.remove()\n***REMOVED******REMOVED******REMOVED******REMOVED***watermarkRef.value***REMOVED***=***REMOVED***undefined\n***REMOVED******REMOVED***}\n}\nconst***REMOVED***appendWatermark***REMOVED***=***REMOVED***(base64Url:***REMOVED***string,***REMOVED***markWidth:***REMOVED***number)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(containerRef.value***REMOVED***&&***REMOVED***watermarkRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***stopObservation.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***watermarkRef.value.setAttribute(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'style',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***getStyleStr({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...getMarkStyle(),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***backgroundImage:***REMOVED***`url('${base64Url}')`,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***backgroundSize:***REMOVED***`${Math.floor(markWidth)}px`,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***containerRef.value?.append(watermarkRef.value)\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Delayed***REMOVED***execution\n***REMOVED******REMOVED******REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stopObservation.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED***}\n}\n\n/**\n***REMOVED*******REMOVED***Get***REMOVED***the***REMOVED***width***REMOVED***and***REMOVED***height***REMOVED***of***REMOVED***the***REMOVED***watermark.***REMOVED***The***REMOVED***default***REMOVED***values***REMOVED***are***REMOVED***as***REMOVED***follows\n***REMOVED*******REMOVED***Image:***REMOVED***[120,***REMOVED***64];***REMOVED***Content:***REMOVED***It's***REMOVED***calculated***REMOVED***by***REMOVED***content;\n***REMOVED****/\nconst***REMOVED***getMarkSize***REMOVED***=***REMOVED***(ctx:***REMOVED***CanvasRenderingContext2D)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***let***REMOVED***defaultWidth***REMOVED***=***REMOVED***120\n***REMOVED******REMOVED***let***REMOVED***defaultHeight***REMOVED***=***REMOVED***64\n***REMOVED******REMOVED***let***REMOVED***space***REMOVED***=***REMOVED***0\n\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***image,***REMOVED***content,***REMOVED***width,***REMOVED***height,***REMOVED***rotate***REMOVED***}***REMOVED***=***REMOVED***props\n\n***REMOVED******REMOVED***if***REMOVED***(!image***REMOVED***&&***REMOVED***ctx.measureText)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***ctx.font***REMOVED***=***REMOVED***`${Number(fontSize.value)}px***REMOVED***${fontFamily.value}`\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***contents***REMOVED***=***REMOVED***isArray(content)***REMOVED***?***REMOVED***content***REMOVED***:***REMOVED***[content]\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***maxWidth***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***maxHeight***REMOVED***=***REMOVED***0\n\n***REMOVED******REMOVED******REMOVED******REMOVED***contents.forEach((item)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***width,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fontBoundingBoxAscent,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fontBoundingBoxDescent,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***actualBoundingBoxAscent,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***actualBoundingBoxDescent,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***=***REMOVED***ctx.measureText(item!)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Using***REMOVED***`actualBoundingBoxAscent`***REMOVED***to***REMOVED***be***REMOVED***compatible***REMOVED***with***REMOVED***lower***REMOVED***version***REMOVED***browsers***REMOVED***(eg:***REMOVED***Firefox***REMOVED***<***REMOVED***116)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***height***REMOVED***=***REMOVED***isUndefined(fontBoundingBoxAscent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***actualBoundingBoxAscent***REMOVED***+***REMOVED***actualBoundingBoxDescent\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***fontBoundingBoxAscent***REMOVED***+***REMOVED***fontBoundingBoxDescent\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(width***REMOVED***>***REMOVED***maxWidth)***REMOVED***maxWidth***REMOVED***=***REMOVED***Math.ceil(width)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(height***REMOVED***>***REMOVED***maxHeight)***REMOVED***maxHeight***REMOVED***=***REMOVED***Math.ceil(height)\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***defaultWidth***REMOVED***=***REMOVED***maxWidth\n***REMOVED******REMOVED******REMOVED******REMOVED***defaultHeight***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***maxHeight***REMOVED*******REMOVED***contents.length***REMOVED***+***REMOVED***(contents.length***REMOVED***-***REMOVED***1)***REMOVED*******REMOVED***FontGap\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***angle***REMOVED***=***REMOVED***(Math.PI***REMOVED***/***REMOVED***180)***REMOVED*******REMOVED***Number(rotate)\n***REMOVED******REMOVED******REMOVED******REMOVED***space***REMOVED***=***REMOVED***Math.ceil(Math.abs(Math.sin(angle)***REMOVED*******REMOVED***defaultHeight)***REMOVED***/***REMOVED***2)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***defaultWidth***REMOVED***+=***REMOVED***space\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***[width***REMOVED***??***REMOVED***defaultWidth,***REMOVED***height***REMOVED***??***REMOVED***defaultHeight,***REMOVED***space]***REMOVED***as***REMOVED***const\n}\n\nconst***REMOVED***getClips***REMOVED***=***REMOVED***useClips()\n\nconst***REMOVED***renderWatermark***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***canvas***REMOVED***=***REMOVED***document.createElement('canvas')\n***REMOVED******REMOVED***const***REMOVED***ctx***REMOVED***=***REMOVED***canvas.getContext('2d')\n***REMOVED******REMOVED***const***REMOVED***image***REMOVED***=***REMOVED***props.image\n***REMOVED******REMOVED***const***REMOVED***content***REMOVED***=***REMOVED***props.content\n***REMOVED******REMOVED***const***REMOVED***rotate***REMOVED***=***REMOVED***props.rotate\n\n***REMOVED******REMOVED***if***REMOVED***(ctx)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!watermarkRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***watermarkRef.value***REMOVED***=***REMOVED***document.createElement('div')\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***ratio***REMOVED***=***REMOVED***getPixelRatio()\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***[markWidth,***REMOVED***markHeight,***REMOVED***space]***REMOVED***=***REMOVED***getMarkSize(ctx)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***drawCanvas***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***drawContent?:***REMOVED***NonNullable<WatermarkProps['content']>***REMOVED***|***REMOVED***HTMLImageElement\n***REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***[textClips,***REMOVED***clipWidth]***REMOVED***=***REMOVED***getClips(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***drawContent***REMOVED***||***REMOVED***'',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rotate,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ratio,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***markWidth,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***markHeight,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***color:***REMOVED***color.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fontSize:***REMOVED***fontSize.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fontStyle:***REMOVED***fontStyle.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fontWeight:***REMOVED***fontWeight.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fontFamily:***REMOVED***fontFamily.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***textAlign:***REMOVED***textAlign.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***textBaseline:***REMOVED***textBaseline.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***gapX.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***gapY.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***space\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***appendWatermark(textClips,***REMOVED***clipWidth)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(image)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***img***REMOVED***=***REMOVED***new***REMOVED***Image()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***img.onload***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***drawCanvas(img)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***img.onerror***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***drawCanvas(content)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***img.crossOrigin***REMOVED***=***REMOVED***'anonymous'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***img.referrerPolicy***REMOVED***=***REMOVED***'no-referrer'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***img.src***REMOVED***=***REMOVED***image\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***drawCanvas(content)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n}\n\nonMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***renderWatermark()\n})\n\nwatch(\n***REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props,\n***REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***renderWatermark()\n***REMOVED******REMOVED***},\n***REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***deep:***REMOVED***true,\n***REMOVED******REMOVED******REMOVED******REMOVED***flush:***REMOVED***'post',\n***REMOVED******REMOVED***}\n)\n\nonBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***destroyWatermark()\n})\n\nconst***REMOVED***onMutate***REMOVED***=***REMOVED***(mutations:***REMOVED***MutationRecord[])***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(stopObservation.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***mutations.forEach((mutation)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(reRendering(mutation,***REMOVED***watermarkRef.value))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***destroyWatermark()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***renderWatermark()\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***})\n}\n\nuseMutationObserver(containerRef,***REMOVED***onMutate,***REMOVED***{\n***REMOVED******REMOVED***attributes:***REMOVED***true,\n***REMOVED******REMOVED***subtree:***REMOVED***true,\n***REMOVED******REMOVED***childList:***REMOVED***true,\n})\n</script>\n"],"names":["width"],"mappings":"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"}