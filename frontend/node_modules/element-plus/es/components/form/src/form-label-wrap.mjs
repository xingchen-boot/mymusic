import***REMOVED***{***REMOVED***defineComponent,***REMOVED***inject,***REMOVED***ref,***REMOVED***onMounted,***REMOVED***onBeforeUnmount,***REMOVED***onUpdated,***REMOVED***watch,***REMOVED***computed,***REMOVED***createVNode,***REMOVED***Fragment,***REMOVED***nextTick***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***useResizeObserver***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***formContextKey,***REMOVED***formItemContextKey***REMOVED***}***REMOVED***from***REMOVED***'./constants.mjs';
import***REMOVED***{***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/error.mjs';
import***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'../../../hooks/use-namespace/index.mjs';

const***REMOVED***COMPONENT_NAME***REMOVED***=***REMOVED***"ElLabelWrap";
var***REMOVED***FormLabelWrap***REMOVED***=***REMOVED***defineComponent({
***REMOVED******REMOVED***name:***REMOVED***COMPONENT_NAME,
***REMOVED******REMOVED***props:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***isAutoWidth:***REMOVED***Boolean,
***REMOVED******REMOVED******REMOVED******REMOVED***updateAll:***REMOVED***Boolean
***REMOVED******REMOVED***},
***REMOVED******REMOVED***setup(props,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***slots
***REMOVED******REMOVED***})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***formContext***REMOVED***=***REMOVED***inject(formContextKey,***REMOVED***void***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***formItemContext***REMOVED***=***REMOVED***inject(formItemContextKey);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!formItemContext)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throwError(COMPONENT_NAME,***REMOVED***"usage:***REMOVED***<el-form-item><label-wrap***REMOVED***/></el-form-item>");
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace("form");
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***el***REMOVED***=***REMOVED***ref();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***computedWidth***REMOVED***=***REMOVED***ref(0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***getLabelWidth***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***((_a***REMOVED***=***REMOVED***el.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.firstElementChild)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***width***REMOVED***=***REMOVED***window.getComputedStyle(el.value.firstElementChild).width;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Math.ceil(Number.parseFloat(width));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***updateLabelWidth***REMOVED***=***REMOVED***(action***REMOVED***=***REMOVED***"update")***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***nextTick(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(slots.default***REMOVED***&&***REMOVED***props.isAutoWidth)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(action***REMOVED***===***REMOVED***"update")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***computedWidth.value***REMOVED***=***REMOVED***getLabelWidth();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(action***REMOVED***===***REMOVED***"remove")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formContext***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***formContext.deregisterLabelWidth(computedWidth.value);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***updateLabelWidthFn***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***updateLabelWidth("update");
***REMOVED******REMOVED******REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateLabelWidthFn();
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateLabelWidth("remove");
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***onUpdated(()***REMOVED***=>***REMOVED***updateLabelWidthFn());
***REMOVED******REMOVED******REMOVED******REMOVED***watch(computedWidth,***REMOVED***(val,***REMOVED***oldVal)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.updateAll)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formContext***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***formContext.registerLabelWidth(val,***REMOVED***oldVal);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***useResizeObserver(computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***(_b***REMOVED***=***REMOVED***(_a***REMOVED***=***REMOVED***el.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.firstElementChild)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_b***REMOVED***:***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***}),***REMOVED***updateLabelWidthFn);
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!slots)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isAutoWidth
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***=***REMOVED***props;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isAutoWidth)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***autoLabelWidth***REMOVED***=***REMOVED***formContext***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***formContext.autoLabelWidth;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***hasLabel***REMOVED***=***REMOVED***formItemContext***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***formItemContext.hasLabel;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***style***REMOVED***=***REMOVED***{};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasLabel***REMOVED***&&***REMOVED***autoLabelWidth***REMOVED***&&***REMOVED***autoLabelWidth***REMOVED***!==***REMOVED***"auto")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***marginWidth***REMOVED***=***REMOVED***Math.max(0,***REMOVED***Number.parseInt(autoLabelWidth,***REMOVED***10)***REMOVED***-***REMOVED***computedWidth.value);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***labelPosition***REMOVED***=***REMOVED***formItemContext.labelPosition***REMOVED***||***REMOVED***formContext.labelPosition;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***marginPosition***REMOVED***=***REMOVED***labelPosition***REMOVED***===***REMOVED***"left"***REMOVED***?***REMOVED***"marginRight"***REMOVED***:***REMOVED***"marginLeft";
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(marginWidth)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***style[marginPosition]***REMOVED***=***REMOVED***`${marginWidth}px`;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***createVNode("div",***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"ref":***REMOVED***el,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"class":***REMOVED***[ns.be("item",***REMOVED***"label-wrap")],
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"style":***REMOVED***style
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***[(_a***REMOVED***=***REMOVED***slots.default)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.call(slots)]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***createVNode(Fragment,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***"ref":***REMOVED***el
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***[(_b***REMOVED***=***REMOVED***slots.default)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_b.call(slots)]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED***}
});

export***REMOVED***{***REMOVED***FormLabelWrap***REMOVED***as***REMOVED***default***REMOVED***};
//#***REMOVED***sourceMappingURL=form-label-wrap.mjs.map
