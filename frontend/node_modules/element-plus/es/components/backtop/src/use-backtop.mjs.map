{"version":3,"file":"use-backtop.mjs","sources":["../../../../../../packages/components/backtop/src/use-backtop.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***onMounted,***REMOVED***ref,***REMOVED***shallowRef***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useEventListener,***REMOVED***useThrottleFn***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core'\nimport***REMOVED***{***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***SetupContext***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***BacktopEmits,***REMOVED***BacktopProps***REMOVED***}***REMOVED***from***REMOVED***'./backtop'\n\nexport***REMOVED***const***REMOVED***useBackTop***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***BacktopProps,\n***REMOVED******REMOVED***emit:***REMOVED***SetupContext<BacktopEmits>['emit'],\n***REMOVED******REMOVED***componentName:***REMOVED***string\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***el***REMOVED***=***REMOVED***shallowRef<HTMLElement>()\n***REMOVED******REMOVED***const***REMOVED***container***REMOVED***=***REMOVED***shallowRef<Document***REMOVED***|***REMOVED***HTMLElement>()\n***REMOVED******REMOVED***const***REMOVED***visible***REMOVED***=***REMOVED***ref(false)\n\n***REMOVED******REMOVED***const***REMOVED***handleScroll***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(el.value)***REMOVED***visible.value***REMOVED***=***REMOVED***el.value.scrollTop***REMOVED***>=***REMOVED***props.visibilityHeight\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***handleClick***REMOVED***=***REMOVED***(event:***REMOVED***MouseEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***el.value?.scrollTo({***REMOVED***top:***REMOVED***0,***REMOVED***behavior:***REMOVED***'smooth'***REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***emit('click',***REMOVED***event)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***handleScrollThrottled***REMOVED***=***REMOVED***useThrottleFn(handleScroll,***REMOVED***300,***REMOVED***true)\n\n***REMOVED******REMOVED***useEventListener(container,***REMOVED***'scroll',***REMOVED***handleScrollThrottled)\n***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***container.value***REMOVED***=***REMOVED***document\n***REMOVED******REMOVED******REMOVED******REMOVED***el.value***REMOVED***=***REMOVED***document.documentElement\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.target)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***el.value***REMOVED***=***REMOVED***document.querySelector<HTMLElement>(props.target)***REMOVED***??***REMOVED***undefined\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!el.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throwError(componentName,***REMOVED***`target***REMOVED***does***REMOVED***not***REMOVED***exist:***REMOVED***${props.target}`)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***container.value***REMOVED***=***REMOVED***el.value\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Give***REMOVED***visible***REMOVED***an***REMOVED***initial***REMOVED***value,***REMOVED***fix***REMOVED***#13066\n***REMOVED******REMOVED******REMOVED******REMOVED***handleScroll()\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***visible,\n***REMOVED******REMOVED******REMOVED******REMOVED***handleClick,\n***REMOVED******REMOVED***}\n}\n"],"names":[],"mappings":";;;;AAGY,MAAC,UAAU,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,aAAa,KAAK;AAC1D,EAAE,MAAM,EAAE,GAAG,UAAU,EAAE,CAAC;AAC1B,EAAE,MAAM,SAAS,GAAG,UAAU,EAAE,CAAC;AACjC,EAAE,MAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;AAC7B,EAAE,MAAM,YAAY,GAAG,MAAM;AAC7B,IAAI,IAAI,EAAE,CAAC,KAAK;AAChB,MAAM,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,gBAAgB,CAAC;AACnE,GAAG,CAAC;AACJ,EAAE,MAAM,WAAW,GAAG,CAAC,KAAK,KAAK;AACjC,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;AACnF,IAAI,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AACzB,GAAG,CAAC;AACJ,EAAE,MAAM,qBAAqB,GAAG,aAAa,CAAC,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;AACvE,EAAE,gBAAgB,CAAC,SAAS,EAAE,QAAQ,EAAE,qBAAqB,CAAC,CAAC;AAC/D,EAAE,SAAS,CAAC,MAAM;AAClB,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,SAAS,CAAC,KAAK,GAAG,QAAQ,CAAC;AAC/B,IAAI,EAAE,CAAC,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC;AACxC,IAAI,IAAI,KAAK,CAAC,MAAM,EAAE;AACtB,MAAM,EAAE,CAAC,KAAK,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC;AACnF,MAAM,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE;AACrB,QAAQ,UAAU,CAAC,aAAa,EAAE,CAAC,uBAAuB,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC5E,OAAO;AACP,MAAM,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;AACjC,KAAK;AACL,IAAI,YAAY,EAAE,CAAC;AACnB,GAAG,CAAC,CAAC;AACL,EAAE,OAAO;AACT,IAAI,OAAO;AACX,IAAI,WAAW;AACf,GAAG,CAAC;AACJ;;;;"}