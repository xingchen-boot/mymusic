{"version":3,"file":"use-content.mjs","sources":["../../../../../../../packages/components/popper/src/composables/use-content.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***inject,***REMOVED***onMounted,***REMOVED***ref,***REMOVED***unref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***isUndefined***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\nimport***REMOVED***{***REMOVED***usePopper***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***POPPER_INJECTION_KEY***REMOVED***}***REMOVED***from***REMOVED***'../constants'\nimport***REMOVED***{***REMOVED***buildPopperOptions,***REMOVED***unwrapMeasurableEl***REMOVED***}***REMOVED***from***REMOVED***'../utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Modifier***REMOVED***}***REMOVED***from***REMOVED***'@popperjs/core'\nimport***REMOVED***type***REMOVED***{***REMOVED***PartialOptions***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***type***REMOVED***{***REMOVED***PopperContentProps***REMOVED***}***REMOVED***from***REMOVED***'../content'\n\nconst***REMOVED***DEFAULT_ARROW_OFFSET***REMOVED***=***REMOVED***0\n\nexport***REMOVED***const***REMOVED***usePopperContent***REMOVED***=***REMOVED***(props:***REMOVED***PopperContentProps)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***popperInstanceRef,***REMOVED***contentRef,***REMOVED***triggerRef,***REMOVED***role***REMOVED***}***REMOVED***=***REMOVED***inject(\n***REMOVED******REMOVED******REMOVED******REMOVED***POPPER_INJECTION_KEY,\n***REMOVED******REMOVED******REMOVED******REMOVED***undefined\n***REMOVED******REMOVED***)!\n\n***REMOVED******REMOVED***const***REMOVED***arrowRef***REMOVED***=***REMOVED***ref<HTMLElement>()\n***REMOVED******REMOVED***const***REMOVED***arrowOffset***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.arrowOffset)\n\n***REMOVED******REMOVED***const***REMOVED***eventListenerModifier***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***name:***REMOVED***'eventListeners',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***enabled:***REMOVED***!!props.visible,\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***as***REMOVED***Modifier<'eventListeners',***REMOVED***any>\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***arrowModifier***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***arrowEl***REMOVED***=***REMOVED***unref(arrowRef)\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***offset***REMOVED***=***REMOVED***unref(arrowOffset)***REMOVED***??***REMOVED***DEFAULT_ARROW_OFFSET\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Seems***REMOVED***like***REMOVED***the***REMOVED***`phase`***REMOVED***and***REMOVED***`fn`***REMOVED***is***REMOVED***required***REMOVED***by***REMOVED***Modifier***REMOVED***type\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***But***REMOVED***on***REMOVED***its***REMOVED***documentation***REMOVED***they***REMOVED***didn't***REMOVED***specify***REMOVED***that.\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Refer***REMOVED***to***REMOVED***https://popper.js.org/docs/v2/modifiers/arrow/\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***name:***REMOVED***'arrow',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***enabled:***REMOVED***!isUndefined(arrowEl),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***element:***REMOVED***arrowEl,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***padding:***REMOVED***offset,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***as***REMOVED***any\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***options***REMOVED***=***REMOVED***computed<PartialOptions>(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onFirstUpdate:***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***update()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...buildPopperOptions(props,***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***unref(arrowModifier),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***unref(eventListenerModifier),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***]),\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***computedReference***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***unwrapMeasurableEl(props.referenceEl)***REMOVED***||***REMOVED***unref(triggerRef)\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***attributes,***REMOVED***state,***REMOVED***styles,***REMOVED***update,***REMOVED***forceUpdate,***REMOVED***instanceRef***REMOVED***}***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***usePopper(computedReference,***REMOVED***contentRef,***REMOVED***options)\n\n***REMOVED******REMOVED***watch(instanceRef,***REMOVED***(instance)***REMOVED***=>***REMOVED***(popperInstanceRef.value***REMOVED***=***REMOVED***instance),***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***flush:***REMOVED***'sync',\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***unref(computedReference)?.getBoundingClientRect?.(),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***update()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***attributes,\n***REMOVED******REMOVED******REMOVED******REMOVED***arrowRef,\n***REMOVED******REMOVED******REMOVED******REMOVED***contentRef,\n***REMOVED******REMOVED******REMOVED******REMOVED***instanceRef,\n***REMOVED******REMOVED******REMOVED******REMOVED***state,\n***REMOVED******REMOVED******REMOVED******REMOVED***styles,\n***REMOVED******REMOVED******REMOVED******REMOVED***role,\n\n***REMOVED******REMOVED******REMOVED******REMOVED***forceUpdate,\n***REMOVED******REMOVED******REMOVED******REMOVED***update,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***type***REMOVED***UsePopperContentReturn***REMOVED***=***REMOVED***ReturnType<typeof***REMOVED***usePopperContent>\n"],"names":[],"mappings":"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"}