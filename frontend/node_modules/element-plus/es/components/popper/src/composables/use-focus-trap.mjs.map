{"version":3,"file":"use-focus-trap.mjs","sources":["../../../../../../../packages/components/popper/src/composables/use-focus-trap.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***SetupContext***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***PopperContentEmits,***REMOVED***PopperContentProps***REMOVED***}***REMOVED***from***REMOVED***'../content'\n\nexport***REMOVED***const***REMOVED***usePopperContentFocusTrap***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***PopperContentProps,\n***REMOVED******REMOVED***emit:***REMOVED***SetupContext<PopperContentEmits>['emit']\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***trapped***REMOVED***=***REMOVED***ref(false)\n***REMOVED******REMOVED***const***REMOVED***focusStartRef***REMOVED***=***REMOVED***ref<'container'***REMOVED***|***REMOVED***'first'***REMOVED***|***REMOVED***HTMLElement>()\n\n***REMOVED******REMOVED***const***REMOVED***onFocusAfterTrapped***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***emit('focus')\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onFocusAfterReleased***REMOVED***=***REMOVED***(event:***REMOVED***CustomEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(event.detail?.focusReason***REMOVED***!==***REMOVED***'pointer')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusStartRef.value***REMOVED***=***REMOVED***'first'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit('blur')\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onFocusInTrap***REMOVED***=***REMOVED***(event:***REMOVED***FocusEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.visible***REMOVED***&&***REMOVED***!trapped.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(event.target)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusStartRef.value***REMOVED***=***REMOVED***event.target***REMOVED***as***REMOVED***typeof***REMOVED***focusStartRef.value\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapped.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onFocusoutPrevented***REMOVED***=***REMOVED***(event:***REMOVED***CustomEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.trapping)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(event.detail.focusReason***REMOVED***===***REMOVED***'pointer')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***event.preventDefault()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapped.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onReleaseRequested***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***trapped.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED***emit('close')\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***focusStartRef,\n***REMOVED******REMOVED******REMOVED******REMOVED***trapped,\n\n***REMOVED******REMOVED******REMOVED******REMOVED***onFocusAfterReleased,\n***REMOVED******REMOVED******REMOVED******REMOVED***onFocusAfterTrapped,\n***REMOVED******REMOVED******REMOVED******REMOVED***onFocusInTrap,\n***REMOVED******REMOVED******REMOVED******REMOVED***onFocusoutPrevented,\n***REMOVED******REMOVED******REMOVED******REMOVED***onReleaseRequested,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***type***REMOVED***UsePopperContentFocusTrapReturn***REMOVED***=***REMOVED***ReturnType<\n***REMOVED******REMOVED***typeof***REMOVED***usePopperContentFocusTrap\n>\n"],"names":[],"mappings":";;AACY,MAAC,yBAAyB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAK;AAC1D,EAAE,MAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;AAC7B,EAAE,MAAM,aAAa,GAAG,GAAG,EAAE,CAAC;AAC9B,EAAE,MAAM,mBAAmB,GAAG,MAAM;AACpC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;AAClB,GAAG,CAAC;AACJ,EAAE,MAAM,oBAAoB,GAAG,CAAC,KAAK,KAAK;AAC1C,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,IAAI,CAAC,CAAC,EAAE,GAAG,KAAK,CAAC,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,WAAW,MAAM,SAAS,EAAE;AAC/E,MAAM,aAAa,CAAC,KAAK,GAAG,OAAO,CAAC;AACpC,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC;AACnB,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,aAAa,GAAG,CAAC,KAAK,KAAK;AACnC,IAAI,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;AACzC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;AACxB,QAAQ,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;AAC3C,OAAO;AACP,MAAM,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;AAC3B,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,mBAAmB,GAAG,CAAC,KAAK,KAAK;AACzC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;AACzB,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,WAAW,KAAK,SAAS,EAAE;AAClD,QAAQ,KAAK,CAAC,cAAc,EAAE,CAAC;AAC/B,OAAO;AACP,MAAM,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AAC5B,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,kBAAkB,GAAG,MAAM;AACnC,IAAI,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AAC1B,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;AAClB,GAAG,CAAC;AACJ,EAAE,OAAO;AACT,IAAI,aAAa;AACjB,IAAI,OAAO;AACX,IAAI,oBAAoB;AACxB,IAAI,mBAAmB;AACvB,IAAI,aAAa;AACjB,IAAI,mBAAmB;AACvB,IAAI,kBAAkB;AACtB,GAAG,CAAC;AACJ;;;;"}