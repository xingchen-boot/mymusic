import***REMOVED***{***REMOVED***ref,***REMOVED***provide,***REMOVED***inject,***REMOVED***onMounted,***REMOVED***unref,***REMOVED***onBeforeUnmount***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***Collection***REMOVED***from***REMOVED***'./collection2.mjs';
import***REMOVED***CollectionItem***REMOVED***from***REMOVED***'./collection-item.mjs';

const***REMOVED***COLLECTION_ITEM_SIGN***REMOVED***=***REMOVED***`data-el-collection-item`;
const***REMOVED***createCollectionWithScope***REMOVED***=***REMOVED***(name)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***COLLECTION_NAME***REMOVED***=***REMOVED***`El${name}Collection`;
***REMOVED******REMOVED***const***REMOVED***COLLECTION_ITEM_NAME***REMOVED***=***REMOVED***`${COLLECTION_NAME}Item`;
***REMOVED******REMOVED***const***REMOVED***COLLECTION_INJECTION_KEY***REMOVED***=***REMOVED***Symbol(COLLECTION_NAME);
***REMOVED******REMOVED***const***REMOVED***COLLECTION_ITEM_INJECTION_KEY***REMOVED***=***REMOVED***Symbol(COLLECTION_ITEM_NAME);
***REMOVED******REMOVED***const***REMOVED***ElCollection***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***...Collection,
***REMOVED******REMOVED******REMOVED******REMOVED***name:***REMOVED***COLLECTION_NAME,
***REMOVED******REMOVED******REMOVED******REMOVED***setup()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***collectionRef***REMOVED***=***REMOVED***ref();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***itemMap***REMOVED***=***REMOVED***/****REMOVED***@__PURE__***REMOVED****/***REMOVED***new***REMOVED***Map();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***getItems***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***collectionEl***REMOVED***=***REMOVED***unref(collectionRef);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!collectionEl)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***orderedNodes***REMOVED***=***REMOVED***Array.from(collectionEl.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***items***REMOVED***=***REMOVED***[...itemMap.values()];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***items.sort((a,***REMOVED***b)***REMOVED***=>***REMOVED***orderedNodes.indexOf(a.ref)***REMOVED***-***REMOVED***orderedNodes.indexOf(b.ref));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***provide(COLLECTION_INJECTION_KEY,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***itemMap,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***getItems,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***collectionRef
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***ElCollectionItem***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***...CollectionItem,
***REMOVED******REMOVED******REMOVED******REMOVED***name:***REMOVED***COLLECTION_ITEM_NAME,
***REMOVED******REMOVED******REMOVED******REMOVED***setup(_,***REMOVED***{***REMOVED***attrs***REMOVED***})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***collectionItemRef***REMOVED***=***REMOVED***ref();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***collectionInjection***REMOVED***=***REMOVED***inject(COLLECTION_INJECTION_KEY,***REMOVED***void***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***provide(COLLECTION_ITEM_INJECTION_KEY,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***collectionItemRef
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***collectionItemEl***REMOVED***=***REMOVED***unref(collectionItemRef);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(collectionItemEl)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***collectionInjection.itemMap.set(collectionItemEl,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ref:***REMOVED***collectionItemEl,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...attrs
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***collectionItemEl***REMOVED***=***REMOVED***unref(collectionItemRef);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***collectionInjection.itemMap.delete(collectionItemEl);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***COLLECTION_INJECTION_KEY,
***REMOVED******REMOVED******REMOVED******REMOVED***COLLECTION_ITEM_INJECTION_KEY,
***REMOVED******REMOVED******REMOVED******REMOVED***ElCollection,
***REMOVED******REMOVED******REMOVED******REMOVED***ElCollectionItem
***REMOVED******REMOVED***};
};

export***REMOVED***{***REMOVED***COLLECTION_ITEM_SIGN,***REMOVED***createCollectionWithScope***REMOVED***};
//#***REMOVED***sourceMappingURL=collection.mjs.map
