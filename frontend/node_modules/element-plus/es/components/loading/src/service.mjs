import***REMOVED***{***REMOVED***nextTick***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***createLoadingComponent***REMOVED***}***REMOVED***from***REMOVED***'./loading.mjs';
import***REMOVED***{***REMOVED***isClient***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***isString***REMOVED***}***REMOVED***from***REMOVED***'@vue/shared';
import***REMOVED***{***REMOVED***getStyle,***REMOVED***addClass,***REMOVED***removeClass***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/dom/style.mjs';

let***REMOVED***fullscreenInstance***REMOVED***=***REMOVED***void***REMOVED***0;
const***REMOVED***Loading***REMOVED***=***REMOVED***function(options***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!isClient)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***void***REMOVED***0;
***REMOVED******REMOVED***const***REMOVED***resolved***REMOVED***=***REMOVED***resolveOptions(options);
***REMOVED******REMOVED***if***REMOVED***(resolved.fullscreen***REMOVED***&&***REMOVED***fullscreenInstance)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***fullscreenInstance;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***createLoadingComponent({
***REMOVED******REMOVED******REMOVED******REMOVED***...resolved,
***REMOVED******REMOVED******REMOVED******REMOVED***closed:***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a***REMOVED***=***REMOVED***resolved.closed)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.call(resolved);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(resolved.fullscreen)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fullscreenInstance***REMOVED***=***REMOVED***void***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***},***REMOVED***Loading._context);
***REMOVED******REMOVED***addStyle(resolved,***REMOVED***resolved.parent,***REMOVED***instance);
***REMOVED******REMOVED***addClassList(resolved,***REMOVED***resolved.parent,***REMOVED***instance);
***REMOVED******REMOVED***resolved.parent.vLoadingAddClassList***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***addClassList(resolved,***REMOVED***resolved.parent,***REMOVED***instance);
***REMOVED******REMOVED***let***REMOVED***loadingNumber***REMOVED***=***REMOVED***resolved.parent.getAttribute("loading-number");
***REMOVED******REMOVED***if***REMOVED***(!loadingNumber)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***loadingNumber***REMOVED***=***REMOVED***"1";
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***loadingNumber***REMOVED***=***REMOVED***`${Number.parseInt(loadingNumber)***REMOVED***+***REMOVED***1}`;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***resolved.parent.setAttribute("loading-number",***REMOVED***loadingNumber);
***REMOVED******REMOVED***resolved.parent.appendChild(instance.$el);
***REMOVED******REMOVED***nextTick(()***REMOVED***=>***REMOVED***instance.visible.value***REMOVED***=***REMOVED***resolved.visible);
***REMOVED******REMOVED***if***REMOVED***(resolved.fullscreen)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***fullscreenInstance***REMOVED***=***REMOVED***instance;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***instance;
};
const***REMOVED***resolveOptions***REMOVED***=***REMOVED***(options)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b,***REMOVED***_c,***REMOVED***_d;
***REMOVED******REMOVED***let***REMOVED***target;
***REMOVED******REMOVED***if***REMOVED***(isString(options.target))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***target***REMOVED***=***REMOVED***(_a***REMOVED***=***REMOVED***document.querySelector(options.target))***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***document.body;
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***target***REMOVED***=***REMOVED***options.target***REMOVED***||***REMOVED***document.body;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***parent:***REMOVED***target***REMOVED***===***REMOVED***document.body***REMOVED***||***REMOVED***options.body***REMOVED***?***REMOVED***document.body***REMOVED***:***REMOVED***target,
***REMOVED******REMOVED******REMOVED******REMOVED***background:***REMOVED***options.background***REMOVED***||***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED***svg:***REMOVED***options.svg***REMOVED***||***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED***svgViewBox:***REMOVED***options.svgViewBox***REMOVED***||***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED***spinner:***REMOVED***options.spinner***REMOVED***||***REMOVED***false,
***REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***options.text***REMOVED***||***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED***fullscreen:***REMOVED***target***REMOVED***===***REMOVED***document.body***REMOVED***&&***REMOVED***((_b***REMOVED***=***REMOVED***options.fullscreen)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_b***REMOVED***:***REMOVED***true),
***REMOVED******REMOVED******REMOVED******REMOVED***lock:***REMOVED***(_c***REMOVED***=***REMOVED***options.lock)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_c***REMOVED***:***REMOVED***false,
***REMOVED******REMOVED******REMOVED******REMOVED***customClass:***REMOVED***options.customClass***REMOVED***||***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED***visible:***REMOVED***(_d***REMOVED***=***REMOVED***options.visible)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_d***REMOVED***:***REMOVED***true,
***REMOVED******REMOVED******REMOVED******REMOVED***beforeClose:***REMOVED***options.beforeClose,
***REMOVED******REMOVED******REMOVED******REMOVED***closed:***REMOVED***options.closed,
***REMOVED******REMOVED******REMOVED******REMOVED***target
***REMOVED******REMOVED***};
};
const***REMOVED***addStyle***REMOVED***=***REMOVED***async***REMOVED***(options,***REMOVED***parent,***REMOVED***instance)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***nextZIndex***REMOVED***}***REMOVED***=***REMOVED***instance.vm.zIndex***REMOVED***||***REMOVED***instance.vm._.exposed.zIndex;
***REMOVED******REMOVED***const***REMOVED***maskStyle***REMOVED***=***REMOVED***{};
***REMOVED******REMOVED***if***REMOVED***(options.fullscreen)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***instance.originalPosition.value***REMOVED***=***REMOVED***getStyle(document.body,***REMOVED***"position");
***REMOVED******REMOVED******REMOVED******REMOVED***instance.originalOverflow.value***REMOVED***=***REMOVED***getStyle(document.body,***REMOVED***"overflow");
***REMOVED******REMOVED******REMOVED******REMOVED***maskStyle.zIndex***REMOVED***=***REMOVED***nextZIndex();
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(options.parent***REMOVED***===***REMOVED***document.body)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***instance.originalPosition.value***REMOVED***=***REMOVED***getStyle(document.body,***REMOVED***"position");
***REMOVED******REMOVED******REMOVED******REMOVED***await***REMOVED***nextTick();
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(const***REMOVED***property***REMOVED***of***REMOVED***["top",***REMOVED***"left"])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***scroll***REMOVED***=***REMOVED***property***REMOVED***===***REMOVED***"top"***REMOVED***?***REMOVED***"scrollTop"***REMOVED***:***REMOVED***"scrollLeft";
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***maskStyle[property]***REMOVED***=***REMOVED***`${options.target.getBoundingClientRect()[property]***REMOVED***+***REMOVED***document.body[scroll]***REMOVED***+***REMOVED***document.documentElement[scroll]***REMOVED***-***REMOVED***Number.parseInt(getStyle(document.body,***REMOVED***`margin-${property}`),***REMOVED***10)}px`;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(const***REMOVED***property***REMOVED***of***REMOVED***["height",***REMOVED***"width"])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***maskStyle[property]***REMOVED***=***REMOVED***`${options.target.getBoundingClientRect()[property]}px`;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***instance.originalPosition.value***REMOVED***=***REMOVED***getStyle(parent,***REMOVED***"position");
***REMOVED******REMOVED***}
***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***[key,***REMOVED***value]***REMOVED***of***REMOVED***Object.entries(maskStyle))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***instance.$el.style[key]***REMOVED***=***REMOVED***value;
***REMOVED******REMOVED***}
};
const***REMOVED***addClassList***REMOVED***=***REMOVED***(options,***REMOVED***parent,***REMOVED***instance)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***instance.vm.ns***REMOVED***||***REMOVED***instance.vm._.exposed.ns;
***REMOVED******REMOVED***if***REMOVED***(!["absolute",***REMOVED***"fixed",***REMOVED***"sticky"].includes(instance.originalPosition.value))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***addClass(parent,***REMOVED***ns.bm("parent",***REMOVED***"relative"));
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***removeClass(parent,***REMOVED***ns.bm("parent",***REMOVED***"relative"));
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(options.fullscreen***REMOVED***&&***REMOVED***options.lock)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***addClass(parent,***REMOVED***ns.bm("parent",***REMOVED***"hidden"));
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***removeClass(parent,***REMOVED***ns.bm("parent",***REMOVED***"hidden"));
***REMOVED******REMOVED***}
};
Loading._context***REMOVED***=***REMOVED***null;

export***REMOVED***{***REMOVED***Loading***REMOVED***as***REMOVED***default***REMOVED***};
//#***REMOVED***sourceMappingURL=service.mjs.map
