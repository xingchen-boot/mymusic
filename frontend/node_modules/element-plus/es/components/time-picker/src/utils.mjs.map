{"version":3,"file":"utils.mjs","sources":["../../../../../../packages/components/time-picker/src/utils.ts"],"sourcesContent":["import***REMOVED***dayjs***REMOVED***from***REMOVED***'dayjs'\nimport***REMOVED***{***REMOVED***isArray,***REMOVED***isDate,***REMOVED***isEmpty***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Dayjs***REMOVED***}***REMOVED***from***REMOVED***'dayjs'\nimport***REMOVED***type***REMOVED***{***REMOVED***DateOrDates,***REMOVED***DayOrDays***REMOVED***}***REMOVED***from***REMOVED***'./common/props'\n\nexport***REMOVED***type***REMOVED***TimeList***REMOVED***=***REMOVED***[number***REMOVED***|***REMOVED***undefined,***REMOVED***number,***REMOVED***undefined***REMOVED***|***REMOVED***number]\n\nexport***REMOVED***const***REMOVED***buildTimeList***REMOVED***=***REMOVED***(value:***REMOVED***number,***REMOVED***bound:***REMOVED***number):***REMOVED***TimeList***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED***value***REMOVED***>***REMOVED***0***REMOVED***?***REMOVED***value***REMOVED***-***REMOVED***1***REMOVED***:***REMOVED***undefined,\n***REMOVED******REMOVED******REMOVED******REMOVED***value,\n***REMOVED******REMOVED******REMOVED******REMOVED***value***REMOVED***<***REMOVED***bound***REMOVED***?***REMOVED***value***REMOVED***+***REMOVED***1***REMOVED***:***REMOVED***undefined,\n***REMOVED******REMOVED***]\n}\n\nexport***REMOVED***const***REMOVED***rangeArr***REMOVED***=***REMOVED***(n:***REMOVED***number)***REMOVED***=>\n***REMOVED******REMOVED***Array.from(Array.from({***REMOVED***length:***REMOVED***n***REMOVED***}).keys())\n\nexport***REMOVED***const***REMOVED***extractDateFormat***REMOVED***=***REMOVED***(format:***REMOVED***string)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***format\n***REMOVED******REMOVED******REMOVED******REMOVED***.replace(/\\W?m{1,2}|\\W?ZZ/g,***REMOVED***'')\n***REMOVED******REMOVED******REMOVED******REMOVED***.replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi,***REMOVED***'')\n***REMOVED******REMOVED******REMOVED******REMOVED***.trim()\n}\n\nexport***REMOVED***const***REMOVED***extractTimeFormat***REMOVED***=***REMOVED***(format:***REMOVED***string)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***format\n***REMOVED******REMOVED******REMOVED******REMOVED***.replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?Y{2,4}/g,***REMOVED***'')\n***REMOVED******REMOVED******REMOVED******REMOVED***.trim()\n}\n\nexport***REMOVED***const***REMOVED***dateEquals***REMOVED***=***REMOVED***function***REMOVED***(a:***REMOVED***Date***REMOVED***|***REMOVED***unknown,***REMOVED***b:***REMOVED***Date***REMOVED***|***REMOVED***unknown)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***aIsDate***REMOVED***=***REMOVED***isDate(a)\n***REMOVED******REMOVED***const***REMOVED***bIsDate***REMOVED***=***REMOVED***isDate(b)\n***REMOVED******REMOVED***if***REMOVED***(aIsDate***REMOVED***&&***REMOVED***bIsDate)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***a.getTime()***REMOVED***===***REMOVED***b.getTime()\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(!aIsDate***REMOVED***&&***REMOVED***!bIsDate)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***a***REMOVED***===***REMOVED***b\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***false\n}\n\nexport***REMOVED***const***REMOVED***valueEquals***REMOVED***=***REMOVED***function***REMOVED***(\n***REMOVED******REMOVED***a:***REMOVED***Array<Date>***REMOVED***|***REMOVED***unknown,\n***REMOVED******REMOVED***b:***REMOVED***Array<Date>***REMOVED***|***REMOVED***unknown\n)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***aIsArray***REMOVED***=***REMOVED***isArray(a)\n***REMOVED******REMOVED***const***REMOVED***bIsArray***REMOVED***=***REMOVED***isArray(b)\n***REMOVED******REMOVED***if***REMOVED***(aIsArray***REMOVED***&&***REMOVED***bIsArray)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(a.length***REMOVED***!==***REMOVED***b.length)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***a.every((item,***REMOVED***index)***REMOVED***=>***REMOVED***dateEquals(item,***REMOVED***b[index]))\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(!aIsArray***REMOVED***&&***REMOVED***!bIsArray)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***dateEquals(a,***REMOVED***b)\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***false\n}\n\nexport***REMOVED***const***REMOVED***parseDate***REMOVED***=***REMOVED***function***REMOVED***(\n***REMOVED******REMOVED***date:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***Date,\n***REMOVED******REMOVED***format:***REMOVED***string***REMOVED***|***REMOVED***undefined,\n***REMOVED******REMOVED***lang:***REMOVED***string\n)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***day***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***isEmpty(format)***REMOVED***||***REMOVED***format***REMOVED***===***REMOVED***'x'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***dayjs(date).locale(lang)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***dayjs(date,***REMOVED***format).locale(lang)\n***REMOVED******REMOVED***return***REMOVED***day.isValid()***REMOVED***?***REMOVED***day***REMOVED***:***REMOVED***undefined\n}\n\nexport***REMOVED***const***REMOVED***formatter***REMOVED***=***REMOVED***function***REMOVED***(\n***REMOVED******REMOVED***date:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***Date***REMOVED***|***REMOVED***Dayjs,\n***REMOVED******REMOVED***format:***REMOVED***string***REMOVED***|***REMOVED***undefined,\n***REMOVED******REMOVED***lang:***REMOVED***string\n)***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(isEmpty(format))***REMOVED***return***REMOVED***date\n***REMOVED******REMOVED***if***REMOVED***(format***REMOVED***===***REMOVED***'x')***REMOVED***return***REMOVED***+date\n***REMOVED******REMOVED***return***REMOVED***dayjs(date).locale(lang).format(format)\n}\n\nexport***REMOVED***const***REMOVED***makeList***REMOVED***=***REMOVED***(total:***REMOVED***number,***REMOVED***method?:***REMOVED***()***REMOVED***=>***REMOVED***number[])***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***arr:***REMOVED***boolean[]***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED***const***REMOVED***disabledArr***REMOVED***=***REMOVED***method?.()\n***REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***total;***REMOVED***i++)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***arr.push(disabledArr?.includes(i)***REMOVED***??***REMOVED***false)\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***arr\n}\n\nexport***REMOVED***const***REMOVED***dayOrDaysToDate***REMOVED***=***REMOVED***(dayOrDays:***REMOVED***DayOrDays):***REMOVED***DateOrDates***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***isArray(dayOrDays)\n***REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***(dayOrDays.map((d)***REMOVED***=>***REMOVED***d.toDate())***REMOVED***as***REMOVED***[Date,***REMOVED***Date])\n***REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***dayOrDays.toDate()\n}\n"],"names":[],"mappings":"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"}