{"version":3,"file":"instance.mjs","sources":["../../../../../../packages/components/message/src/instance.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***shallowReactive***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ComponentInternalInstance,***REMOVED***VNode***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***Mutable***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***type***REMOVED***{***REMOVED***MessageHandler,***REMOVED***MessagePlacement,***REMOVED***MessageProps***REMOVED***}***REMOVED***from***REMOVED***'./message'\n\nexport***REMOVED***type***REMOVED***MessageContext***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***id:***REMOVED***string\n***REMOVED******REMOVED***vnode:***REMOVED***VNode\n***REMOVED******REMOVED***handler:***REMOVED***MessageHandler\n***REMOVED******REMOVED***vm:***REMOVED***ComponentInternalInstance\n***REMOVED******REMOVED***props:***REMOVED***Mutable<MessageProps>\n}\n\nexport***REMOVED***const***REMOVED***placementInstances***REMOVED***=***REMOVED***shallowReactive(\n***REMOVED******REMOVED***{}***REMOVED***as***REMOVED***Record<MessagePlacement,***REMOVED***MessageContext[]>\n)\n\nexport***REMOVED***const***REMOVED***getOrCreatePlacementInstances***REMOVED***=***REMOVED***(placement:***REMOVED***MessagePlacement)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!placementInstances[placement])***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***placementInstances[placement]***REMOVED***=***REMOVED***shallowReactive([])\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***placementInstances[placement]\n}\n\nexport***REMOVED***const***REMOVED***getInstance***REMOVED***=***REMOVED***(id:***REMOVED***string,***REMOVED***placement:***REMOVED***MessagePlacement)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***placementInstances[placement]***REMOVED***||***REMOVED***[]\n***REMOVED******REMOVED***const***REMOVED***idx***REMOVED***=***REMOVED***instances.findIndex((instance)***REMOVED***=>***REMOVED***instance.id***REMOVED***===***REMOVED***id)\n***REMOVED******REMOVED***const***REMOVED***current***REMOVED***=***REMOVED***instances[idx]\n***REMOVED******REMOVED***let***REMOVED***prev:***REMOVED***MessageContext***REMOVED***|***REMOVED***undefined\n***REMOVED******REMOVED***if***REMOVED***(idx***REMOVED***>***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***prev***REMOVED***=***REMOVED***instances[idx***REMOVED***-***REMOVED***1]\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***{***REMOVED***current,***REMOVED***prev***REMOVED***}\n}\n\nexport***REMOVED***const***REMOVED***getLastOffset***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***id:***REMOVED***string,\n***REMOVED******REMOVED***placement:***REMOVED***MessagePlacement\n):***REMOVED***number***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***prev***REMOVED***}***REMOVED***=***REMOVED***getInstance(id,***REMOVED***placement)\n***REMOVED******REMOVED***if***REMOVED***(!prev)***REMOVED***return***REMOVED***0\n***REMOVED******REMOVED***return***REMOVED***prev.vm.exposed!.bottom.value\n}\n\nexport***REMOVED***const***REMOVED***getOffsetOrSpace***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***id:***REMOVED***string,\n***REMOVED******REMOVED***offset:***REMOVED***number,\n***REMOVED******REMOVED***placement:***REMOVED***MessagePlacement\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***placementInstances[placement]***REMOVED***||***REMOVED***[]\n***REMOVED******REMOVED***const***REMOVED***idx***REMOVED***=***REMOVED***instances.findIndex((instance)***REMOVED***=>***REMOVED***instance.id***REMOVED***===***REMOVED***id)\n***REMOVED******REMOVED***return***REMOVED***idx***REMOVED***>***REMOVED***0***REMOVED***?***REMOVED***16***REMOVED***:***REMOVED***offset\n}\n"],"names":[],"mappings":";;AACY,MAAC,kBAAkB,GAAG,eAAe,CAAC,EAAE,EAAE;AAC1C,MAAC,6BAA6B,GAAG,CAAC,SAAS,KAAK;AAC5D,EAAE,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,EAAE;AACtC,IAAI,kBAAkB,CAAC,SAAS,CAAC,GAAG,eAAe,CAAC,EAAE,CAAC,CAAC;AACxD,GAAG;AACH,EAAE,OAAO,kBAAkB,CAAC,SAAS,CAAC,CAAC;AACvC,EAAE;AACU,MAAC,WAAW,GAAG,CAAC,EAAE,EAAE,SAAS,KAAK;AAC9C,EAAE,MAAM,SAAS,GAAG,kBAAkB,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AACxD,EAAE,MAAM,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AACpE,EAAE,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;AACjC,EAAE,IAAI,IAAI,CAAC;AACX,EAAE,IAAI,GAAG,GAAG,CAAC,EAAE;AACf,IAAI,IAAI,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;AAC9B,GAAG;AACH,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAC3B,EAAE;AACU,MAAC,aAAa,GAAG,CAAC,EAAE,EAAE,SAAS,KAAK;AAChD,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,WAAW,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;AAC9C,EAAE,IAAI,CAAC,IAAI;AACX,IAAI,OAAO,CAAC,CAAC;AACb,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC;AACtC,EAAE;AACU,MAAC,gBAAgB,GAAG,CAAC,EAAE,EAAE,MAAM,EAAE,SAAS,KAAK;AAC3D,EAAE,MAAM,SAAS,GAAG,kBAAkB,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AACxD,EAAE,MAAM,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AACpE,EAAE,OAAO,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC;AAC/B;;;;"}