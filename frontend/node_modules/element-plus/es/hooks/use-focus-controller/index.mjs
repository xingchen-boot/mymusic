import***REMOVED***{***REMOVED***getCurrentInstance,***REMOVED***shallowRef,***REMOVED***ref,***REMOVED***unref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***useEventListener***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***isFocusable***REMOVED***}***REMOVED***from***REMOVED***'../../utils/dom/aria.mjs';
import***REMOVED***{***REMOVED***isFunction***REMOVED***}***REMOVED***from***REMOVED***'@vue/shared';

function***REMOVED***useFocusController(target,***REMOVED***{
***REMOVED******REMOVED***disabled,
***REMOVED******REMOVED***beforeFocus,
***REMOVED******REMOVED***afterFocus,
***REMOVED******REMOVED***beforeBlur,
***REMOVED******REMOVED***afterBlur
}***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***getCurrentInstance();
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***emit***REMOVED***}***REMOVED***=***REMOVED***instance;
***REMOVED******REMOVED***const***REMOVED***wrapperRef***REMOVED***=***REMOVED***shallowRef();
***REMOVED******REMOVED***const***REMOVED***isFocused***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***const***REMOVED***handleFocus***REMOVED***=***REMOVED***(event)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***cancelFocus***REMOVED***=***REMOVED***isFunction(beforeFocus)***REMOVED***?***REMOVED***beforeFocus(event)***REMOVED***:***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(unref(disabled)***REMOVED***||***REMOVED***isFocused.value***REMOVED***||***REMOVED***cancelFocus)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***isFocused.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED***emit("focus",***REMOVED***event);
***REMOVED******REMOVED******REMOVED******REMOVED***afterFocus***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***afterFocus();
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***handleBlur***REMOVED***=***REMOVED***(event)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***cancelBlur***REMOVED***=***REMOVED***isFunction(beforeBlur)***REMOVED***?***REMOVED***beforeBlur(event)***REMOVED***:***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(unref(disabled)***REMOVED***||***REMOVED***event.relatedTarget***REMOVED***&&***REMOVED***((_a***REMOVED***=***REMOVED***wrapperRef.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.contains(event.relatedTarget))***REMOVED***||***REMOVED***cancelBlur)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***isFocused.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***emit("blur",***REMOVED***event);
***REMOVED******REMOVED******REMOVED******REMOVED***afterBlur***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***afterBlur();
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***handleClick***REMOVED***=***REMOVED***(event)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(unref(disabled)***REMOVED***||***REMOVED***isFocusable(event.target)***REMOVED***||***REMOVED***((_a***REMOVED***=***REMOVED***wrapperRef.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.contains(document.activeElement))***REMOVED***&&***REMOVED***wrapperRef.value***REMOVED***!==***REMOVED***document.activeElement)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***(_b***REMOVED***=***REMOVED***target.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_b.focus();
***REMOVED******REMOVED***};
***REMOVED******REMOVED***watch([wrapperRef,***REMOVED***()***REMOVED***=>***REMOVED***unref(disabled)],***REMOVED***([el,***REMOVED***disabled2])***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!el)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(disabled2)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***el.removeAttribute("tabindex");
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***el.setAttribute("tabindex",***REMOVED***"-1");
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***useEventListener(wrapperRef,***REMOVED***"focus",***REMOVED***handleFocus,***REMOVED***true);
***REMOVED******REMOVED***useEventListener(wrapperRef,***REMOVED***"blur",***REMOVED***handleBlur,***REMOVED***true);
***REMOVED******REMOVED***useEventListener(wrapperRef,***REMOVED***"click",***REMOVED***handleClick,***REMOVED***true);
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***isFocused,
***REMOVED******REMOVED******REMOVED******REMOVED***wrapperRef,
***REMOVED******REMOVED******REMOVED******REMOVED***handleFocus,
***REMOVED******REMOVED******REMOVED******REMOVED***handleBlur
***REMOVED******REMOVED***};
}

export***REMOVED***{***REMOVED***useFocusController***REMOVED***};
//#***REMOVED***sourceMappingURL=index.mjs.map
