import***REMOVED***{***REMOVED***isRef,***REMOVED***computed,***REMOVED***watch,***REMOVED***onScopeDispose***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'../use-namespace/index.mjs';
import***REMOVED***{***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'../../utils/error.mjs';
import***REMOVED***{***REMOVED***hasClass,***REMOVED***addClass,***REMOVED***getStyle,***REMOVED***removeClass***REMOVED***}***REMOVED***from***REMOVED***'../../utils/dom/style.mjs';
import***REMOVED***{***REMOVED***getScrollBarWidth***REMOVED***}***REMOVED***from***REMOVED***'../../utils/dom/scroll.mjs';
import***REMOVED***{***REMOVED***isClient***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';

const***REMOVED***useLockscreen***REMOVED***=***REMOVED***(trigger,***REMOVED***options***REMOVED***=***REMOVED***{})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!isRef(trigger))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***throwError("[useLockscreen]",***REMOVED***"You***REMOVED***need***REMOVED***to***REMOVED***pass***REMOVED***a***REMOVED***ref***REMOVED***param***REMOVED***to***REMOVED***this***REMOVED***function");
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***options.ns***REMOVED***||***REMOVED***useNamespace("popup");
***REMOVED******REMOVED***const***REMOVED***hiddenCls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.bm("parent",***REMOVED***"hidden"));
***REMOVED******REMOVED***if***REMOVED***(!isClient***REMOVED***||***REMOVED***hasClass(document.body,***REMOVED***hiddenCls.value))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***let***REMOVED***scrollBarWidth***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED***let***REMOVED***withoutHiddenClass***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED***let***REMOVED***bodyWidth***REMOVED***=***REMOVED***"0";
***REMOVED******REMOVED***const***REMOVED***cleanup***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(typeof***REMOVED***document***REMOVED***===***REMOVED***"undefined")
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(withoutHiddenClass***REMOVED***&&***REMOVED***document)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.body.style.width***REMOVED***=***REMOVED***bodyWidth;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***removeClass(document.body,***REMOVED***hiddenCls.value);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***200);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***watch(trigger,***REMOVED***(val)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!val)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cleanup();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***withoutHiddenClass***REMOVED***=***REMOVED***!hasClass(document.body,***REMOVED***hiddenCls.value);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(withoutHiddenClass)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bodyWidth***REMOVED***=***REMOVED***document.body.style.width;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***addClass(document.body,***REMOVED***hiddenCls.value);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***scrollBarWidth***REMOVED***=***REMOVED***getScrollBarWidth(ns.namespace.value);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***bodyHasOverflow***REMOVED***=***REMOVED***document.documentElement.clientHeight***REMOVED***<***REMOVED***document.body.scrollHeight;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***bodyOverflowY***REMOVED***=***REMOVED***getStyle(document.body,***REMOVED***"overflowY");
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(scrollBarWidth***REMOVED***>***REMOVED***0***REMOVED***&&***REMOVED***(bodyHasOverflow***REMOVED***||***REMOVED***bodyOverflowY***REMOVED***===***REMOVED***"scroll")***REMOVED***&&***REMOVED***withoutHiddenClass)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.body.style.width***REMOVED***=***REMOVED***`calc(100%***REMOVED***-***REMOVED***${scrollBarWidth}px)`;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***onScopeDispose(()***REMOVED***=>***REMOVED***cleanup());
};

export***REMOVED***{***REMOVED***useLockscreen***REMOVED***};
//#***REMOVED***sourceMappingURL=index.mjs.map
