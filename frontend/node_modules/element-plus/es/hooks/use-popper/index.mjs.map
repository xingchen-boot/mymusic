{"version":3,"file":"index.mjs","sources":["../../../../../packages/hooks/use-popper/index.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***onBeforeUnmount,***REMOVED***ref,***REMOVED***shallowRef,***REMOVED***unref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***createPopper***REMOVED***}***REMOVED***from***REMOVED***'@popperjs/core'\nimport***REMOVED***{***REMOVED***fromPairs***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{\n***REMOVED******REMOVED***Instance,\n***REMOVED******REMOVED***Modifier,\n***REMOVED******REMOVED***Options,\n***REMOVED******REMOVED***State,\n***REMOVED******REMOVED***VirtualElement,\n}***REMOVED***from***REMOVED***'@popperjs/core'\n\ntype***REMOVED***ElementType***REMOVED***=***REMOVED***HTMLElement***REMOVED***|***REMOVED***undefined\ntype***REMOVED***ReferenceElement***REMOVED***=***REMOVED***ElementType***REMOVED***|***REMOVED***VirtualElement\nexport***REMOVED***type***REMOVED***PartialOptions***REMOVED***=***REMOVED***Partial<Options>\n\nexport***REMOVED***const***REMOVED***usePopper***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***referenceElementRef:***REMOVED***Ref<ReferenceElement>,\n***REMOVED******REMOVED***popperElementRef:***REMOVED***Ref<ElementType>,\n***REMOVED******REMOVED***opts:***REMOVED***Ref<PartialOptions>***REMOVED***|***REMOVED***PartialOptions***REMOVED***=***REMOVED***{}***REMOVED***as***REMOVED***PartialOptions\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***stateUpdater***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***name:***REMOVED***'updateState',\n***REMOVED******REMOVED******REMOVED******REMOVED***enabled:***REMOVED***true,\n***REMOVED******REMOVED******REMOVED******REMOVED***phase:***REMOVED***'write',\n***REMOVED******REMOVED******REMOVED******REMOVED***fn:***REMOVED***({***REMOVED***state***REMOVED***})***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***derivedState***REMOVED***=***REMOVED***deriveState(state)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Object.assign(states.value,***REMOVED***derivedState)\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***requires:***REMOVED***['computeStyles'],\n***REMOVED******REMOVED***}***REMOVED***as***REMOVED***Modifier<'updateState',***REMOVED***any>\n\n***REMOVED******REMOVED***const***REMOVED***options***REMOVED***=***REMOVED***computed<Options>(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***onFirstUpdate,***REMOVED***placement,***REMOVED***strategy,***REMOVED***modifiers***REMOVED***}***REMOVED***=***REMOVED***unref(opts)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onFirstUpdate,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***placement:***REMOVED***placement***REMOVED***||***REMOVED***'bottom',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***strategy:***REMOVED***strategy***REMOVED***||***REMOVED***'absolute',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***modifiers:***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...(modifiers***REMOVED***||***REMOVED***[]),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stateUpdater,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***name:***REMOVED***'applyStyles',***REMOVED***enabled:***REMOVED***false***REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***],\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***instanceRef***REMOVED***=***REMOVED***shallowRef<Instance***REMOVED***|***REMOVED***undefined>()\n***REMOVED******REMOVED***const***REMOVED***states***REMOVED***=***REMOVED***ref<Pick<State,***REMOVED***'styles'***REMOVED***|***REMOVED***'attributes'>>({\n***REMOVED******REMOVED******REMOVED******REMOVED***styles:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***popper:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***position:***REMOVED***unref(options).strategy,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***left:***REMOVED***'0',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***top:***REMOVED***'0',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***arrow:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***position:***REMOVED***'absolute',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***attributes:***REMOVED***{},\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***destroy***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!instanceRef.value)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED***instanceRef.value.destroy()\n***REMOVED******REMOVED******REMOVED******REMOVED***instanceRef.value***REMOVED***=***REMOVED***undefined\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***options,\n***REMOVED******REMOVED******REMOVED******REMOVED***(newOptions)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***unref(instanceRef)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(instance)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.setOptions(newOptions)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***deep:***REMOVED***true,\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***[referenceElementRef,***REMOVED***popperElementRef],\n***REMOVED******REMOVED******REMOVED******REMOVED***([referenceElement,***REMOVED***popperElement])***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***destroy()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!referenceElement***REMOVED***||***REMOVED***!popperElement)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instanceRef.value***REMOVED***=***REMOVED***createPopper(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***referenceElement,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***popperElement,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***unref(options)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***destroy()\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***state:***REMOVED***computed(()***REMOVED***=>***REMOVED***({***REMOVED***...(unref(instanceRef)?.state***REMOVED***||***REMOVED***{})***REMOVED***})),\n***REMOVED******REMOVED******REMOVED******REMOVED***styles:***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(states).styles),\n***REMOVED******REMOVED******REMOVED******REMOVED***attributes:***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(states).attributes),\n***REMOVED******REMOVED******REMOVED******REMOVED***update:***REMOVED***()***REMOVED***=>***REMOVED***unref(instanceRef)?.update(),\n***REMOVED******REMOVED******REMOVED******REMOVED***forceUpdate:***REMOVED***()***REMOVED***=>***REMOVED***unref(instanceRef)?.forceUpdate(),\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Preventing***REMOVED***end***REMOVED***users***REMOVED***from***REMOVED***modifying***REMOVED***the***REMOVED***instance.\n***REMOVED******REMOVED******REMOVED******REMOVED***instanceRef:***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(instanceRef)),\n***REMOVED******REMOVED***}\n}\n\nfunction***REMOVED***deriveState(state:***REMOVED***State)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***elements***REMOVED***=***REMOVED***Object.keys(state.elements)***REMOVED***as***REMOVED***unknown***REMOVED***as***REMOVED***Array<\n***REMOVED******REMOVED******REMOVED******REMOVED***keyof***REMOVED***State['elements']\n***REMOVED******REMOVED***>\n\n***REMOVED******REMOVED***const***REMOVED***styles***REMOVED***=***REMOVED***fromPairs(\n***REMOVED******REMOVED******REMOVED******REMOVED***elements.map(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(element)***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***[element,***REMOVED***state.styles[element]***REMOVED***||***REMOVED***{}]***REMOVED***as***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***string,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***State['styles'][keyof***REMOVED***State['styles']]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***]\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***attributes***REMOVED***=***REMOVED***fromPairs(\n***REMOVED******REMOVED******REMOVED******REMOVED***elements.map(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(element)***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***[element,***REMOVED***state.attributes[element]]***REMOVED***as***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***string,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***State['attributes'][keyof***REMOVED***State['attributes']]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***]\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***styles,\n***REMOVED******REMOVED******REMOVED******REMOVED***attributes,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***type***REMOVED***UsePopperReturn***REMOVED***=***REMOVED***ReturnType<typeof***REMOVED***usePopper>\n"],"names":[],"mappings":"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"}