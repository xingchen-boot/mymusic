{"version":3,"file":"index.mjs","sources":["../../../../../packages/hooks/use-locale/index.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***inject,***REMOVED***isRef,***REMOVED***ref,***REMOVED***unref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***get***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\nimport***REMOVED***English***REMOVED***from***REMOVED***'@element-plus/locale/lang/en'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***MaybeRef***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core'\nimport***REMOVED***type***REMOVED***{***REMOVED***InjectionKey,***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***FieldPath***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***type***REMOVED***{***REMOVED***Language***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/locale'\n\nexport***REMOVED***type***REMOVED***LocaleKeys***REMOVED***=\n***REMOVED******REMOVED***|***REMOVED***Exclude<FieldPath<typeof***REMOVED***English>,***REMOVED***'name'***REMOVED***|***REMOVED***'el'>\n***REMOVED******REMOVED***|***REMOVED***(string***REMOVED***&***REMOVED***NonNullable<unknown>)\n\nexport***REMOVED***type***REMOVED***TranslatorOption***REMOVED***=***REMOVED***Record<string,***REMOVED***string***REMOVED***|***REMOVED***number>\nexport***REMOVED***type***REMOVED***Translator***REMOVED***=***REMOVED***(path:***REMOVED***LocaleKeys,***REMOVED***option?:***REMOVED***TranslatorOption)***REMOVED***=>***REMOVED***string\nexport***REMOVED***type***REMOVED***LocaleContext***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***locale:***REMOVED***Ref<Language>\n***REMOVED******REMOVED***lang:***REMOVED***Ref<string>\n***REMOVED******REMOVED***t:***REMOVED***Translator\n}\n\nexport***REMOVED***const***REMOVED***buildTranslator***REMOVED***=\n***REMOVED******REMOVED***(locale:***REMOVED***MaybeRef<Language>):***REMOVED***Translator***REMOVED***=>\n***REMOVED******REMOVED***(path,***REMOVED***option)***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***translate(path,***REMOVED***option,***REMOVED***unref(locale))\n\nexport***REMOVED***const***REMOVED***translate***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***path:***REMOVED***LocaleKeys,\n***REMOVED******REMOVED***option:***REMOVED***undefined***REMOVED***|***REMOVED***TranslatorOption,\n***REMOVED******REMOVED***locale:***REMOVED***Language\n):***REMOVED***string***REMOVED***=>\n***REMOVED******REMOVED***(get(locale,***REMOVED***path,***REMOVED***path)***REMOVED***as***REMOVED***string).replace(\n***REMOVED******REMOVED******REMOVED******REMOVED***/\\{(\\w+)\\}/g,\n***REMOVED******REMOVED******REMOVED******REMOVED***(_,***REMOVED***key)***REMOVED***=>***REMOVED***`${option?.[key]***REMOVED***??***REMOVED***`{${key}}`}`\n***REMOVED******REMOVED***)\n\nexport***REMOVED***const***REMOVED***buildLocaleContext***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***locale:***REMOVED***MaybeRef<Language>\n):***REMOVED***LocaleContext***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***lang***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(locale).name)\n***REMOVED******REMOVED***const***REMOVED***localeRef***REMOVED***=***REMOVED***isRef(locale)***REMOVED***?***REMOVED***locale***REMOVED***:***REMOVED***ref(locale)\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***lang,\n***REMOVED******REMOVED******REMOVED******REMOVED***locale:***REMOVED***localeRef,\n***REMOVED******REMOVED******REMOVED******REMOVED***t:***REMOVED***buildTranslator(locale),\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***const***REMOVED***localeContextKey:***REMOVED***InjectionKey<Ref<Language***REMOVED***|***REMOVED***undefined>>***REMOVED***=\n***REMOVED******REMOVED***Symbol('localeContextKey')\n\nexport***REMOVED***const***REMOVED***useLocale***REMOVED***=***REMOVED***(localeOverrides?:***REMOVED***Ref<Language***REMOVED***|***REMOVED***undefined>)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***locale***REMOVED***=***REMOVED***localeOverrides***REMOVED***||***REMOVED***inject(localeContextKey,***REMOVED***ref())!\n***REMOVED******REMOVED***return***REMOVED***buildLocaleContext(computed(()***REMOVED***=>***REMOVED***locale.value***REMOVED***||***REMOVED***English))\n}\n"],"names":[],"mappings":";;;;AAGY,MAAC,eAAe,GAAG,CAAC,MAAM,KAAK,CAAC,IAAI,EAAE,MAAM,KAAK,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE;AACxF,MAAC,SAAS,GAAG,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,KAAK,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,GAAG,KAAK;AAC7G,EAAE,IAAI,EAAE,CAAC;AACT,EAAE,OAAO,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrF,CAAC,EAAE;AACS,MAAC,kBAAkB,GAAG,CAAC,MAAM,KAAK;AAC9C,EAAE,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;AAClD,EAAE,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;AACzD,EAAE,OAAO;AACT,IAAI,IAAI;AACR,IAAI,MAAM,EAAE,SAAS;AACrB,IAAI,CAAC,EAAE,eAAe,CAAC,MAAM,CAAC;AAC9B,GAAG,CAAC;AACJ,EAAE;AACU,MAAC,gBAAgB,GAAG,MAAM,CAAC,kBAAkB,EAAE;AAC/C,MAAC,SAAS,GAAG,CAAC,eAAe,KAAK;AAC9C,EAAE,MAAM,MAAM,GAAG,eAAe,IAAI,MAAM,CAAC,gBAAgB,EAAE,GAAG,EAAE,CAAC,CAAC;AACpE,EAAE,OAAO,kBAAkB,CAAC,QAAQ,CAAC,MAAM,MAAM,CAAC,KAAK,IAAI,OAAO,CAAC,CAAC,CAAC;AACrE;;;;"}