import***REMOVED***{***REMOVED***ref,***REMOVED***onMounted,***REMOVED***watchEffect,***REMOVED***onBeforeUnmount***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***addUnit***REMOVED***}***REMOVED***from***REMOVED***'../../utils/dom/style.mjs';

const***REMOVED***useDraggable***REMOVED***=***REMOVED***(targetRef,***REMOVED***dragRef,***REMOVED***draggable,***REMOVED***overflow)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***transform***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***offsetX:***REMOVED***0,
***REMOVED******REMOVED******REMOVED******REMOVED***offsetY:***REMOVED***0
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***isDragging***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***const***REMOVED***adjustPosition***REMOVED***=***REMOVED***(moveX,***REMOVED***moveY)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(targetRef.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***offsetX,***REMOVED***offsetY***REMOVED***}***REMOVED***=***REMOVED***transform;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetRect***REMOVED***=***REMOVED***targetRef.value.getBoundingClientRect();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetLeft***REMOVED***=***REMOVED***targetRect.left;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetTop***REMOVED***=***REMOVED***targetRect.top;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetWidth***REMOVED***=***REMOVED***targetRect.width;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetHeight***REMOVED***=***REMOVED***targetRect.height;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***clientWidth***REMOVED***=***REMOVED***document.documentElement.clientWidth;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***clientHeight***REMOVED***=***REMOVED***document.documentElement.clientHeight;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***minLeft***REMOVED***=***REMOVED***-targetLeft***REMOVED***+***REMOVED***offsetX;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***minTop***REMOVED***=***REMOVED***-targetTop***REMOVED***+***REMOVED***offsetY;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***maxLeft***REMOVED***=***REMOVED***clientWidth***REMOVED***-***REMOVED***targetLeft***REMOVED***-***REMOVED***targetWidth***REMOVED***+***REMOVED***offsetX;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***maxTop***REMOVED***=***REMOVED***clientHeight***REMOVED***-***REMOVED***targetTop***REMOVED***-***REMOVED***(targetHeight***REMOVED***<***REMOVED***clientHeight***REMOVED***?***REMOVED***targetHeight***REMOVED***:***REMOVED***0)***REMOVED***+***REMOVED***offsetY;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!(overflow***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***overflow.value))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***moveX***REMOVED***=***REMOVED***Math.min(Math.max(moveX,***REMOVED***minLeft),***REMOVED***maxLeft);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***moveY***REMOVED***=***REMOVED***Math.min(Math.max(moveY,***REMOVED***minTop),***REMOVED***maxTop);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetX***REMOVED***=***REMOVED***moveX;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetY***REMOVED***=***REMOVED***moveY;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***targetRef.value.style.transform***REMOVED***=***REMOVED***`translate(${addUnit(moveX)},***REMOVED***${addUnit(moveY)})`;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***onMousedown***REMOVED***=***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***downX***REMOVED***=***REMOVED***e.clientX;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***downY***REMOVED***=***REMOVED***e.clientY;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***offsetX,***REMOVED***offsetY***REMOVED***}***REMOVED***=***REMOVED***transform;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onMousemove***REMOVED***=***REMOVED***(e2)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isDragging.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isDragging.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***moveX***REMOVED***=***REMOVED***offsetX***REMOVED***+***REMOVED***e2.clientX***REMOVED***-***REMOVED***downX;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***moveY***REMOVED***=***REMOVED***offsetY***REMOVED***+***REMOVED***e2.clientY***REMOVED***-***REMOVED***downY;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***adjustPosition(moveX,***REMOVED***moveY);
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onMouseup***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isDragging.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.removeEventListener("mousemove",***REMOVED***onMousemove);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.removeEventListener("mouseup",***REMOVED***onMouseup);
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***document.addEventListener("mousemove",***REMOVED***onMousemove);
***REMOVED******REMOVED******REMOVED******REMOVED***document.addEventListener("mouseup",***REMOVED***onMouseup);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***onDraggable***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(dragRef.value***REMOVED***&&***REMOVED***targetRef.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dragRef.value.addEventListener("mousedown",***REMOVED***onMousedown);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***window.addEventListener("resize",***REMOVED***updatePosition);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***offDraggable***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(dragRef.value***REMOVED***&&***REMOVED***targetRef.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dragRef.value.removeEventListener("mousedown",***REMOVED***onMousedown);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***window.removeEventListener("resize",***REMOVED***updatePosition);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***resetPosition***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetX***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetY***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(targetRef.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***targetRef.value.style.transform***REMOVED***=***REMOVED***"";
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***updatePosition***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***offsetX,***REMOVED***offsetY***REMOVED***}***REMOVED***=***REMOVED***transform;
***REMOVED******REMOVED******REMOVED******REMOVED***adjustPosition(offsetX,***REMOVED***offsetY);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***watchEffect(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(draggable.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onDraggable();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offDraggable();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***});
***REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***offDraggable();
***REMOVED******REMOVED***});
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***isDragging,
***REMOVED******REMOVED******REMOVED******REMOVED***resetPosition,
***REMOVED******REMOVED******REMOVED******REMOVED***updatePosition
***REMOVED******REMOVED***};
};

export***REMOVED***{***REMOVED***useDraggable***REMOVED***};
//#***REMOVED***sourceMappingURL=index.mjs.map
