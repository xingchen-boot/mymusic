{"version":3,"file":"scroll.mjs","sources":["../../../../../packages/utils/dom/scroll.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***isClient***REMOVED***}***REMOVED***from***REMOVED***'../browser'\nimport***REMOVED***{***REMOVED***easeInOutCubic***REMOVED***}***REMOVED***from***REMOVED***'../easings'\nimport***REMOVED***{***REMOVED***isFunction,***REMOVED***isWindow***REMOVED***}***REMOVED***from***REMOVED***'../types'\nimport***REMOVED***{***REMOVED***cAF,***REMOVED***rAF***REMOVED***}***REMOVED***from***REMOVED***'../raf'\nimport***REMOVED***{***REMOVED***getStyle***REMOVED***}***REMOVED***from***REMOVED***'./style'\n\nexport***REMOVED***const***REMOVED***isScroll***REMOVED***=***REMOVED***(el:***REMOVED***HTMLElement,***REMOVED***isVertical?:***REMOVED***boolean):***REMOVED***boolean***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isClient)***REMOVED***return***REMOVED***false\n\n***REMOVED******REMOVED***const***REMOVED***key***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***undefined:***REMOVED***'overflow',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***true:***REMOVED***'overflow-y',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***false:***REMOVED***'overflow-x',\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***as***REMOVED***const\n***REMOVED******REMOVED***)[String(isVertical)]!\n***REMOVED******REMOVED***const***REMOVED***overflow***REMOVED***=***REMOVED***getStyle(el,***REMOVED***key)\n***REMOVED******REMOVED***return***REMOVED***['scroll',***REMOVED***'auto',***REMOVED***'overlay'].some((s)***REMOVED***=>***REMOVED***overflow.includes(s))\n}\n\nexport***REMOVED***const***REMOVED***getScrollContainer***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***el:***REMOVED***HTMLElement,\n***REMOVED******REMOVED***isVertical?:***REMOVED***boolean\n):***REMOVED***Window***REMOVED***|***REMOVED***HTMLElement***REMOVED***|***REMOVED***undefined***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isClient)***REMOVED***return\n\n***REMOVED******REMOVED***let***REMOVED***parent:***REMOVED***HTMLElement***REMOVED***=***REMOVED***el\n***REMOVED******REMOVED***while***REMOVED***(parent)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***([window,***REMOVED***document,***REMOVED***document.documentElement].includes(parent))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***window\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isScroll(parent,***REMOVED***isVertical))***REMOVED***return***REMOVED***parent\n\n***REMOVED******REMOVED******REMOVED******REMOVED***parent***REMOVED***=***REMOVED***parent.parentNode***REMOVED***as***REMOVED***HTMLElement\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***parent\n}\n\nlet***REMOVED***scrollBarWidth:***REMOVED***number\nexport***REMOVED***const***REMOVED***getScrollBarWidth***REMOVED***=***REMOVED***(namespace:***REMOVED***string):***REMOVED***number***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isClient)***REMOVED***return***REMOVED***0\n***REMOVED******REMOVED***if***REMOVED***(scrollBarWidth***REMOVED***!==***REMOVED***undefined)***REMOVED***return***REMOVED***scrollBarWidth\n\n***REMOVED******REMOVED***const***REMOVED***outer***REMOVED***=***REMOVED***document.createElement('div')\n***REMOVED******REMOVED***outer.className***REMOVED***=***REMOVED***`${namespace}-scrollbar__wrap`\n***REMOVED******REMOVED***outer.style.visibility***REMOVED***=***REMOVED***'hidden'\n***REMOVED******REMOVED***outer.style.width***REMOVED***=***REMOVED***'100px'\n***REMOVED******REMOVED***outer.style.position***REMOVED***=***REMOVED***'absolute'\n***REMOVED******REMOVED***outer.style.top***REMOVED***=***REMOVED***'-9999px'\n***REMOVED******REMOVED***document.body.appendChild(outer)\n\n***REMOVED******REMOVED***const***REMOVED***widthNoScroll***REMOVED***=***REMOVED***outer.offsetWidth\n***REMOVED******REMOVED***outer.style.overflow***REMOVED***=***REMOVED***'scroll'\n\n***REMOVED******REMOVED***const***REMOVED***inner***REMOVED***=***REMOVED***document.createElement('div')\n***REMOVED******REMOVED***inner.style.width***REMOVED***=***REMOVED***'100%'\n***REMOVED******REMOVED***outer.appendChild(inner)\n\n***REMOVED******REMOVED***const***REMOVED***widthWithScroll***REMOVED***=***REMOVED***inner.offsetWidth\n***REMOVED******REMOVED***outer.parentNode?.removeChild(outer)\n***REMOVED******REMOVED***scrollBarWidth***REMOVED***=***REMOVED***widthNoScroll***REMOVED***-***REMOVED***widthWithScroll\n\n***REMOVED******REMOVED***return***REMOVED***scrollBarWidth\n}\n\n/**\n***REMOVED*******REMOVED***Scroll***REMOVED***with***REMOVED***in***REMOVED***the***REMOVED***container***REMOVED***element,***REMOVED***positioning***REMOVED***the***REMOVED*****selected*****REMOVED***element***REMOVED***at***REMOVED***the***REMOVED***top\n***REMOVED*******REMOVED***of***REMOVED***the***REMOVED***container\n***REMOVED****/\nexport***REMOVED***function***REMOVED***scrollIntoView(\n***REMOVED******REMOVED***container:***REMOVED***HTMLElement,\n***REMOVED******REMOVED***selected:***REMOVED***HTMLElement\n):***REMOVED***void***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isClient)***REMOVED***return\n\n***REMOVED******REMOVED***if***REMOVED***(!selected)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***container.scrollTop***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***offsetParents:***REMOVED***HTMLElement[]***REMOVED***=***REMOVED***[]\n***REMOVED******REMOVED***let***REMOVED***pointer***REMOVED***=***REMOVED***selected.offsetParent\n***REMOVED******REMOVED***while***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***pointer***REMOVED***!==***REMOVED***null***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED***container***REMOVED***!==***REMOVED***pointer***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED***container.contains(pointer)\n***REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***offsetParents.push(pointer***REMOVED***as***REMOVED***HTMLElement)\n***REMOVED******REMOVED******REMOVED******REMOVED***pointer***REMOVED***=***REMOVED***(pointer***REMOVED***as***REMOVED***HTMLElement).offsetParent\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***const***REMOVED***top***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***selected.offsetTop***REMOVED***+\n***REMOVED******REMOVED******REMOVED******REMOVED***offsetParents.reduce((prev,***REMOVED***curr)***REMOVED***=>***REMOVED***prev***REMOVED***+***REMOVED***curr.offsetTop,***REMOVED***0)\n***REMOVED******REMOVED***const***REMOVED***bottom***REMOVED***=***REMOVED***top***REMOVED***+***REMOVED***selected.offsetHeight\n***REMOVED******REMOVED***const***REMOVED***viewRectTop***REMOVED***=***REMOVED***container.scrollTop\n***REMOVED******REMOVED***const***REMOVED***viewRectBottom***REMOVED***=***REMOVED***viewRectTop***REMOVED***+***REMOVED***container.clientHeight\n\n***REMOVED******REMOVED***if***REMOVED***(top***REMOVED***<***REMOVED***viewRectTop)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***container.scrollTop***REMOVED***=***REMOVED***top\n***REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(bottom***REMOVED***>***REMOVED***viewRectBottom)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***container.scrollTop***REMOVED***=***REMOVED***bottom***REMOVED***-***REMOVED***container.clientHeight\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***function***REMOVED***animateScrollTo(\n***REMOVED******REMOVED***container:***REMOVED***HTMLElement***REMOVED***|***REMOVED***Window,\n***REMOVED******REMOVED***from:***REMOVED***number,\n***REMOVED******REMOVED***to:***REMOVED***number,\n***REMOVED******REMOVED***duration:***REMOVED***number,\n***REMOVED******REMOVED***callback?:***REMOVED***unknown\n)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***startTime***REMOVED***=***REMOVED***Date.now()\n\n***REMOVED******REMOVED***let***REMOVED***handle:***REMOVED***number***REMOVED***|***REMOVED***undefined\n***REMOVED******REMOVED***const***REMOVED***scroll***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***timestamp***REMOVED***=***REMOVED***Date.now()\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***time***REMOVED***=***REMOVED***timestamp***REMOVED***-***REMOVED***startTime\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***nextScrollTop***REMOVED***=***REMOVED***easeInOutCubic(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***time***REMOVED***>***REMOVED***duration***REMOVED***?***REMOVED***duration***REMOVED***:***REMOVED***time,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***from,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***to,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***duration\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isWindow(container))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***container.scrollTo(window.pageXOffset,***REMOVED***nextScrollTop)\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***container.scrollTop***REMOVED***=***REMOVED***nextScrollTop\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(time***REMOVED***<***REMOVED***duration)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***handle***REMOVED***=***REMOVED***rAF(scroll)\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(isFunction(callback))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***callback()\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***scroll()\n\n***REMOVED******REMOVED***return***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***handle***REMOVED***&&***REMOVED***cAF(handle)\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***const***REMOVED***getScrollElement***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***target:***REMOVED***HTMLElement,\n***REMOVED******REMOVED***container:***REMOVED***HTMLElement***REMOVED***|***REMOVED***Window\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(isWindow(container))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***target.ownerDocument.documentElement\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***container\n}\n\nexport***REMOVED***const***REMOVED***getScrollTop***REMOVED***=***REMOVED***(container:***REMOVED***HTMLElement***REMOVED***|***REMOVED***Window)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(isWindow(container))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***window.scrollY\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***container.scrollTop\n}\n"],"names":[],"mappings":"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"}