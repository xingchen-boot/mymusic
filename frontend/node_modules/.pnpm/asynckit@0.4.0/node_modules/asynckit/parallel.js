var***REMOVED***iterate***REMOVED******REMOVED******REMOVED******REMOVED***=***REMOVED***require('./lib/iterate.js')
***REMOVED******REMOVED***,***REMOVED***initState***REMOVED******REMOVED***=***REMOVED***require('./lib/state.js')
***REMOVED******REMOVED***,***REMOVED***terminator***REMOVED***=***REMOVED***require('./lib/terminator.js')
***REMOVED******REMOVED***;

//***REMOVED***Public***REMOVED***API
module.exports***REMOVED***=***REMOVED***parallel;

/**
***REMOVED*******REMOVED***Runs***REMOVED***iterator***REMOVED***over***REMOVED***provided***REMOVED***array***REMOVED***elements***REMOVED***in***REMOVED***parallel
***REMOVED****
***REMOVED*******REMOVED***@param***REMOVED******REMOVED******REMOVED***{array|object}***REMOVED***list***REMOVED***-***REMOVED***array***REMOVED***or***REMOVED***object***REMOVED***(named***REMOVED***list)***REMOVED***to***REMOVED***iterate***REMOVED***over
***REMOVED*******REMOVED***@param***REMOVED******REMOVED******REMOVED***{function}***REMOVED***iterator***REMOVED***-***REMOVED***iterator***REMOVED***to***REMOVED***run
***REMOVED*******REMOVED***@param***REMOVED******REMOVED******REMOVED***{function}***REMOVED***callback***REMOVED***-***REMOVED***invoked***REMOVED***when***REMOVED***all***REMOVED***elements***REMOVED***processed
***REMOVED*******REMOVED***@returns***REMOVED***{function}***REMOVED***-***REMOVED***jobs***REMOVED***terminator
***REMOVED****/
function***REMOVED***parallel(list,***REMOVED***iterator,***REMOVED***callback)
{
***REMOVED******REMOVED***var***REMOVED***state***REMOVED***=***REMOVED***initState(list);

***REMOVED******REMOVED***while***REMOVED***(state.index***REMOVED***<***REMOVED***(state['keyedList']***REMOVED***||***REMOVED***list).length)
***REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***iterate(list,***REMOVED***iterator,***REMOVED***state,***REMOVED***function(error,***REMOVED***result)
***REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(error)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***callback(error,***REMOVED***result);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***looks***REMOVED***like***REMOVED***it's***REMOVED***the***REMOVED***last***REMOVED***one
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(Object.keys(state.jobs).length***REMOVED***===***REMOVED***0)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***callback(null,***REMOVED***state.results);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***});

***REMOVED******REMOVED******REMOVED******REMOVED***state.index++;
***REMOVED******REMOVED***}

***REMOVED******REMOVED***return***REMOVED***terminator.bind(state,***REMOVED***callback);
}
