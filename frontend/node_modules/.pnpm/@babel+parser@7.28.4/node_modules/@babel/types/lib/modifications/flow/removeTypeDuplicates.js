"use***REMOVED***strict";

Object.defineProperty(exports,***REMOVED***"__esModule",***REMOVED***{
***REMOVED******REMOVED***value:***REMOVED***true
});
exports.default***REMOVED***=***REMOVED***removeTypeDuplicates;
var***REMOVED***_index***REMOVED***=***REMOVED***require("../../validators/generated/index.js");
function***REMOVED***getQualifiedName(node)***REMOVED***{
***REMOVED******REMOVED***return***REMOVED***(0,***REMOVED***_index.isIdentifier)(node)***REMOVED***?***REMOVED***node.name***REMOVED***:***REMOVED***`${node.id.name}.${getQualifiedName(node.qualification)}`;
}
function***REMOVED***removeTypeDuplicates(nodesIn)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***nodes***REMOVED***=***REMOVED***Array.from(nodesIn);
***REMOVED******REMOVED***const***REMOVED***generics***REMOVED***=***REMOVED***new***REMOVED***Map();
***REMOVED******REMOVED***const***REMOVED***bases***REMOVED***=***REMOVED***new***REMOVED***Map();
***REMOVED******REMOVED***const***REMOVED***typeGroups***REMOVED***=***REMOVED***new***REMOVED***Set();
***REMOVED******REMOVED***const***REMOVED***types***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***nodes.length;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***node***REMOVED***=***REMOVED***nodes[i];
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!node)***REMOVED***continue;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(types.includes(node))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***continue;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***((0,***REMOVED***_index.isAnyTypeAnnotation)(node))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[node];
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***((0,***REMOVED***_index.isFlowBaseAnnotation)(node))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bases.set(node.type,***REMOVED***node);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***continue;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***((0,***REMOVED***_index.isUnionTypeAnnotation)(node))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!typeGroups.has(node.types))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***nodes.push(...node.types);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***typeGroups.add(node.types);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***continue;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***((0,***REMOVED***_index.isGenericTypeAnnotation)(node))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***name***REMOVED***=***REMOVED***getQualifiedName(node.id);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(generics.has(name))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***existing***REMOVED***=***REMOVED***generics.get(name);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(existing.typeParameters)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(node.typeParameters)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***existing.typeParameters.params.push(...node.typeParameters.params);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***existing.typeParameters.params***REMOVED***=***REMOVED***removeTypeDuplicates(existing.typeParameters.params);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***existing***REMOVED***=***REMOVED***node.typeParameters;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***generics.set(name,***REMOVED***node);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***continue;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***types.push(node);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***[,***REMOVED***baseType]***REMOVED***of***REMOVED***bases)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***types.push(baseType);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***[,***REMOVED***genericName]***REMOVED***of***REMOVED***generics)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***types.push(genericName);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***types;
}

//#***REMOVED***sourceMappingURL=removeTypeDuplicates.js.map
