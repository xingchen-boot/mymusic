#!/usr/bin/env***REMOVED***node

let***REMOVED***{***REMOVED***nanoid,***REMOVED***customAlphabet***REMOVED***}***REMOVED***=***REMOVED***require('..')

function***REMOVED***print(msg)***REMOVED***{
***REMOVED******REMOVED***process.stdout.write(msg***REMOVED***+***REMOVED***'\n')
}

function***REMOVED***error(msg)***REMOVED***{
***REMOVED******REMOVED***process.stderr.write(msg***REMOVED***+***REMOVED***'\n')
***REMOVED******REMOVED***process.exit(1)
}

if***REMOVED***(process.argv.includes('--help')***REMOVED***||***REMOVED***process.argv.includes('-h'))***REMOVED***{
***REMOVED******REMOVED***print(`
***REMOVED******REMOVED***Usage
***REMOVED******REMOVED******REMOVED******REMOVED***$***REMOVED***nanoid***REMOVED***[options]

***REMOVED******REMOVED***Options
***REMOVED******REMOVED******REMOVED******REMOVED***-s,***REMOVED***--size***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Generated***REMOVED***ID***REMOVED***size
***REMOVED******REMOVED******REMOVED******REMOVED***-a,***REMOVED***--alphabet***REMOVED******REMOVED******REMOVED***Alphabet***REMOVED***to***REMOVED***use
***REMOVED******REMOVED******REMOVED******REMOVED***-h,***REMOVED***--help***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Show***REMOVED***this***REMOVED***help

***REMOVED******REMOVED***Examples
***REMOVED******REMOVED******REMOVED******REMOVED***$***REMOVED***nanoid***REMOVED***--s***REMOVED***15
***REMOVED******REMOVED******REMOVED******REMOVED***S9sBF77U6sDB8Yg

***REMOVED******REMOVED******REMOVED******REMOVED***$***REMOVED***nanoid***REMOVED***--size***REMOVED***10***REMOVED***--alphabet***REMOVED***abc
***REMOVED******REMOVED******REMOVED******REMOVED***bcabababca`)
***REMOVED******REMOVED***process.exit()
}

let***REMOVED***alphabet,***REMOVED***size
for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***2;***REMOVED***i***REMOVED***<***REMOVED***process.argv.length;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED***let***REMOVED***arg***REMOVED***=***REMOVED***process.argv[i]
***REMOVED******REMOVED***if***REMOVED***(arg***REMOVED***===***REMOVED***'--size'***REMOVED***||***REMOVED***arg***REMOVED***===***REMOVED***'-s')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***size***REMOVED***=***REMOVED***Number(process.argv[i***REMOVED***+***REMOVED***1])
***REMOVED******REMOVED******REMOVED******REMOVED***i***REMOVED***+=***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(Number.isNaN(size)***REMOVED***||***REMOVED***size***REMOVED***<=***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***error('Size***REMOVED***must***REMOVED***be***REMOVED***positive***REMOVED***integer')
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(arg***REMOVED***===***REMOVED***'--alphabet'***REMOVED***||***REMOVED***arg***REMOVED***===***REMOVED***'-a')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***alphabet***REMOVED***=***REMOVED***process.argv[i***REMOVED***+***REMOVED***1]
***REMOVED******REMOVED******REMOVED******REMOVED***i***REMOVED***+=***REMOVED***1
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***error('Unknown***REMOVED***argument***REMOVED***'***REMOVED***+***REMOVED***arg)
***REMOVED******REMOVED***}
}

if***REMOVED***(alphabet)***REMOVED***{
***REMOVED******REMOVED***let***REMOVED***customNanoid***REMOVED***=***REMOVED***customAlphabet(alphabet,***REMOVED***size)
***REMOVED******REMOVED***print(customNanoid())
}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED***print(nanoid(size))
}
