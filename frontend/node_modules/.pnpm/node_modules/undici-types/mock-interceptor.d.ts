import***REMOVED***{***REMOVED***IncomingHttpHeaders***REMOVED***}***REMOVED***from***REMOVED***'./header'
import***REMOVED***Dispatcher***REMOVED***from***REMOVED***'./dispatcher';
import***REMOVED***{***REMOVED***BodyInit,***REMOVED***Headers***REMOVED***}***REMOVED***from***REMOVED***'./fetch'

export***REMOVED***{
***REMOVED******REMOVED***Interceptable,
***REMOVED******REMOVED***MockInterceptor,
***REMOVED******REMOVED***MockScope
}

/*****REMOVED***The***REMOVED***scope***REMOVED***associated***REMOVED***with***REMOVED***a***REMOVED***mock***REMOVED***dispatch.***REMOVED****/
declare***REMOVED***class***REMOVED***MockScope<TData***REMOVED***extends***REMOVED***object***REMOVED***=***REMOVED***object>***REMOVED***{
***REMOVED******REMOVED***constructor(mockDispatch:***REMOVED***MockInterceptor.MockDispatch<TData>);
***REMOVED******REMOVED***/*****REMOVED***Delay***REMOVED***a***REMOVED***reply***REMOVED***by***REMOVED***a***REMOVED***set***REMOVED***amount***REMOVED***of***REMOVED***time***REMOVED***in***REMOVED***ms.***REMOVED****/
***REMOVED******REMOVED***delay(waitInMs:***REMOVED***number):***REMOVED***MockScope<TData>;
***REMOVED******REMOVED***/*****REMOVED***Persist***REMOVED***the***REMOVED***defined***REMOVED***mock***REMOVED***data***REMOVED***for***REMOVED***the***REMOVED***associated***REMOVED***reply.***REMOVED***It***REMOVED***will***REMOVED***return***REMOVED***the***REMOVED***defined***REMOVED***mock***REMOVED***data***REMOVED***indefinitely.***REMOVED****/
***REMOVED******REMOVED***persist():***REMOVED***MockScope<TData>;
***REMOVED******REMOVED***/*****REMOVED***Define***REMOVED***a***REMOVED***reply***REMOVED***for***REMOVED***a***REMOVED***set***REMOVED***amount***REMOVED***of***REMOVED***matching***REMOVED***requests.***REMOVED****/
***REMOVED******REMOVED***times(repeatTimes:***REMOVED***number):***REMOVED***MockScope<TData>;
}

/*****REMOVED***The***REMOVED***interceptor***REMOVED***for***REMOVED***a***REMOVED***Mock.***REMOVED****/
declare***REMOVED***class***REMOVED***MockInterceptor***REMOVED***{
***REMOVED******REMOVED***constructor(options:***REMOVED***MockInterceptor.Options,***REMOVED***mockDispatches:***REMOVED***MockInterceptor.MockDispatch[]);
***REMOVED******REMOVED***/*****REMOVED***Mock***REMOVED***an***REMOVED***undici***REMOVED***request***REMOVED***with***REMOVED***the***REMOVED***defined***REMOVED***reply.***REMOVED****/
***REMOVED******REMOVED***reply<TData***REMOVED***extends***REMOVED***object***REMOVED***=***REMOVED***object>(replyOptionsCallback:***REMOVED***MockInterceptor.MockReplyOptionsCallback<TData>):***REMOVED***MockScope<TData>;
***REMOVED******REMOVED***reply<TData***REMOVED***extends***REMOVED***object***REMOVED***=***REMOVED***object>(
***REMOVED******REMOVED******REMOVED******REMOVED***statusCode:***REMOVED***number,
***REMOVED******REMOVED******REMOVED******REMOVED***data?:***REMOVED***TData***REMOVED***|***REMOVED***Buffer***REMOVED***|***REMOVED***string***REMOVED***|***REMOVED***MockInterceptor.MockResponseDataHandler<TData>,
***REMOVED******REMOVED******REMOVED******REMOVED***responseOptions?:***REMOVED***MockInterceptor.MockResponseOptions
***REMOVED******REMOVED***):***REMOVED***MockScope<TData>;
***REMOVED******REMOVED***/*****REMOVED***Mock***REMOVED***an***REMOVED***undici***REMOVED***request***REMOVED***by***REMOVED***throwing***REMOVED***the***REMOVED***defined***REMOVED***reply***REMOVED***error.***REMOVED****/
***REMOVED******REMOVED***replyWithError<TError***REMOVED***extends***REMOVED***Error***REMOVED***=***REMOVED***Error>(error:***REMOVED***TError):***REMOVED***MockScope;
***REMOVED******REMOVED***/*****REMOVED***Set***REMOVED***default***REMOVED***reply***REMOVED***headers***REMOVED***on***REMOVED***the***REMOVED***interceptor***REMOVED***for***REMOVED***subsequent***REMOVED***mocked***REMOVED***replies.***REMOVED****/
***REMOVED******REMOVED***defaultReplyHeaders(headers:***REMOVED***IncomingHttpHeaders):***REMOVED***MockInterceptor;
***REMOVED******REMOVED***/*****REMOVED***Set***REMOVED***default***REMOVED***reply***REMOVED***trailers***REMOVED***on***REMOVED***the***REMOVED***interceptor***REMOVED***for***REMOVED***subsequent***REMOVED***mocked***REMOVED***replies.***REMOVED****/
***REMOVED******REMOVED***defaultReplyTrailers(trailers:***REMOVED***Record<string,***REMOVED***string>):***REMOVED***MockInterceptor;
***REMOVED******REMOVED***/*****REMOVED***Set***REMOVED***automatically***REMOVED***calculated***REMOVED***content-length***REMOVED***header***REMOVED***on***REMOVED***subsequent***REMOVED***mocked***REMOVED***replies.***REMOVED****/
***REMOVED******REMOVED***replyContentLength():***REMOVED***MockInterceptor;
}

declare***REMOVED***namespace***REMOVED***MockInterceptor***REMOVED***{
***REMOVED******REMOVED***/*****REMOVED***MockInterceptor***REMOVED***options.***REMOVED****/
***REMOVED******REMOVED***export***REMOVED***interface***REMOVED***Options***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***Path***REMOVED***to***REMOVED***intercept***REMOVED***on.***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***path:***REMOVED***string***REMOVED***|***REMOVED***RegExp***REMOVED***|***REMOVED***((path:***REMOVED***string)***REMOVED***=>***REMOVED***boolean);
***REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***Method***REMOVED***to***REMOVED***intercept***REMOVED***on.***REMOVED***Defaults***REMOVED***to***REMOVED***GET.***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***method?:***REMOVED***string***REMOVED***|***REMOVED***RegExp***REMOVED***|***REMOVED***((method:***REMOVED***string)***REMOVED***=>***REMOVED***boolean);
***REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***Body***REMOVED***to***REMOVED***intercept***REMOVED***on.***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***body?:***REMOVED***string***REMOVED***|***REMOVED***RegExp***REMOVED***|***REMOVED***((body:***REMOVED***string)***REMOVED***=>***REMOVED***boolean);
***REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***Headers***REMOVED***to***REMOVED***intercept***REMOVED***on.***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***headers?:***REMOVED***Record<string,***REMOVED***string***REMOVED***|***REMOVED***RegExp***REMOVED***|***REMOVED***((body:***REMOVED***string)***REMOVED***=>***REMOVED***boolean)>***REMOVED***|***REMOVED***((headers:***REMOVED***Record<string,***REMOVED***string>)***REMOVED***=>***REMOVED***boolean);
***REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***Query***REMOVED***params***REMOVED***to***REMOVED***intercept***REMOVED***on***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***query?:***REMOVED***Record<string,***REMOVED***any>;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***export***REMOVED***interface***REMOVED***MockDispatch<TData***REMOVED***extends***REMOVED***object***REMOVED***=***REMOVED***object,***REMOVED***TError***REMOVED***extends***REMOVED***Error***REMOVED***=***REMOVED***Error>***REMOVED***extends***REMOVED***Options***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***times:***REMOVED***number***REMOVED***|***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***persist:***REMOVED***boolean;
***REMOVED******REMOVED******REMOVED******REMOVED***consumed:***REMOVED***boolean;
***REMOVED******REMOVED******REMOVED******REMOVED***data:***REMOVED***MockDispatchData<TData,***REMOVED***TError>;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***export***REMOVED***interface***REMOVED***MockDispatchData<TData***REMOVED***extends***REMOVED***object***REMOVED***=***REMOVED***object,***REMOVED***TError***REMOVED***extends***REMOVED***Error***REMOVED***=***REMOVED***Error>***REMOVED***extends***REMOVED***MockResponseOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***error:***REMOVED***TError***REMOVED***|***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***statusCode?:***REMOVED***number;
***REMOVED******REMOVED******REMOVED******REMOVED***data?:***REMOVED***TData***REMOVED***|***REMOVED***string;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***export***REMOVED***interface***REMOVED***MockResponseOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***headers?:***REMOVED***IncomingHttpHeaders;
***REMOVED******REMOVED******REMOVED******REMOVED***trailers?:***REMOVED***Record<string,***REMOVED***string>;
***REMOVED******REMOVED***}

***REMOVED******REMOVED***export***REMOVED***interface***REMOVED***MockResponseCallbackOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***path:***REMOVED***string;
***REMOVED******REMOVED******REMOVED******REMOVED***method:***REMOVED***string;
***REMOVED******REMOVED******REMOVED******REMOVED***headers?:***REMOVED***Headers***REMOVED***|***REMOVED***Record<string,***REMOVED***string>;
***REMOVED******REMOVED******REMOVED******REMOVED***origin?:***REMOVED***string;
***REMOVED******REMOVED******REMOVED******REMOVED***body?:***REMOVED***BodyInit***REMOVED***|***REMOVED***Dispatcher.DispatchOptions['body']***REMOVED***|***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***maxRedirections?:***REMOVED***number;
***REMOVED******REMOVED***}

***REMOVED******REMOVED***export***REMOVED***type***REMOVED***MockResponseDataHandler<TData***REMOVED***extends***REMOVED***object***REMOVED***=***REMOVED***object>***REMOVED***=***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED***opts:***REMOVED***MockResponseCallbackOptions
***REMOVED******REMOVED***)***REMOVED***=>***REMOVED***TData***REMOVED***|***REMOVED***Buffer***REMOVED***|***REMOVED***string;

***REMOVED******REMOVED***export***REMOVED***type***REMOVED***MockReplyOptionsCallback<TData***REMOVED***extends***REMOVED***object***REMOVED***=***REMOVED***object>***REMOVED***=***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED***opts:***REMOVED***MockResponseCallbackOptions
***REMOVED******REMOVED***)***REMOVED***=>***REMOVED***{***REMOVED***statusCode:***REMOVED***number,***REMOVED***data?:***REMOVED***TData***REMOVED***|***REMOVED***Buffer***REMOVED***|***REMOVED***string,***REMOVED***responseOptions?:***REMOVED***MockResponseOptions***REMOVED***}
}

interface***REMOVED***Interceptable***REMOVED***extends***REMOVED***Dispatcher***REMOVED***{
***REMOVED******REMOVED***/*****REMOVED***Intercepts***REMOVED***any***REMOVED***matching***REMOVED***requests***REMOVED***that***REMOVED***use***REMOVED***the***REMOVED***same***REMOVED***origin***REMOVED***as***REMOVED***this***REMOVED***mock***REMOVED***client.***REMOVED****/
***REMOVED******REMOVED***intercept(options:***REMOVED***MockInterceptor.Options):***REMOVED***MockInterceptor;
}
