import***REMOVED***Pool***REMOVED***from***REMOVED***'./pool'
import***REMOVED***Dispatcher***REMOVED***from***REMOVED***'./dispatcher'
import***REMOVED***{***REMOVED***URL***REMOVED***}***REMOVED***from***REMOVED***'url'

export***REMOVED***default***REMOVED***BalancedPool

type***REMOVED***BalancedPoolConnectOptions***REMOVED***=***REMOVED***Omit<Dispatcher.ConnectOptions,***REMOVED***"origin">;

declare***REMOVED***class***REMOVED***BalancedPool***REMOVED***extends***REMOVED***Dispatcher***REMOVED***{
***REMOVED******REMOVED***constructor(url:***REMOVED***string***REMOVED***|***REMOVED***string[]***REMOVED***|***REMOVED***URL***REMOVED***|***REMOVED***URL[],***REMOVED***options?:***REMOVED***Pool.Options);

***REMOVED******REMOVED***addUpstream(upstream:***REMOVED***string***REMOVED***|***REMOVED***URL):***REMOVED***BalancedPool;
***REMOVED******REMOVED***removeUpstream(upstream:***REMOVED***string***REMOVED***|***REMOVED***URL):***REMOVED***BalancedPool;
***REMOVED******REMOVED***upstreams:***REMOVED***Array<string>;

***REMOVED******REMOVED***/*****REMOVED***`true`***REMOVED***after***REMOVED***`pool.close()`***REMOVED***has***REMOVED***been***REMOVED***called.***REMOVED****/
***REMOVED******REMOVED***closed:***REMOVED***boolean;
***REMOVED******REMOVED***/*****REMOVED***`true`***REMOVED***after***REMOVED***`pool.destroyed()`***REMOVED***has***REMOVED***been***REMOVED***called***REMOVED***or***REMOVED***`pool.close()`***REMOVED***has***REMOVED***been***REMOVED***called***REMOVED***and***REMOVED***the***REMOVED***pool***REMOVED***shutdown***REMOVED***has***REMOVED***completed.***REMOVED****/
***REMOVED******REMOVED***destroyed:***REMOVED***boolean;

***REMOVED******REMOVED***//***REMOVED***Override***REMOVED***dispatcher***REMOVED***APIs.
***REMOVED******REMOVED***override***REMOVED***connect(
***REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***BalancedPoolConnectOptions
***REMOVED******REMOVED***):***REMOVED***Promise<Dispatcher.ConnectData>;
***REMOVED******REMOVED***override***REMOVED***connect(
***REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***BalancedPoolConnectOptions,
***REMOVED******REMOVED******REMOVED******REMOVED***callback:***REMOVED***(err:***REMOVED***Error***REMOVED***|***REMOVED***null,***REMOVED***data:***REMOVED***Dispatcher.ConnectData)***REMOVED***=>***REMOVED***void
***REMOVED******REMOVED***):***REMOVED***void;
}
