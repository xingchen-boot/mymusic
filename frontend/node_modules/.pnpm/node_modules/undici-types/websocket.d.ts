///***REMOVED***<reference***REMOVED***types="node"***REMOVED***/>

import***REMOVED***type***REMOVED***{***REMOVED***Blob***REMOVED***}***REMOVED***from***REMOVED***'buffer'
import***REMOVED***type***REMOVED***{***REMOVED***MessagePort***REMOVED***}***REMOVED***from***REMOVED***'worker_threads'
import***REMOVED***{
***REMOVED******REMOVED***EventInit,
***REMOVED******REMOVED***EventListenerOptions,
***REMOVED******REMOVED***AddEventListenerOptions,
***REMOVED******REMOVED***EventListenerOrEventListenerObject
}***REMOVED***from***REMOVED***'./patch'
import***REMOVED***Dispatcher***REMOVED***from***REMOVED***'./dispatcher'
import***REMOVED***{***REMOVED***HeadersInit***REMOVED***}***REMOVED***from***REMOVED***'./fetch'

export***REMOVED***type***REMOVED***BinaryType***REMOVED***=***REMOVED***'blob'***REMOVED***|***REMOVED***'arraybuffer'

interface***REMOVED***WebSocketEventMap***REMOVED***{
***REMOVED******REMOVED***close:***REMOVED***CloseEvent
***REMOVED******REMOVED***error:***REMOVED***ErrorEvent
***REMOVED******REMOVED***message:***REMOVED***MessageEvent
***REMOVED******REMOVED***open:***REMOVED***Event
}

interface***REMOVED***WebSocket***REMOVED***extends***REMOVED***EventTarget***REMOVED***{
***REMOVED******REMOVED***binaryType:***REMOVED***BinaryType
***REMOVED******REMOVED***
***REMOVED******REMOVED***readonly***REMOVED***bufferedAmount:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***extensions:***REMOVED***string

***REMOVED******REMOVED***onclose:***REMOVED***((this:***REMOVED***WebSocket,***REMOVED***ev:***REMOVED***WebSocketEventMap['close'])***REMOVED***=>***REMOVED***any)***REMOVED***|***REMOVED***null
***REMOVED******REMOVED***onerror:***REMOVED***((this:***REMOVED***WebSocket,***REMOVED***ev:***REMOVED***WebSocketEventMap['error'])***REMOVED***=>***REMOVED***any)***REMOVED***|***REMOVED***null
***REMOVED******REMOVED***onmessage:***REMOVED***((this:***REMOVED***WebSocket,***REMOVED***ev:***REMOVED***WebSocketEventMap['message'])***REMOVED***=>***REMOVED***any)***REMOVED***|***REMOVED***null
***REMOVED******REMOVED***onopen:***REMOVED***((this:***REMOVED***WebSocket,***REMOVED***ev:***REMOVED***WebSocketEventMap['open'])***REMOVED***=>***REMOVED***any)***REMOVED***|***REMOVED***null

***REMOVED******REMOVED***readonly***REMOVED***protocol:***REMOVED***string
***REMOVED******REMOVED***readonly***REMOVED***readyState:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***url:***REMOVED***string

***REMOVED******REMOVED***close(code?:***REMOVED***number,***REMOVED***reason?:***REMOVED***string):***REMOVED***void
***REMOVED******REMOVED***send(data:***REMOVED***string***REMOVED***|***REMOVED***ArrayBufferLike***REMOVED***|***REMOVED***Blob***REMOVED***|***REMOVED***ArrayBufferView):***REMOVED***void

***REMOVED******REMOVED***readonly***REMOVED***CLOSED:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***CLOSING:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***CONNECTING:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***OPEN:***REMOVED***number

***REMOVED******REMOVED***addEventListener<K***REMOVED***extends***REMOVED***keyof***REMOVED***WebSocketEventMap>(
***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***K,
***REMOVED******REMOVED******REMOVED******REMOVED***listener:***REMOVED***(this:***REMOVED***WebSocket,***REMOVED***ev:***REMOVED***WebSocketEventMap[K])***REMOVED***=>***REMOVED***any,
***REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***boolean***REMOVED***|***REMOVED***AddEventListenerOptions
***REMOVED******REMOVED***):***REMOVED***void
***REMOVED******REMOVED***addEventListener(
***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED***listener:***REMOVED***EventListenerOrEventListenerObject,
***REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***boolean***REMOVED***|***REMOVED***AddEventListenerOptions
***REMOVED******REMOVED***):***REMOVED***void
***REMOVED******REMOVED***removeEventListener<K***REMOVED***extends***REMOVED***keyof***REMOVED***WebSocketEventMap>(
***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***K,
***REMOVED******REMOVED******REMOVED******REMOVED***listener:***REMOVED***(this:***REMOVED***WebSocket,***REMOVED***ev:***REMOVED***WebSocketEventMap[K])***REMOVED***=>***REMOVED***any,
***REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***boolean***REMOVED***|***REMOVED***EventListenerOptions
***REMOVED******REMOVED***):***REMOVED***void
***REMOVED******REMOVED***removeEventListener(
***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED***listener:***REMOVED***EventListenerOrEventListenerObject,
***REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***boolean***REMOVED***|***REMOVED***EventListenerOptions
***REMOVED******REMOVED***):***REMOVED***void
}

export***REMOVED***declare***REMOVED***const***REMOVED***WebSocket:***REMOVED***{
***REMOVED******REMOVED***prototype:***REMOVED***WebSocket
***REMOVED******REMOVED***new***REMOVED***(url:***REMOVED***string***REMOVED***|***REMOVED***URL,***REMOVED***protocols?:***REMOVED***string***REMOVED***|***REMOVED***string[]***REMOVED***|***REMOVED***WebSocketInit):***REMOVED***WebSocket
***REMOVED******REMOVED***readonly***REMOVED***CLOSED:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***CLOSING:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***CONNECTING:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***OPEN:***REMOVED***number
}

interface***REMOVED***CloseEventInit***REMOVED***extends***REMOVED***EventInit***REMOVED***{
***REMOVED******REMOVED***code?:***REMOVED***number
***REMOVED******REMOVED***reason?:***REMOVED***string
***REMOVED******REMOVED***wasClean?:***REMOVED***boolean
}

interface***REMOVED***CloseEvent***REMOVED***extends***REMOVED***Event***REMOVED***{
***REMOVED******REMOVED***readonly***REMOVED***code:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***reason:***REMOVED***string
***REMOVED******REMOVED***readonly***REMOVED***wasClean:***REMOVED***boolean
}

export***REMOVED***declare***REMOVED***const***REMOVED***CloseEvent:***REMOVED***{
***REMOVED******REMOVED***prototype:***REMOVED***CloseEvent
***REMOVED******REMOVED***new***REMOVED***(type:***REMOVED***string,***REMOVED***eventInitDict?:***REMOVED***CloseEventInit):***REMOVED***CloseEvent
}

interface***REMOVED***MessageEventInit<T***REMOVED***=***REMOVED***any>***REMOVED***extends***REMOVED***EventInit***REMOVED***{
***REMOVED******REMOVED***data?:***REMOVED***T
***REMOVED******REMOVED***lastEventId?:***REMOVED***string
***REMOVED******REMOVED***origin?:***REMOVED***string
***REMOVED******REMOVED***ports?:***REMOVED***(typeof***REMOVED***MessagePort)[]
***REMOVED******REMOVED***source?:***REMOVED***typeof***REMOVED***MessagePort***REMOVED***|***REMOVED***null
}

interface***REMOVED***MessageEvent<T***REMOVED***=***REMOVED***any>***REMOVED***extends***REMOVED***Event***REMOVED***{
***REMOVED******REMOVED***readonly***REMOVED***data:***REMOVED***T
***REMOVED******REMOVED***readonly***REMOVED***lastEventId:***REMOVED***string
***REMOVED******REMOVED***readonly***REMOVED***origin:***REMOVED***string
***REMOVED******REMOVED***readonly***REMOVED***ports:***REMOVED***ReadonlyArray<typeof***REMOVED***MessagePort>
***REMOVED******REMOVED***readonly***REMOVED***source:***REMOVED***typeof***REMOVED***MessagePort***REMOVED***|***REMOVED***null
***REMOVED******REMOVED***initMessageEvent(
***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED***bubbles?:***REMOVED***boolean,
***REMOVED******REMOVED******REMOVED******REMOVED***cancelable?:***REMOVED***boolean,
***REMOVED******REMOVED******REMOVED******REMOVED***data?:***REMOVED***any,
***REMOVED******REMOVED******REMOVED******REMOVED***origin?:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED***lastEventId?:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED***source?:***REMOVED***typeof***REMOVED***MessagePort***REMOVED***|***REMOVED***null,
***REMOVED******REMOVED******REMOVED******REMOVED***ports?:***REMOVED***(typeof***REMOVED***MessagePort)[]
***REMOVED******REMOVED***):***REMOVED***void;
}

export***REMOVED***declare***REMOVED***const***REMOVED***MessageEvent:***REMOVED***{
***REMOVED******REMOVED***prototype:***REMOVED***MessageEvent
***REMOVED******REMOVED***new<T>(type:***REMOVED***string,***REMOVED***eventInitDict?:***REMOVED***MessageEventInit<T>):***REMOVED***MessageEvent<T>
}

interface***REMOVED***ErrorEventInit***REMOVED***extends***REMOVED***EventInit***REMOVED***{
***REMOVED******REMOVED***message?:***REMOVED***string
***REMOVED******REMOVED***filename?:***REMOVED***string
***REMOVED******REMOVED***lineno?:***REMOVED***number
***REMOVED******REMOVED***colno?:***REMOVED***number
***REMOVED******REMOVED***error?:***REMOVED***any
}

interface***REMOVED***ErrorEvent***REMOVED***extends***REMOVED***Event***REMOVED***{
***REMOVED******REMOVED***readonly***REMOVED***message:***REMOVED***string
***REMOVED******REMOVED***readonly***REMOVED***filename:***REMOVED***string
***REMOVED******REMOVED***readonly***REMOVED***lineno:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***colno:***REMOVED***number
***REMOVED******REMOVED***readonly***REMOVED***error:***REMOVED***any
}

export***REMOVED***declare***REMOVED***const***REMOVED***ErrorEvent:***REMOVED***{
***REMOVED******REMOVED***prototype:***REMOVED***ErrorEvent
***REMOVED******REMOVED***new***REMOVED***(type:***REMOVED***string,***REMOVED***eventInitDict?:***REMOVED***ErrorEventInit):***REMOVED***ErrorEvent
}

interface***REMOVED***WebSocketInit***REMOVED***{
***REMOVED******REMOVED***protocols?:***REMOVED***string***REMOVED***|***REMOVED***string[],
***REMOVED******REMOVED***dispatcher?:***REMOVED***Dispatcher,
***REMOVED******REMOVED***headers?:***REMOVED***HeadersInit
}
