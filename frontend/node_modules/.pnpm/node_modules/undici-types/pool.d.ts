import***REMOVED***Client***REMOVED***from***REMOVED***'./client'
import***REMOVED***TPoolStats***REMOVED***from***REMOVED***'./pool-stats'
import***REMOVED***{***REMOVED***URL***REMOVED***}***REMOVED***from***REMOVED***'url'
import***REMOVED***Dispatcher***REMOVED***from***REMOVED***"./dispatcher";

export***REMOVED***default***REMOVED***Pool

type***REMOVED***PoolConnectOptions***REMOVED***=***REMOVED***Omit<Dispatcher.ConnectOptions,***REMOVED***"origin">;

declare***REMOVED***class***REMOVED***Pool***REMOVED***extends***REMOVED***Dispatcher***REMOVED***{
***REMOVED******REMOVED***constructor(url:***REMOVED***string***REMOVED***|***REMOVED***URL,***REMOVED***options?:***REMOVED***Pool.Options)
***REMOVED******REMOVED***/*****REMOVED***`true`***REMOVED***after***REMOVED***`pool.close()`***REMOVED***has***REMOVED***been***REMOVED***called.***REMOVED****/
***REMOVED******REMOVED***closed:***REMOVED***boolean;
***REMOVED******REMOVED***/*****REMOVED***`true`***REMOVED***after***REMOVED***`pool.destroyed()`***REMOVED***has***REMOVED***been***REMOVED***called***REMOVED***or***REMOVED***`pool.close()`***REMOVED***has***REMOVED***been***REMOVED***called***REMOVED***and***REMOVED***the***REMOVED***pool***REMOVED***shutdown***REMOVED***has***REMOVED***completed.***REMOVED****/
***REMOVED******REMOVED***destroyed:***REMOVED***boolean;
***REMOVED******REMOVED***/*****REMOVED***Aggregate***REMOVED***stats***REMOVED***for***REMOVED***a***REMOVED***Pool.***REMOVED****/
***REMOVED******REMOVED***readonly***REMOVED***stats:***REMOVED***TPoolStats;

***REMOVED******REMOVED***//***REMOVED***Override***REMOVED***dispatcher***REMOVED***APIs.
***REMOVED******REMOVED***override***REMOVED***connect(
***REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***PoolConnectOptions
***REMOVED******REMOVED***):***REMOVED***Promise<Dispatcher.ConnectData>;
***REMOVED******REMOVED***override***REMOVED***connect(
***REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***PoolConnectOptions,
***REMOVED******REMOVED******REMOVED******REMOVED***callback:***REMOVED***(err:***REMOVED***Error***REMOVED***|***REMOVED***null,***REMOVED***data:***REMOVED***Dispatcher.ConnectData)***REMOVED***=>***REMOVED***void
***REMOVED******REMOVED***):***REMOVED***void;
}

declare***REMOVED***namespace***REMOVED***Pool***REMOVED***{
***REMOVED******REMOVED***export***REMOVED***type***REMOVED***PoolStats***REMOVED***=***REMOVED***TPoolStats;
***REMOVED******REMOVED***export***REMOVED***interface***REMOVED***Options***REMOVED***extends***REMOVED***Client.Options***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***Default:***REMOVED***`(origin,***REMOVED***opts)***REMOVED***=>***REMOVED***new***REMOVED***Client(origin,***REMOVED***opts)`.***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***factory?(origin:***REMOVED***URL,***REMOVED***opts:***REMOVED***object):***REMOVED***Dispatcher;
***REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***The***REMOVED***max***REMOVED***number***REMOVED***of***REMOVED***clients***REMOVED***to***REMOVED***create.***REMOVED***`null`***REMOVED***if***REMOVED***no***REMOVED***limit.***REMOVED***Default***REMOVED***`null`.***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***connections?:***REMOVED***number***REMOVED***|***REMOVED***null;

***REMOVED******REMOVED******REMOVED******REMOVED***interceptors?:***REMOVED***{***REMOVED***Pool?:***REMOVED***readonly***REMOVED***Dispatcher.DispatchInterceptor[]***REMOVED***}***REMOVED***&***REMOVED***Client.Options["interceptors"]
***REMOVED******REMOVED***}
}
