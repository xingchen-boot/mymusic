/**
***REMOVED*******REMOVED*****This***REMOVED***module***REMOVED***is***REMOVED***pending***REMOVED***deprecation.*****REMOVED***Once***REMOVED***a***REMOVED***replacement***REMOVED***API***REMOVED***has***REMOVED***been
***REMOVED*******REMOVED***finalized,***REMOVED***this***REMOVED***module***REMOVED***will***REMOVED***be***REMOVED***fully***REMOVED***deprecated.***REMOVED***Most***REMOVED***developers***REMOVED***should
***REMOVED*******REMOVED*****not*****REMOVED***have***REMOVED***cause***REMOVED***to***REMOVED***use***REMOVED***this***REMOVED***module.***REMOVED***Users***REMOVED***who***REMOVED***absolutely***REMOVED***must***REMOVED***have
***REMOVED*******REMOVED***the***REMOVED***functionality***REMOVED***that***REMOVED***domains***REMOVED***provide***REMOVED***may***REMOVED***rely***REMOVED***on***REMOVED***it***REMOVED***for***REMOVED***the***REMOVED***time***REMOVED***being
***REMOVED*******REMOVED***but***REMOVED***should***REMOVED***expect***REMOVED***to***REMOVED***have***REMOVED***to***REMOVED***migrate***REMOVED***to***REMOVED***a***REMOVED***different***REMOVED***solution
***REMOVED*******REMOVED***in***REMOVED***the***REMOVED***future.
***REMOVED****
***REMOVED*******REMOVED***Domains***REMOVED***provide***REMOVED***a***REMOVED***way***REMOVED***to***REMOVED***handle***REMOVED***multiple***REMOVED***different***REMOVED***IO***REMOVED***operations***REMOVED***as***REMOVED***a
***REMOVED*******REMOVED***single***REMOVED***group.***REMOVED***If***REMOVED***any***REMOVED***of***REMOVED***the***REMOVED***event***REMOVED***emitters***REMOVED***or***REMOVED***callbacks***REMOVED***registered***REMOVED***to***REMOVED***a
***REMOVED*******REMOVED***domain***REMOVED***emit***REMOVED***an***REMOVED***`'error'`***REMOVED***event,***REMOVED***or***REMOVED***throw***REMOVED***an***REMOVED***error,***REMOVED***then***REMOVED***the***REMOVED***domain***REMOVED***object
***REMOVED*******REMOVED***will***REMOVED***be***REMOVED***notified,***REMOVED***rather***REMOVED***than***REMOVED***losing***REMOVED***the***REMOVED***context***REMOVED***of***REMOVED***the***REMOVED***error***REMOVED***in***REMOVED***the***REMOVED***`process.on('uncaughtException')`***REMOVED***handler,***REMOVED***or***REMOVED***causing***REMOVED***the***REMOVED***program***REMOVED***to
***REMOVED*******REMOVED***exit***REMOVED***immediately***REMOVED***with***REMOVED***an***REMOVED***error***REMOVED***code.
***REMOVED*******REMOVED***@deprecated***REMOVED***Since***REMOVED***v1.4.2***REMOVED***-***REMOVED***Deprecated
***REMOVED*******REMOVED***@see***REMOVED***[source](https://github.com/nodejs/node/blob/v20.13.1/lib/domain.js)
***REMOVED****/
declare***REMOVED***module***REMOVED***"domain"***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***import***REMOVED***EventEmitter***REMOVED***=***REMOVED***require("node:events");
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`Domain`***REMOVED***class***REMOVED***encapsulates***REMOVED***the***REMOVED***functionality***REMOVED***of***REMOVED***routing***REMOVED***errors***REMOVED***and
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***uncaught***REMOVED***exceptions***REMOVED***to***REMOVED***the***REMOVED***active***REMOVED***`Domain`***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***To***REMOVED***handle***REMOVED***the***REMOVED***errors***REMOVED***that***REMOVED***it***REMOVED***catches,***REMOVED***listen***REMOVED***to***REMOVED***its***REMOVED***`'error'`***REMOVED***event.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***class***REMOVED***Domain***REMOVED***extends***REMOVED***EventEmitter***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***An***REMOVED***array***REMOVED***of***REMOVED***timers***REMOVED***and***REMOVED***event***REMOVED***emitters***REMOVED***that***REMOVED***have***REMOVED***been***REMOVED***explicitly***REMOVED***added
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***to***REMOVED***the***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***members:***REMOVED***Array<EventEmitter***REMOVED***|***REMOVED***NodeJS.Timer>;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`enter()`***REMOVED***method***REMOVED***is***REMOVED***plumbing***REMOVED***used***REMOVED***by***REMOVED***the***REMOVED***`run()`,***REMOVED***`bind()`,***REMOVED***and***REMOVED***`intercept()`***REMOVED***methods***REMOVED***to***REMOVED***set***REMOVED***the***REMOVED***active***REMOVED***domain.***REMOVED***It***REMOVED***sets***REMOVED***`domain.active`***REMOVED***and***REMOVED***`process.domain`***REMOVED***to***REMOVED***the***REMOVED***domain,***REMOVED***and***REMOVED***implicitly
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***pushes***REMOVED***the***REMOVED***domain***REMOVED***onto***REMOVED***the***REMOVED***domain
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***stack***REMOVED***managed***REMOVED***by***REMOVED***the***REMOVED***domain***REMOVED***module***REMOVED***(see***REMOVED***{@link***REMOVED***exit}***REMOVED***for***REMOVED***details***REMOVED***on***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***domain***REMOVED***stack).***REMOVED***The***REMOVED***call***REMOVED***to***REMOVED***`enter()`***REMOVED***delimits***REMOVED***the***REMOVED***beginning***REMOVED***of***REMOVED***a***REMOVED***chain***REMOVED***of
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***asynchronous***REMOVED***calls***REMOVED***and***REMOVED***I/O***REMOVED***operations***REMOVED***bound***REMOVED***to***REMOVED***a***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Calling***REMOVED***`enter()`***REMOVED***changes***REMOVED***only***REMOVED***the***REMOVED***active***REMOVED***domain,***REMOVED***and***REMOVED***does***REMOVED***not***REMOVED***alter***REMOVED***the***REMOVED***domain
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***itself.***REMOVED***`enter()`***REMOVED***and***REMOVED***`exit()`***REMOVED***can***REMOVED***be***REMOVED***called***REMOVED***an***REMOVED***arbitrary***REMOVED***number***REMOVED***of***REMOVED***times***REMOVED***on***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***single***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***enter():***REMOVED***void;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`exit()`***REMOVED***method***REMOVED***exits***REMOVED***the***REMOVED***current***REMOVED***domain,***REMOVED***popping***REMOVED***it***REMOVED***off***REMOVED***the***REMOVED***domain***REMOVED***stack.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Any***REMOVED***time***REMOVED***execution***REMOVED***is***REMOVED***going***REMOVED***to***REMOVED***switch***REMOVED***to***REMOVED***the***REMOVED***context***REMOVED***of***REMOVED***a***REMOVED***different***REMOVED***chain***REMOVED***of
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***asynchronous***REMOVED***calls,***REMOVED***it's***REMOVED***important***REMOVED***to***REMOVED***ensure***REMOVED***that***REMOVED***the***REMOVED***current***REMOVED***domain***REMOVED***is***REMOVED***exited.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***call***REMOVED***to***REMOVED***`exit()`***REMOVED***delimits***REMOVED***either***REMOVED***the***REMOVED***end***REMOVED***of***REMOVED***or***REMOVED***an***REMOVED***interruption***REMOVED***to***REMOVED***the***REMOVED***chain
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***of***REMOVED***asynchronous***REMOVED***calls***REMOVED***and***REMOVED***I/O***REMOVED***operations***REMOVED***bound***REMOVED***to***REMOVED***a***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***there***REMOVED***are***REMOVED***multiple,***REMOVED***nested***REMOVED***domains***REMOVED***bound***REMOVED***to***REMOVED***the***REMOVED***current***REMOVED***execution***REMOVED***context,***REMOVED***`exit()`***REMOVED***will***REMOVED***exit***REMOVED***any***REMOVED***domains***REMOVED***nested***REMOVED***within***REMOVED***this***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Calling***REMOVED***`exit()`***REMOVED***changes***REMOVED***only***REMOVED***the***REMOVED***active***REMOVED***domain,***REMOVED***and***REMOVED***does***REMOVED***not***REMOVED***alter***REMOVED***the***REMOVED***domain
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***itself.***REMOVED***`enter()`***REMOVED***and***REMOVED***`exit()`***REMOVED***can***REMOVED***be***REMOVED***called***REMOVED***an***REMOVED***arbitrary***REMOVED***number***REMOVED***of***REMOVED***times***REMOVED***on***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***single***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***exit():***REMOVED***void;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Run***REMOVED***the***REMOVED***supplied***REMOVED***function***REMOVED***in***REMOVED***the***REMOVED***context***REMOVED***of***REMOVED***the***REMOVED***domain,***REMOVED***implicitly
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***binding***REMOVED***all***REMOVED***event***REMOVED***emitters,***REMOVED***timers,***REMOVED***and***REMOVED***low-level***REMOVED***requests***REMOVED***that***REMOVED***are
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***created***REMOVED***in***REMOVED***that***REMOVED***context.***REMOVED***Optionally,***REMOVED***arguments***REMOVED***can***REMOVED***be***REMOVED***passed***REMOVED***to
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***function.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***is***REMOVED***the***REMOVED***most***REMOVED***basic***REMOVED***way***REMOVED***to***REMOVED***use***REMOVED***a***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***domain***REMOVED***from***REMOVED***'node:domain';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***fs***REMOVED***from***REMOVED***'node:fs';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***d***REMOVED***=***REMOVED***domain.create();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***d.on('error',***REMOVED***(er)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***console.error('Caught***REMOVED***error!',***REMOVED***er);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***d.run(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***process.nextTick(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{***REMOVED***//***REMOVED***Simulating***REMOVED***some***REMOVED***various***REMOVED***async***REMOVED***stuff
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fs.open('non-existent***REMOVED***file',***REMOVED***'r',***REMOVED***(er,***REMOVED***fd)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(er)***REMOVED***throw***REMOVED***er;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***proceed...
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***100);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***In***REMOVED***this***REMOVED***example,***REMOVED***the***REMOVED***`d.on('error')`***REMOVED***handler***REMOVED***will***REMOVED***be***REMOVED***triggered,***REMOVED***rather
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***than***REMOVED***crashing***REMOVED***the***REMOVED***program.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***run<T>(fn:***REMOVED***(...args:***REMOVED***any[])***REMOVED***=>***REMOVED***T,***REMOVED***...args:***REMOVED***any[]):***REMOVED***T;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Explicitly***REMOVED***adds***REMOVED***an***REMOVED***emitter***REMOVED***to***REMOVED***the***REMOVED***domain.***REMOVED***If***REMOVED***any***REMOVED***event***REMOVED***handlers***REMOVED***called***REMOVED***by
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***emitter***REMOVED***throw***REMOVED***an***REMOVED***error,***REMOVED***or***REMOVED***if***REMOVED***the***REMOVED***emitter***REMOVED***emits***REMOVED***an***REMOVED***`'error'`***REMOVED***event,***REMOVED***it
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***will***REMOVED***be***REMOVED***routed***REMOVED***to***REMOVED***the***REMOVED***domain's***REMOVED***`'error'`***REMOVED***event,***REMOVED***just***REMOVED***like***REMOVED***with***REMOVED***implicit
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***binding.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***also***REMOVED***works***REMOVED***with***REMOVED***timers***REMOVED***that***REMOVED***are***REMOVED***returned***REMOVED***from***REMOVED***`setInterval()`***REMOVED***and***REMOVED***`setTimeout()`.***REMOVED***If***REMOVED***their***REMOVED***callback***REMOVED***function***REMOVED***throws,***REMOVED***it***REMOVED***will***REMOVED***be***REMOVED***caught***REMOVED***by
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***domain***REMOVED***`'error'`***REMOVED***handler.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***the***REMOVED***Timer***REMOVED***or***REMOVED***`EventEmitter`***REMOVED***was***REMOVED***already***REMOVED***bound***REMOVED***to***REMOVED***a***REMOVED***domain,***REMOVED***it***REMOVED***is***REMOVED***removed
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***from***REMOVED***that***REMOVED***one,***REMOVED***and***REMOVED***bound***REMOVED***to***REMOVED***this***REMOVED***one***REMOVED***instead.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***emitter***REMOVED***emitter***REMOVED***or***REMOVED***timer***REMOVED***to***REMOVED***be***REMOVED***added***REMOVED***to***REMOVED***the***REMOVED***domain
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***add(emitter:***REMOVED***EventEmitter***REMOVED***|***REMOVED***NodeJS.Timer):***REMOVED***void;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***opposite***REMOVED***of***REMOVED***{@link***REMOVED***add}.***REMOVED***Removes***REMOVED***domain***REMOVED***handling***REMOVED***from***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***specified***REMOVED***emitter.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***emitter***REMOVED***emitter***REMOVED***or***REMOVED***timer***REMOVED***to***REMOVED***be***REMOVED***removed***REMOVED***from***REMOVED***the***REMOVED***domain
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***remove(emitter:***REMOVED***EventEmitter***REMOVED***|***REMOVED***NodeJS.Timer):***REMOVED***void;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***returned***REMOVED***function***REMOVED***will***REMOVED***be***REMOVED***a***REMOVED***wrapper***REMOVED***around***REMOVED***the***REMOVED***supplied***REMOVED***callback
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***function.***REMOVED***When***REMOVED***the***REMOVED***returned***REMOVED***function***REMOVED***is***REMOVED***called,***REMOVED***any***REMOVED***errors***REMOVED***that***REMOVED***are
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***thrown***REMOVED***will***REMOVED***be***REMOVED***routed***REMOVED***to***REMOVED***the***REMOVED***domain's***REMOVED***`'error'`***REMOVED***event.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***d***REMOVED***=***REMOVED***domain.create();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***function***REMOVED***readSomeFile(filename,***REMOVED***cb)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***fs.readFile(filename,***REMOVED***'utf8',***REMOVED***d.bind((er,***REMOVED***data)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***If***REMOVED***this***REMOVED***throws,***REMOVED***it***REMOVED***will***REMOVED***also***REMOVED***be***REMOVED***passed***REMOVED***to***REMOVED***the***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***cb(er,***REMOVED***data***REMOVED***?***REMOVED***JSON.parse(data)***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***}));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***d.on('error',***REMOVED***(er)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***//***REMOVED***An***REMOVED***error***REMOVED***occurred***REMOVED***somewhere.***REMOVED***If***REMOVED***we***REMOVED***throw***REMOVED***it***REMOVED***now,***REMOVED***it***REMOVED***will***REMOVED***crash***REMOVED***the***REMOVED***program
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***//***REMOVED***with***REMOVED***the***REMOVED***normal***REMOVED***line***REMOVED***number***REMOVED***and***REMOVED***stack***REMOVED***message.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***callback***REMOVED***The***REMOVED***callback***REMOVED***function
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***The***REMOVED***bound***REMOVED***function
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bind<T***REMOVED***extends***REMOVED***Function>(callback:***REMOVED***T):***REMOVED***T;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***method***REMOVED***is***REMOVED***almost***REMOVED***identical***REMOVED***to***REMOVED***{@link***REMOVED***bind}.***REMOVED***However,***REMOVED***in
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***addition***REMOVED***to***REMOVED***catching***REMOVED***thrown***REMOVED***errors,***REMOVED***it***REMOVED***will***REMOVED***also***REMOVED***intercept***REMOVED***`Error`***REMOVED***objects***REMOVED***sent***REMOVED***as***REMOVED***the***REMOVED***first***REMOVED***argument***REMOVED***to***REMOVED***the***REMOVED***function.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***In***REMOVED***this***REMOVED***way,***REMOVED***the***REMOVED***common***REMOVED***`if***REMOVED***(err)***REMOVED***return***REMOVED***callback(err);`***REMOVED***pattern***REMOVED***can***REMOVED***be***REMOVED***replaced
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***with***REMOVED***a***REMOVED***single***REMOVED***error***REMOVED***handler***REMOVED***in***REMOVED***a***REMOVED***single***REMOVED***place.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***d***REMOVED***=***REMOVED***domain.create();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***function***REMOVED***readSomeFile(filename,***REMOVED***cb)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***fs.readFile(filename,***REMOVED***'utf8',***REMOVED***d.intercept((data)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Note,***REMOVED***the***REMOVED***first***REMOVED***argument***REMOVED***is***REMOVED***never***REMOVED***passed***REMOVED***to***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***callback***REMOVED***since***REMOVED***it***REMOVED***is***REMOVED***assumed***REMOVED***to***REMOVED***be***REMOVED***the***REMOVED***'Error'***REMOVED***argument
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***and***REMOVED***thus***REMOVED***intercepted***REMOVED***by***REMOVED***the***REMOVED***domain.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***If***REMOVED***this***REMOVED***throws,***REMOVED***it***REMOVED***will***REMOVED***also***REMOVED***be***REMOVED***passed***REMOVED***to***REMOVED***the***REMOVED***domain
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***so***REMOVED***the***REMOVED***error-handling***REMOVED***logic***REMOVED***can***REMOVED***be***REMOVED***moved***REMOVED***to***REMOVED***the***REMOVED***'error'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***event***REMOVED***on***REMOVED***the***REMOVED***domain***REMOVED***instead***REMOVED***of***REMOVED***being***REMOVED***repeated***REMOVED***throughout
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***the***REMOVED***program.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***cb(null,***REMOVED***JSON.parse(data));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***}));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***d.on('error',***REMOVED***(er)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***//***REMOVED***An***REMOVED***error***REMOVED***occurred***REMOVED***somewhere.***REMOVED***If***REMOVED***we***REMOVED***throw***REMOVED***it***REMOVED***now,***REMOVED***it***REMOVED***will***REMOVED***crash***REMOVED***the***REMOVED***program
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***//***REMOVED***with***REMOVED***the***REMOVED***normal***REMOVED***line***REMOVED***number***REMOVED***and***REMOVED***stack***REMOVED***message.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***callback***REMOVED***The***REMOVED***callback***REMOVED***function
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***The***REMOVED***intercepted***REMOVED***function
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***intercept<T***REMOVED***extends***REMOVED***Function>(callback:***REMOVED***T):***REMOVED***T;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***create():***REMOVED***Domain;
}
declare***REMOVED***module***REMOVED***"node:domain"***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***export***REMOVED*******REMOVED***from***REMOVED***"domain";
}
