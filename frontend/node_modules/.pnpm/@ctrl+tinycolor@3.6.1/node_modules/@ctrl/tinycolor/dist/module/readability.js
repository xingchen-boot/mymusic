import***REMOVED***{***REMOVED***TinyColor***REMOVED***}***REMOVED***from***REMOVED***'./index.js';
//***REMOVED***Readability***REMOVED***Functions
//***REMOVED***---------------------
//***REMOVED***<http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef***REMOVED***(WCAG***REMOVED***Version***REMOVED***2)
/**
***REMOVED*******REMOVED***AKA***REMOVED***`contrast`
***REMOVED****
***REMOVED*******REMOVED***Analyze***REMOVED***the***REMOVED***2***REMOVED***colors***REMOVED***and***REMOVED***returns***REMOVED***the***REMOVED***color***REMOVED***contrast***REMOVED***defined***REMOVED***by***REMOVED***(WCAG***REMOVED***Version***REMOVED***2)
***REMOVED****/
export***REMOVED***function***REMOVED***readability(color1,***REMOVED***color2)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***c1***REMOVED***=***REMOVED***new***REMOVED***TinyColor(color1);
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***c2***REMOVED***=***REMOVED***new***REMOVED***TinyColor(color2);
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***((Math.max(c1.getLuminance(),***REMOVED***c2.getLuminance())***REMOVED***+***REMOVED***0.05)***REMOVED***/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(Math.min(c1.getLuminance(),***REMOVED***c2.getLuminance())***REMOVED***+***REMOVED***0.05));
}
/**
***REMOVED*******REMOVED***Ensure***REMOVED***that***REMOVED***foreground***REMOVED***and***REMOVED***background***REMOVED***color***REMOVED***combinations***REMOVED***meet***REMOVED***WCAG2***REMOVED***guidelines.
***REMOVED*******REMOVED***The***REMOVED***third***REMOVED***argument***REMOVED***is***REMOVED***an***REMOVED***object.
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***the***REMOVED***'level'***REMOVED***property***REMOVED***states***REMOVED***'AA'***REMOVED***or***REMOVED***'AAA'***REMOVED***-***REMOVED***if***REMOVED***missing***REMOVED***or***REMOVED***invalid,***REMOVED***it***REMOVED***defaults***REMOVED***to***REMOVED***'AA';
***REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***the***REMOVED***'size'***REMOVED***property***REMOVED***states***REMOVED***'large'***REMOVED***or***REMOVED***'small'***REMOVED***-***REMOVED***if***REMOVED***missing***REMOVED***or***REMOVED***invalid,***REMOVED***it***REMOVED***defaults***REMOVED***to***REMOVED***'small'.
***REMOVED*******REMOVED***If***REMOVED***the***REMOVED***entire***REMOVED***object***REMOVED***is***REMOVED***absent,***REMOVED***isReadable***REMOVED***defaults***REMOVED***to***REMOVED***{level:"AA",size:"small"}.
***REMOVED****
***REMOVED*******REMOVED***Example
***REMOVED*******REMOVED***```ts
***REMOVED*******REMOVED***new***REMOVED***TinyColor().isReadable('#000',***REMOVED***'#111')***REMOVED***=>***REMOVED***false
***REMOVED*******REMOVED***new***REMOVED***TinyColor().isReadable('#000',***REMOVED***'#111',***REMOVED***{***REMOVED***level:***REMOVED***'AA',***REMOVED***size:***REMOVED***'large'***REMOVED***})***REMOVED***=>***REMOVED***false
***REMOVED*******REMOVED***```
***REMOVED****/
export***REMOVED***function***REMOVED***isReadable(color1,***REMOVED***color2,***REMOVED***wcag2)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(wcag2***REMOVED***===***REMOVED***void***REMOVED***0)***REMOVED***{***REMOVED***wcag2***REMOVED***=***REMOVED***{***REMOVED***level:***REMOVED***'AA',***REMOVED***size:***REMOVED***'small'***REMOVED***};***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***readabilityLevel***REMOVED***=***REMOVED***readability(color1,***REMOVED***color2);
***REMOVED******REMOVED******REMOVED******REMOVED***switch***REMOVED***(((_a***REMOVED***=***REMOVED***wcag2.level)***REMOVED***!==***REMOVED***null***REMOVED***&&***REMOVED***_a***REMOVED***!==***REMOVED***void***REMOVED***0***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***'AA')***REMOVED***+***REMOVED***((_b***REMOVED***=***REMOVED***wcag2.size)***REMOVED***!==***REMOVED***null***REMOVED***&&***REMOVED***_b***REMOVED***!==***REMOVED***void***REMOVED***0***REMOVED***?***REMOVED***_b***REMOVED***:***REMOVED***'small'))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***'AAsmall':
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***'AAAlarge':
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***readabilityLevel***REMOVED***>=***REMOVED***4.5;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***'AAlarge':
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***readabilityLevel***REMOVED***>=***REMOVED***3;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***'AAAsmall':
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***readabilityLevel***REMOVED***>=***REMOVED***7;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***default:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***}
}
/**
***REMOVED*******REMOVED***Given***REMOVED***a***REMOVED***base***REMOVED***color***REMOVED***and***REMOVED***a***REMOVED***list***REMOVED***of***REMOVED***possible***REMOVED***foreground***REMOVED***or***REMOVED***background
***REMOVED*******REMOVED***colors***REMOVED***for***REMOVED***that***REMOVED***base,***REMOVED***returns***REMOVED***the***REMOVED***most***REMOVED***readable***REMOVED***color.
***REMOVED*******REMOVED***Optionally***REMOVED***returns***REMOVED***Black***REMOVED***or***REMOVED***White***REMOVED***if***REMOVED***the***REMOVED***most***REMOVED***readable***REMOVED***color***REMOVED***is***REMOVED***unreadable.
***REMOVED****
***REMOVED*******REMOVED***@param***REMOVED***baseColor***REMOVED***-***REMOVED***the***REMOVED***base***REMOVED***color.
***REMOVED*******REMOVED***@param***REMOVED***colorList***REMOVED***-***REMOVED***array***REMOVED***of***REMOVED***colors***REMOVED***to***REMOVED***pick***REMOVED***the***REMOVED***most***REMOVED***readable***REMOVED***one***REMOVED***from.
***REMOVED*******REMOVED***@param***REMOVED***args***REMOVED***-***REMOVED***and***REMOVED***object***REMOVED***with***REMOVED***extra***REMOVED***arguments
***REMOVED****
***REMOVED*******REMOVED***Example
***REMOVED*******REMOVED***```ts
***REMOVED*******REMOVED***new***REMOVED***TinyColor().mostReadable('#123',***REMOVED***['#124",***REMOVED***"#125'],***REMOVED***{***REMOVED***includeFallbackColors:***REMOVED***false***REMOVED***}).toHexString();***REMOVED***//***REMOVED***"#112255"
***REMOVED*******REMOVED***new***REMOVED***TinyColor().mostReadable('#123',***REMOVED***['#124",***REMOVED***"#125'],{***REMOVED***includeFallbackColors:***REMOVED***true***REMOVED***}).toHexString();***REMOVED******REMOVED***//***REMOVED***"#ffffff"
***REMOVED*******REMOVED***new***REMOVED***TinyColor().mostReadable('#a8015a',***REMOVED***["#faf3f3"],***REMOVED***{***REMOVED***includeFallbackColors:true,***REMOVED***level:***REMOVED***'AAA',***REMOVED***size:***REMOVED***'large'***REMOVED***}).toHexString();***REMOVED***//***REMOVED***"#faf3f3"
***REMOVED*******REMOVED***new***REMOVED***TinyColor().mostReadable('#a8015a',***REMOVED***["#faf3f3"],***REMOVED***{***REMOVED***includeFallbackColors:true,***REMOVED***level:***REMOVED***'AAA',***REMOVED***size:***REMOVED***'small'***REMOVED***}).toHexString();***REMOVED***//***REMOVED***"#ffffff"
***REMOVED*******REMOVED***```
***REMOVED****/
export***REMOVED***function***REMOVED***mostReadable(baseColor,***REMOVED***colorList,***REMOVED***args)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(args***REMOVED***===***REMOVED***void***REMOVED***0)***REMOVED***{***REMOVED***args***REMOVED***=***REMOVED***{***REMOVED***includeFallbackColors:***REMOVED***false,***REMOVED***level:***REMOVED***'AA',***REMOVED***size:***REMOVED***'small'***REMOVED***};***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***bestColor***REMOVED***=***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***bestScore***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***includeFallbackColors***REMOVED***=***REMOVED***args.includeFallbackColors,***REMOVED***level***REMOVED***=***REMOVED***args.level,***REMOVED***size***REMOVED***=***REMOVED***args.size;
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(var***REMOVED***_i***REMOVED***=***REMOVED***0,***REMOVED***colorList_1***REMOVED***=***REMOVED***colorList;***REMOVED***_i***REMOVED***<***REMOVED***colorList_1.length;***REMOVED***_i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***color***REMOVED***=***REMOVED***colorList_1[_i];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***score***REMOVED***=***REMOVED***readability(baseColor,***REMOVED***color);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(score***REMOVED***>***REMOVED***bestScore)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bestScore***REMOVED***=***REMOVED***score;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bestColor***REMOVED***=***REMOVED***new***REMOVED***TinyColor(color);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isReadable(baseColor,***REMOVED***bestColor,***REMOVED***{***REMOVED***level:***REMOVED***level,***REMOVED***size:***REMOVED***size***REMOVED***})***REMOVED***||***REMOVED***!includeFallbackColors)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***bestColor;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***args.includeFallbackColors***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***mostReadable(baseColor,***REMOVED***['#fff',***REMOVED***'#000'],***REMOVED***args);
}
