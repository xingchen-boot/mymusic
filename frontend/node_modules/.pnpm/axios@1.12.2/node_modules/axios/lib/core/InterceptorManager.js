'use***REMOVED***strict';

import***REMOVED***utils***REMOVED***from***REMOVED***'./../utils.js';

class***REMOVED***InterceptorManager***REMOVED***{
***REMOVED******REMOVED***constructor()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.handlers***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***}

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Add***REMOVED***a***REMOVED***new***REMOVED***interceptor***REMOVED***to***REMOVED***the***REMOVED***stack
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***{Function}***REMOVED***fulfilled***REMOVED***The***REMOVED***function***REMOVED***to***REMOVED***handle***REMOVED***`then`***REMOVED***for***REMOVED***a***REMOVED***`Promise`
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***{Function}***REMOVED***rejected***REMOVED***The***REMOVED***function***REMOVED***to***REMOVED***handle***REMOVED***`reject`***REMOVED***for***REMOVED***a***REMOVED***`Promise`
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***{Number}***REMOVED***An***REMOVED***ID***REMOVED***used***REMOVED***to***REMOVED***remove***REMOVED***interceptor***REMOVED***later
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***use(fulfilled,***REMOVED***rejected,***REMOVED***options)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.handlers.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fulfilled,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rejected,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***synchronous:***REMOVED***options***REMOVED***?***REMOVED***options.synchronous***REMOVED***:***REMOVED***false,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***runWhen:***REMOVED***options***REMOVED***?***REMOVED***options.runWhen***REMOVED***:***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.handlers.length***REMOVED***-***REMOVED***1;
***REMOVED******REMOVED***}

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Remove***REMOVED***an***REMOVED***interceptor***REMOVED***from***REMOVED***the***REMOVED***stack
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***{Number}***REMOVED***id***REMOVED***The***REMOVED***ID***REMOVED***that***REMOVED***was***REMOVED***returned***REMOVED***by***REMOVED***`use`
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@returns***REMOVED***{Boolean}***REMOVED***`true`***REMOVED***if***REMOVED***the***REMOVED***interceptor***REMOVED***was***REMOVED***removed,***REMOVED***`false`***REMOVED***otherwise
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***eject(id)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.handlers[id])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.handlers[id]***REMOVED***=***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Clear***REMOVED***all***REMOVED***interceptors***REMOVED***from***REMOVED***the***REMOVED***stack
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@returns***REMOVED***{void}
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***clear()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.handlers)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.handlers***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Iterate***REMOVED***over***REMOVED***all***REMOVED***the***REMOVED***registered***REMOVED***interceptors
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***method***REMOVED***is***REMOVED***particularly***REMOVED***useful***REMOVED***for***REMOVED***skipping***REMOVED***over***REMOVED***any
***REMOVED******REMOVED******REMOVED*******REMOVED***interceptors***REMOVED***that***REMOVED***may***REMOVED***have***REMOVED***become***REMOVED***`null`***REMOVED***calling***REMOVED***`eject`.
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***{Function}***REMOVED***fn***REMOVED***The***REMOVED***function***REMOVED***to***REMOVED***call***REMOVED***for***REMOVED***each***REMOVED***interceptor
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@returns***REMOVED***{void}
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***forEach(fn)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***utils.forEach(this.handlers,***REMOVED***function***REMOVED***forEachHandler(h)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(h***REMOVED***!==***REMOVED***null)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fn(h);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***}
}

export***REMOVED***default***REMOVED***InterceptorManager;
