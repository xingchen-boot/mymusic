"use***REMOVED***strict";

import***REMOVED***stream***REMOVED***from***REMOVED***"stream";

class***REMOVED***ZlibHeaderTransformStream***REMOVED***extends***REMOVED***stream.Transform***REMOVED***{
***REMOVED******REMOVED***__transform(chunk,***REMOVED***encoding,***REMOVED***callback)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.push(chunk);
***REMOVED******REMOVED******REMOVED******REMOVED***callback();
***REMOVED******REMOVED***}

***REMOVED******REMOVED***_transform(chunk,***REMOVED***encoding,***REMOVED***callback)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(chunk.length***REMOVED***!==***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._transform***REMOVED***=***REMOVED***this.__transform;

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Add***REMOVED***Default***REMOVED***Compression***REMOVED***headers***REMOVED***if***REMOVED***no***REMOVED***zlib***REMOVED***headers***REMOVED***are***REMOVED***present
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(chunk[0]***REMOVED***!==***REMOVED***120)***REMOVED***{***REMOVED***//***REMOVED***Hex:***REMOVED***78
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***header***REMOVED***=***REMOVED***Buffer.alloc(2);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***header[0]***REMOVED***=***REMOVED***120;***REMOVED***//***REMOVED***Hex:***REMOVED***78
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***header[1]***REMOVED***=***REMOVED***156;***REMOVED***//***REMOVED***Hex:***REMOVED***9C***REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.push(header,***REMOVED***encoding);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***this.__transform(chunk,***REMOVED***encoding,***REMOVED***callback);
***REMOVED******REMOVED***}
}

export***REMOVED***default***REMOVED***ZlibHeaderTransformStream;
