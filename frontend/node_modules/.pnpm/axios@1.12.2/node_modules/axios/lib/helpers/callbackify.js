import***REMOVED***utils***REMOVED***from***REMOVED***"../utils.js";

const***REMOVED***callbackify***REMOVED***=***REMOVED***(fn,***REMOVED***reducer)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***return***REMOVED***utils.isAsyncFn(fn)***REMOVED***?***REMOVED***function***REMOVED***(...args)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***cb***REMOVED***=***REMOVED***args.pop();
***REMOVED******REMOVED******REMOVED******REMOVED***fn.apply(this,***REMOVED***args).then((value)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***try***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***reducer***REMOVED***?***REMOVED***cb(null,***REMOVED***...reducer(value))***REMOVED***:***REMOVED***cb(null,***REMOVED***value);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***catch***REMOVED***(err)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cb(err);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***cb);
***REMOVED******REMOVED***}***REMOVED***:***REMOVED***fn;
}

export***REMOVED***default***REMOVED***callbackify;
