'use***REMOVED***strict'

let***REMOVED***CssSyntaxError***REMOVED***=***REMOVED***require('./css-syntax-error')
let***REMOVED***Stringifier***REMOVED***=***REMOVED***require('./stringifier')
let***REMOVED***stringify***REMOVED***=***REMOVED***require('./stringify')
let***REMOVED***{***REMOVED***isClean,***REMOVED***my***REMOVED***}***REMOVED***=***REMOVED***require('./symbols')

function***REMOVED***cloneNode(obj,***REMOVED***parent)***REMOVED***{
***REMOVED******REMOVED***let***REMOVED***cloned***REMOVED***=***REMOVED***new***REMOVED***obj.constructor()

***REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***in***REMOVED***obj)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!Object.prototype.hasOwnProperty.call(obj,***REMOVED***i))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/****REMOVED***c8***REMOVED***ignore***REMOVED***next***REMOVED***2***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***continue
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(i***REMOVED***===***REMOVED***'proxyCache')***REMOVED***continue
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***value***REMOVED***=***REMOVED***obj[i]
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***type***REMOVED***=***REMOVED***typeof***REMOVED***value

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(i***REMOVED***===***REMOVED***'parent'***REMOVED***&&***REMOVED***type***REMOVED***===***REMOVED***'object')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parent)***REMOVED***cloned[i]***REMOVED***=***REMOVED***parent
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(i***REMOVED***===***REMOVED***'source')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cloned[i]***REMOVED***=***REMOVED***value
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(Array.isArray(value))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cloned[i]***REMOVED***=***REMOVED***value.map(j***REMOVED***=>***REMOVED***cloneNode(j,***REMOVED***cloned))
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(type***REMOVED***===***REMOVED***'object'***REMOVED***&&***REMOVED***value***REMOVED***!==***REMOVED***null)***REMOVED***value***REMOVED***=***REMOVED***cloneNode(value)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cloned[i]***REMOVED***=***REMOVED***value
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***return***REMOVED***cloned
}

function***REMOVED***sourceOffset(inputCSS,***REMOVED***position)***REMOVED***{
***REMOVED******REMOVED***//***REMOVED***Not***REMOVED***all***REMOVED***custom***REMOVED***syntaxes***REMOVED***support***REMOVED***`offset`***REMOVED***in***REMOVED***`source.start`***REMOVED***and***REMOVED***`source.end`
***REMOVED******REMOVED***if***REMOVED***(position***REMOVED***&&***REMOVED***typeof***REMOVED***position.offset***REMOVED***!==***REMOVED***'undefined')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***position.offset
***REMOVED******REMOVED***}

***REMOVED******REMOVED***let***REMOVED***column***REMOVED***=***REMOVED***1
***REMOVED******REMOVED***let***REMOVED***line***REMOVED***=***REMOVED***1
***REMOVED******REMOVED***let***REMOVED***offset***REMOVED***=***REMOVED***0

***REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***inputCSS.length;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(line***REMOVED***===***REMOVED***position.line***REMOVED***&&***REMOVED***column***REMOVED***===***REMOVED***position.column)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset***REMOVED***=***REMOVED***i
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***break
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(inputCSS[i]***REMOVED***===***REMOVED***'\n')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column***REMOVED***=***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line***REMOVED***+=***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column***REMOVED***+=***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***return***REMOVED***offset
}

class***REMOVED***Node***REMOVED***{
***REMOVED******REMOVED***get***REMOVED***proxyOf()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this
***REMOVED******REMOVED***}

***REMOVED******REMOVED***constructor(defaults***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.raws***REMOVED***=***REMOVED***{}
***REMOVED******REMOVED******REMOVED******REMOVED***this[isClean]***REMOVED***=***REMOVED***false
***REMOVED******REMOVED******REMOVED******REMOVED***this[my]***REMOVED***=***REMOVED***true

***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***name***REMOVED***in***REMOVED***defaults)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(name***REMOVED***===***REMOVED***'nodes')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.nodes***REMOVED***=***REMOVED***[]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***node***REMOVED***of***REMOVED***defaults[name])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(typeof***REMOVED***node.clone***REMOVED***===***REMOVED***'function')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.append(node.clone())
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.append(node)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this[name]***REMOVED***=***REMOVED***defaults[name]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***addToError(error)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***error.postcssNode***REMOVED***=***REMOVED***this
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(error.stack***REMOVED***&&***REMOVED***this.source***REMOVED***&&***REMOVED***/\n\s{4}at***REMOVED***/.test(error.stack))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***s***REMOVED***=***REMOVED***this.source
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***error.stack***REMOVED***=***REMOVED***error.stack.replace(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/\n\s{4}at***REMOVED***/,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***`$&${s.input.from}:${s.start.line}:${s.start.column}$&`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***error
***REMOVED******REMOVED***}

***REMOVED******REMOVED***after(add)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.parent.insertAfter(this,***REMOVED***add)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this
***REMOVED******REMOVED***}

***REMOVED******REMOVED***assign(overrides***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***name***REMOVED***in***REMOVED***overrides)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this[name]***REMOVED***=***REMOVED***overrides[name]
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this
***REMOVED******REMOVED***}

***REMOVED******REMOVED***before(add)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.parent.insertBefore(this,***REMOVED***add)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this
***REMOVED******REMOVED***}

***REMOVED******REMOVED***cleanRaws(keepBetween)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***delete***REMOVED***this.raws.before
***REMOVED******REMOVED******REMOVED******REMOVED***delete***REMOVED***this.raws.after
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!keepBetween)***REMOVED***delete***REMOVED***this.raws.between
***REMOVED******REMOVED***}

***REMOVED******REMOVED***clone(overrides***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***cloned***REMOVED***=***REMOVED***cloneNode(this)
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***name***REMOVED***in***REMOVED***overrides)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cloned[name]***REMOVED***=***REMOVED***overrides[name]
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***cloned
***REMOVED******REMOVED***}

***REMOVED******REMOVED***cloneAfter(overrides***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***cloned***REMOVED***=***REMOVED***this.clone(overrides)
***REMOVED******REMOVED******REMOVED******REMOVED***this.parent.insertAfter(this,***REMOVED***cloned)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***cloned
***REMOVED******REMOVED***}

***REMOVED******REMOVED***cloneBefore(overrides***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***cloned***REMOVED***=***REMOVED***this.clone(overrides)
***REMOVED******REMOVED******REMOVED******REMOVED***this.parent.insertBefore(this,***REMOVED***cloned)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***cloned
***REMOVED******REMOVED***}

***REMOVED******REMOVED***error(message,***REMOVED***opts***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.source)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***{***REMOVED***end,***REMOVED***start***REMOVED***}***REMOVED***=***REMOVED***this.rangeBy(opts)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.source.input.error(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***message,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***column:***REMOVED***start.column,***REMOVED***line:***REMOVED***start.line***REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***column:***REMOVED***end.column,***REMOVED***line:***REMOVED***end.line***REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***opts
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***new***REMOVED***CssSyntaxError(message)
***REMOVED******REMOVED***}

***REMOVED******REMOVED***getProxyProcessor()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***get(node,***REMOVED***prop)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(prop***REMOVED***===***REMOVED***'proxyOf')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***node
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(prop***REMOVED***===***REMOVED***'root')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***()***REMOVED***=>***REMOVED***node.root().toProxy()
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***node[prop]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***set(node,***REMOVED***prop,***REMOVED***value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(node[prop]***REMOVED***===***REMOVED***value)***REMOVED***return***REMOVED***true
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***node[prop]***REMOVED***=***REMOVED***value
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***prop***REMOVED***===***REMOVED***'prop'***REMOVED***||
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***prop***REMOVED***===***REMOVED***'value'***REMOVED***||
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***prop***REMOVED***===***REMOVED***'name'***REMOVED***||
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***prop***REMOVED***===***REMOVED***'params'***REMOVED***||
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***prop***REMOVED***===***REMOVED***'important'***REMOVED***||
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/****REMOVED***c8***REMOVED***ignore***REMOVED***next***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***prop***REMOVED***===***REMOVED***'text'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***node.markDirty()
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***true
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***/****REMOVED***c8***REMOVED***ignore***REMOVED***next***REMOVED***3***REMOVED****/
***REMOVED******REMOVED***markClean()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this[isClean]***REMOVED***=***REMOVED***true
***REMOVED******REMOVED***}

***REMOVED******REMOVED***markDirty()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this[isClean])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this[isClean]***REMOVED***=***REMOVED***false
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***next***REMOVED***=***REMOVED***this
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***while***REMOVED***((next***REMOVED***=***REMOVED***next.parent))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***next[isClean]***REMOVED***=***REMOVED***false
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***next()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!this.parent)***REMOVED***return***REMOVED***undefined
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***index***REMOVED***=***REMOVED***this.parent.index(this)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.parent.nodes[index***REMOVED***+***REMOVED***1]
***REMOVED******REMOVED***}

***REMOVED******REMOVED***positionBy(opts***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***pos***REMOVED***=***REMOVED***this.source.start
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(opts.index)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***pos***REMOVED***=***REMOVED***this.positionInside(opts.index)
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(opts.word)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***inputString***REMOVED***=
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'document'***REMOVED***in***REMOVED***this.source.input
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***this.source.input.document
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***this.source.input.css
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***stringRepresentation***REMOVED***=***REMOVED***inputString.slice(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***sourceOffset(inputString,***REMOVED***this.source.start),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***sourceOffset(inputString,***REMOVED***this.source.end)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***index***REMOVED***=***REMOVED***stringRepresentation.indexOf(opts.word)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(index***REMOVED***!==***REMOVED***-1)***REMOVED***pos***REMOVED***=***REMOVED***this.positionInside(index)
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***pos
***REMOVED******REMOVED***}

***REMOVED******REMOVED***positionInside(index)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***column***REMOVED***=***REMOVED***this.source.start.column
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***line***REMOVED***=***REMOVED***this.source.start.line
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***inputString***REMOVED***=
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'document'***REMOVED***in***REMOVED***this.source.input
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***this.source.input.document
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***this.source.input.css
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***offset***REMOVED***=***REMOVED***sourceOffset(inputString,***REMOVED***this.source.start)
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***end***REMOVED***=***REMOVED***offset***REMOVED***+***REMOVED***index

***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***offset;***REMOVED***i***REMOVED***<***REMOVED***end;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(inputString[i]***REMOVED***===***REMOVED***'\n')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column***REMOVED***=***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line***REMOVED***+=***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column***REMOVED***+=***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{***REMOVED***column,***REMOVED***line,***REMOVED***offset:***REMOVED***end***REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***prev()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!this.parent)***REMOVED***return***REMOVED***undefined
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***index***REMOVED***=***REMOVED***this.parent.index(this)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.parent.nodes[index***REMOVED***-***REMOVED***1]
***REMOVED******REMOVED***}

***REMOVED******REMOVED***rangeBy(opts***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***inputString***REMOVED***=
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'document'***REMOVED***in***REMOVED***this.source.input
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***this.source.input.document
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***this.source.input.css
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***start***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column:***REMOVED***this.source.start.column,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line:***REMOVED***this.source.start.line,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset:***REMOVED***sourceOffset(inputString,***REMOVED***this.source.start)
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***end***REMOVED***=***REMOVED***this.source.end
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column:***REMOVED***this.source.end.column***REMOVED***+***REMOVED***1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line:***REMOVED***this.source.end.line,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***typeof***REMOVED***this.source.end.offset***REMOVED***===***REMOVED***'number'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***//***REMOVED***`source.end.offset`***REMOVED***is***REMOVED***exclusive,***REMOVED***so***REMOVED***we***REMOVED***don't***REMOVED***need***REMOVED***to***REMOVED***add***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.source.end.offset
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***//***REMOVED***Since***REMOVED***line/column***REMOVED***in***REMOVED***this.source.end***REMOVED***is***REMOVED***inclusive,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***the***REMOVED***`sourceOffset(...***REMOVED***,***REMOVED***this.source.end)`***REMOVED***returns***REMOVED***an***REMOVED***inclusive***REMOVED***offset.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***So,***REMOVED***we***REMOVED***add***REMOVED***1***REMOVED***to***REMOVED***convert***REMOVED***it***REMOVED***to***REMOVED***exclusive.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***sourceOffset(inputString,***REMOVED***this.source.end)***REMOVED***+***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column:***REMOVED***start.column***REMOVED***+***REMOVED***1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line:***REMOVED***start.line,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset:***REMOVED***start.offset***REMOVED***+***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(opts.word)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***stringRepresentation***REMOVED***=***REMOVED***inputString.slice(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***sourceOffset(inputString,***REMOVED***this.source.start),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***sourceOffset(inputString,***REMOVED***this.source.end)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***index***REMOVED***=***REMOVED***stringRepresentation.indexOf(opts.word)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(index***REMOVED***!==***REMOVED***-1)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***start***REMOVED***=***REMOVED***this.positionInside(index)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end***REMOVED***=***REMOVED***this.positionInside(index***REMOVED***+***REMOVED***opts.word.length)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(opts.start)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***start***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column:***REMOVED***opts.start.column,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line:***REMOVED***opts.start.line,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset:***REMOVED***sourceOffset(inputString,***REMOVED***opts.start)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(opts.index)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***start***REMOVED***=***REMOVED***this.positionInside(opts.index)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(opts.end)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column:***REMOVED***opts.end.column,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line:***REMOVED***opts.end.line,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset:***REMOVED***sourceOffset(inputString,***REMOVED***opts.end)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(typeof***REMOVED***opts.endIndex***REMOVED***===***REMOVED***'number')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end***REMOVED***=***REMOVED***this.positionInside(opts.endIndex)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(opts.index)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end***REMOVED***=***REMOVED***this.positionInside(opts.index***REMOVED***+***REMOVED***1)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end.line***REMOVED***<***REMOVED***start.line***REMOVED***||
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(end.line***REMOVED***===***REMOVED***start.line***REMOVED***&&***REMOVED***end.column***REMOVED***<=***REMOVED***start.column)
***REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column:***REMOVED***start.column***REMOVED***+***REMOVED***1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***line:***REMOVED***start.line,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset:***REMOVED***start.offset***REMOVED***+***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{***REMOVED***end,***REMOVED***start***REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***raw(prop,***REMOVED***defaultType)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***str***REMOVED***=***REMOVED***new***REMOVED***Stringifier()
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***str.raw(this,***REMOVED***prop,***REMOVED***defaultType)
***REMOVED******REMOVED***}

***REMOVED******REMOVED***remove()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.parent)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.parent.removeChild(this)
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***this.parent***REMOVED***=***REMOVED***undefined
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this
***REMOVED******REMOVED***}

***REMOVED******REMOVED***replaceWith(...nodes)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.parent)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***bookmark***REMOVED***=***REMOVED***this
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***foundSelf***REMOVED***=***REMOVED***false
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***node***REMOVED***of***REMOVED***nodes)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(node***REMOVED***===***REMOVED***this)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***foundSelf***REMOVED***=***REMOVED***true
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(foundSelf)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.parent.insertAfter(bookmark,***REMOVED***node)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bookmark***REMOVED***=***REMOVED***node
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.parent.insertBefore(bookmark,***REMOVED***node)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!foundSelf)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.remove()
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this
***REMOVED******REMOVED***}

***REMOVED******REMOVED***root()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***result***REMOVED***=***REMOVED***this
***REMOVED******REMOVED******REMOVED******REMOVED***while***REMOVED***(result.parent***REMOVED***&&***REMOVED***result.parent.type***REMOVED***!==***REMOVED***'document')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result***REMOVED***=***REMOVED***result.parent
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***result
***REMOVED******REMOVED***}

***REMOVED******REMOVED***toJSON(_,***REMOVED***inputs)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***fixed***REMOVED***=***REMOVED***{}
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***emitInputs***REMOVED***=***REMOVED***inputs***REMOVED***==***REMOVED***null
***REMOVED******REMOVED******REMOVED******REMOVED***inputs***REMOVED***=***REMOVED***inputs***REMOVED***||***REMOVED***new***REMOVED***Map()
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***inputsNextIndex***REMOVED***=***REMOVED***0

***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***name***REMOVED***in***REMOVED***this)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!Object.prototype.hasOwnProperty.call(this,***REMOVED***name))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/****REMOVED***c8***REMOVED***ignore***REMOVED***next***REMOVED***2***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***continue
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(name***REMOVED***===***REMOVED***'parent'***REMOVED***||***REMOVED***name***REMOVED***===***REMOVED***'proxyCache')***REMOVED***continue
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***value***REMOVED***=***REMOVED***this[name]

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(Array.isArray(value))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed[name]***REMOVED***=***REMOVED***value.map(i***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(typeof***REMOVED***i***REMOVED***===***REMOVED***'object'***REMOVED***&&***REMOVED***i.toJSON)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***i.toJSON(null,***REMOVED***inputs)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***i
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(typeof***REMOVED***value***REMOVED***===***REMOVED***'object'***REMOVED***&&***REMOVED***value.toJSON)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed[name]***REMOVED***=***REMOVED***value.toJSON(null,***REMOVED***inputs)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(name***REMOVED***===***REMOVED***'source')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(value***REMOVED***==***REMOVED***null)***REMOVED***continue
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***inputId***REMOVED***=***REMOVED***inputs.get(value.input)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(inputId***REMOVED***==***REMOVED***null)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId***REMOVED***=***REMOVED***inputsNextIndex
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputs.set(value.input,***REMOVED***inputsNextIndex)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputsNextIndex++
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed[name]***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***end:***REMOVED***value.end,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***start:***REMOVED***value.start
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed[name]***REMOVED***=***REMOVED***value
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(emitInputs)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed.inputs***REMOVED***=***REMOVED***[...inputs.keys()].map(input***REMOVED***=>***REMOVED***input.toJSON())
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***fixed
***REMOVED******REMOVED***}

***REMOVED******REMOVED***toProxy()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!this.proxyCache)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.proxyCache***REMOVED***=***REMOVED***new***REMOVED***Proxy(this,***REMOVED***this.getProxyProcessor())
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.proxyCache
***REMOVED******REMOVED***}

***REMOVED******REMOVED***toString(stringifier***REMOVED***=***REMOVED***stringify)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(stringifier.stringify)***REMOVED***stringifier***REMOVED***=***REMOVED***stringifier.stringify
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***result***REMOVED***=***REMOVED***''
***REMOVED******REMOVED******REMOVED******REMOVED***stringifier(this,***REMOVED***i***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result***REMOVED***+=***REMOVED***i
***REMOVED******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***result
***REMOVED******REMOVED***}

***REMOVED******REMOVED***warn(result,***REMOVED***text,***REMOVED***opts***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***data***REMOVED***=***REMOVED***{***REMOVED***node:***REMOVED***this***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***in***REMOVED***opts)***REMOVED***data[i]***REMOVED***=***REMOVED***opts[i]
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***result.warn(text,***REMOVED***data)
***REMOVED******REMOVED***}
}

module.exports***REMOVED***=***REMOVED***Node
Node.default***REMOVED***=***REMOVED***Node
