import***REMOVED***Document***REMOVED***from***REMOVED***'./document.js'
import***REMOVED***LazyResult***REMOVED***from***REMOVED***'./lazy-result.js'
import***REMOVED***NoWorkResult***REMOVED***from***REMOVED***'./no-work-result.js'
import***REMOVED***{
***REMOVED******REMOVED***AcceptedPlugin,
***REMOVED******REMOVED***Plugin,
***REMOVED******REMOVED***ProcessOptions,
***REMOVED******REMOVED***TransformCallback,
***REMOVED******REMOVED***Transformer
}***REMOVED***from***REMOVED***'./postcss.js'
import***REMOVED***Result***REMOVED***from***REMOVED***'./result.js'
import***REMOVED***Root***REMOVED***from***REMOVED***'./root.js'

declare***REMOVED***namespace***REMOVED***Processor***REMOVED***{
***REMOVED******REMOVED***//***REMOVED***eslint-disable-next-line***REMOVED***@typescript-eslint/no-use-before-define
***REMOVED******REMOVED***export***REMOVED***{***REMOVED***Processor_***REMOVED***as***REMOVED***default***REMOVED***}
}

/**
***REMOVED*******REMOVED***Contains***REMOVED***plugins***REMOVED***to***REMOVED***process***REMOVED***CSS.***REMOVED***Create***REMOVED***one***REMOVED***`Processor`***REMOVED***instance,
***REMOVED*******REMOVED***initialize***REMOVED***its***REMOVED***plugins,***REMOVED***and***REMOVED***then***REMOVED***use***REMOVED***that***REMOVED***instance***REMOVED***on***REMOVED***numerous***REMOVED***CSS***REMOVED***files.
***REMOVED****
***REMOVED*******REMOVED***```js
***REMOVED*******REMOVED***const***REMOVED***processor***REMOVED***=***REMOVED***postcss([autoprefixer,***REMOVED***postcssNested])
***REMOVED*******REMOVED***processor.process(css1).then(result***REMOVED***=>***REMOVED***console.log(result.css))
***REMOVED*******REMOVED***processor.process(css2).then(result***REMOVED***=>***REMOVED***console.log(result.css))
***REMOVED*******REMOVED***```
***REMOVED****/
declare***REMOVED***class***REMOVED***Processor_***REMOVED***{
***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Plugins***REMOVED***added***REMOVED***to***REMOVED***this***REMOVED***processor.
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***processor***REMOVED***=***REMOVED***postcss([autoprefixer,***REMOVED***postcssNested])
***REMOVED******REMOVED******REMOVED*******REMOVED***processor.plugins.length***REMOVED***//=>***REMOVED***2
***REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***plugins:***REMOVED***(Plugin***REMOVED***|***REMOVED***TransformCallback***REMOVED***|***REMOVED***Transformer)[]

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Current***REMOVED***PostCSS***REMOVED***version.
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED*******REMOVED***if***REMOVED***(result.processor.version.split('.')[0]***REMOVED***!==***REMOVED***'6')***REMOVED***{
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Error('This***REMOVED***plugin***REMOVED***works***REMOVED***only***REMOVED***with***REMOVED***PostCSS***REMOVED***6')
***REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***version:***REMOVED***string

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***plugins***REMOVED***PostCSS***REMOVED***plugins
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***constructor(plugins?:***REMOVED***readonly***REMOVED***AcceptedPlugin[])

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Parses***REMOVED***source***REMOVED***CSS***REMOVED***and***REMOVED***returns***REMOVED***a***REMOVED***`LazyResult`***REMOVED***Promise***REMOVED***proxy.
***REMOVED******REMOVED******REMOVED*******REMOVED***Because***REMOVED***some***REMOVED***plugins***REMOVED***can***REMOVED***be***REMOVED***asynchronous***REMOVED***it***REMOVED***doesnâ€™t***REMOVED***make
***REMOVED******REMOVED******REMOVED*******REMOVED***any***REMOVED***transformations.***REMOVED***Transformations***REMOVED***will***REMOVED***be***REMOVED***applied
***REMOVED******REMOVED******REMOVED*******REMOVED***in***REMOVED***the***REMOVED***`LazyResult`***REMOVED***methods.
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED*******REMOVED***processor.process(css,***REMOVED***{***REMOVED***from:***REMOVED***'a.css',***REMOVED***to:***REMOVED***'a.out.css'***REMOVED***})
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***.then(result***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***console.log(result.css)
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***})
***REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***css***REMOVED***String***REMOVED***with***REMOVED***input***REMOVED***CSS***REMOVED***or***REMOVED***any***REMOVED***object***REMOVED***with***REMOVED***a***REMOVED***`toString()`***REMOVED***method,
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***like***REMOVED***a***REMOVED***Buffer.***REMOVED***Optionally,***REMOVED***send***REMOVED***a***REMOVED***`Result`***REMOVED***instance
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***and***REMOVED***the***REMOVED***processor***REMOVED***will***REMOVED***take***REMOVED***the***REMOVED***`Root`***REMOVED***from***REMOVED***it.
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***opts***REMOVED***Options.
***REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***Promise***REMOVED***proxy.
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***process(
***REMOVED******REMOVED******REMOVED******REMOVED***css:***REMOVED***{***REMOVED***toString():***REMOVED***string***REMOVED***}***REMOVED***|***REMOVED***LazyResult***REMOVED***|***REMOVED***Result***REMOVED***|***REMOVED***Root***REMOVED***|***REMOVED***string
***REMOVED******REMOVED***):***REMOVED***LazyResult***REMOVED***|***REMOVED***NoWorkResult
***REMOVED******REMOVED***process<RootNode***REMOVED***extends***REMOVED***Document***REMOVED***|***REMOVED***Root***REMOVED***=***REMOVED***Root>(
***REMOVED******REMOVED******REMOVED******REMOVED***css:***REMOVED***{***REMOVED***toString():***REMOVED***string***REMOVED***}***REMOVED***|***REMOVED***LazyResult***REMOVED***|***REMOVED***Result***REMOVED***|***REMOVED***Root***REMOVED***|***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***ProcessOptions<RootNode>
***REMOVED******REMOVED***):***REMOVED***LazyResult<RootNode>

***REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED*******REMOVED***Adds***REMOVED***a***REMOVED***plugin***REMOVED***to***REMOVED***be***REMOVED***used***REMOVED***as***REMOVED***a***REMOVED***CSS***REMOVED***processor.
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***PostCSS***REMOVED***plugin***REMOVED***can***REMOVED***be***REMOVED***in***REMOVED***4***REMOVED***formats:
***REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***A***REMOVED***plugin***REMOVED***in***REMOVED***`Plugin`***REMOVED***format.
***REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***A***REMOVED***plugin***REMOVED***creator***REMOVED***function***REMOVED***with***REMOVED***`pluginCreator.postcss***REMOVED***=***REMOVED***true`.
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***PostCSS***REMOVED***will***REMOVED***call***REMOVED***this***REMOVED***function***REMOVED***without***REMOVED***argument***REMOVED***to***REMOVED***get***REMOVED***plugin.
***REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***A***REMOVED***function.***REMOVED***PostCSS***REMOVED***will***REMOVED***pass***REMOVED***the***REMOVED***function***REMOVED***a***REMOVED***{@link***REMOVED***Root}
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***as***REMOVED***the***REMOVED***first***REMOVED***argument***REMOVED***and***REMOVED***current***REMOVED***`Result`***REMOVED***instance
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***as***REMOVED***the***REMOVED***second.
***REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***Another***REMOVED***`Processor`***REMOVED***instance.***REMOVED***PostCSS***REMOVED***will***REMOVED***copy***REMOVED***plugins
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***from***REMOVED***that***REMOVED***instance***REMOVED***into***REMOVED***this***REMOVED***one.
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***Plugins***REMOVED***can***REMOVED***also***REMOVED***be***REMOVED***added***REMOVED***by***REMOVED***passing***REMOVED***them***REMOVED***as***REMOVED***arguments***REMOVED***when***REMOVED***creating
***REMOVED******REMOVED******REMOVED*******REMOVED***a***REMOVED***`postcss`***REMOVED***instance***REMOVED***(see***REMOVED***[`postcss(plugins)`]).
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***Asynchronous***REMOVED***plugins***REMOVED***should***REMOVED***return***REMOVED***a***REMOVED***`Promise`***REMOVED***instance.
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***processor***REMOVED***=***REMOVED***postcss()
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***.use(autoprefixer)
***REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***.use(postcssNested)
***REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***plugin***REMOVED***PostCSS***REMOVED***plugin***REMOVED***or***REMOVED***`Processor`***REMOVED***with***REMOVED***plugins.
***REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***Current***REMOVED***processor***REMOVED***to***REMOVED***make***REMOVED***methods***REMOVED***chain.
***REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED***use(plugin:***REMOVED***AcceptedPlugin):***REMOVED***this
}

declare***REMOVED***class***REMOVED***Processor***REMOVED***extends***REMOVED***Processor_***REMOVED***{}

export***REMOVED***=***REMOVED***Processor
