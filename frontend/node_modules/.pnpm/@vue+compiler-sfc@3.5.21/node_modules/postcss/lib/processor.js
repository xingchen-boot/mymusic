'use***REMOVED***strict'

let***REMOVED***Document***REMOVED***=***REMOVED***require('./document')
let***REMOVED***LazyResult***REMOVED***=***REMOVED***require('./lazy-result')
let***REMOVED***NoWorkResult***REMOVED***=***REMOVED***require('./no-work-result')
let***REMOVED***Root***REMOVED***=***REMOVED***require('./root')

class***REMOVED***Processor***REMOVED***{
***REMOVED******REMOVED***constructor(plugins***REMOVED***=***REMOVED***[])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.version***REMOVED***=***REMOVED***'8.5.6'
***REMOVED******REMOVED******REMOVED******REMOVED***this.plugins***REMOVED***=***REMOVED***this.normalize(plugins)
***REMOVED******REMOVED***}

***REMOVED******REMOVED***normalize(plugins)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***normalized***REMOVED***=***REMOVED***[]
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***of***REMOVED***plugins)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(i.postcss***REMOVED***===***REMOVED***true)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***i***REMOVED***=***REMOVED***i()
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(i.postcss)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***i***REMOVED***=***REMOVED***i.postcss
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(typeof***REMOVED***i***REMOVED***===***REMOVED***'object'***REMOVED***&&***REMOVED***Array.isArray(i.plugins))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***normalized***REMOVED***=***REMOVED***normalized.concat(i.plugins)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(typeof***REMOVED***i***REMOVED***===***REMOVED***'object'***REMOVED***&&***REMOVED***i.postcssPlugin)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***normalized.push(i)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(typeof***REMOVED***i***REMOVED***===***REMOVED***'function')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***normalized.push(i)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(typeof***REMOVED***i***REMOVED***===***REMOVED***'object'***REMOVED***&&***REMOVED***(i.parse***REMOVED***||***REMOVED***i.stringify))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(process.env.NODE_ENV***REMOVED***!==***REMOVED***'production')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Error(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'PostCSS***REMOVED***syntaxes***REMOVED***cannot***REMOVED***be***REMOVED***used***REMOVED***as***REMOVED***plugins.***REMOVED***Instead,***REMOVED***please***REMOVED***use***REMOVED***'***REMOVED***+
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'one***REMOVED***of***REMOVED***the***REMOVED***syntax/parser/stringifier***REMOVED***options***REMOVED***as***REMOVED***outlined***REMOVED***'***REMOVED***+
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'in***REMOVED***your***REMOVED***PostCSS***REMOVED***runner***REMOVED***documentation.'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Error(i***REMOVED***+***REMOVED***'***REMOVED***is***REMOVED***not***REMOVED***a***REMOVED***PostCSS***REMOVED***plugin')
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***normalized
***REMOVED******REMOVED***}

***REMOVED******REMOVED***process(css,***REMOVED***opts***REMOVED***=***REMOVED***{})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!this.plugins.length***REMOVED***&&
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!opts.parser***REMOVED***&&
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!opts.stringifier***REMOVED***&&
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!opts.syntax
***REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***new***REMOVED***NoWorkResult(this,***REMOVED***css,***REMOVED***opts)
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***new***REMOVED***LazyResult(this,***REMOVED***css,***REMOVED***opts)
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***use(plugin)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.plugins***REMOVED***=***REMOVED***this.plugins.concat(this.normalize([plugin]))
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this
***REMOVED******REMOVED***}
}

module.exports***REMOVED***=***REMOVED***Processor
Processor.default***REMOVED***=***REMOVED***Processor

Root.registerProcessor(Processor)
Document.registerProcessor(Processor)
