'use***REMOVED***strict'

let***REMOVED***MapGenerator***REMOVED***=***REMOVED***require('./map-generator')
let***REMOVED***parse***REMOVED***=***REMOVED***require('./parse')
const***REMOVED***Result***REMOVED***=***REMOVED***require('./result')
let***REMOVED***stringify***REMOVED***=***REMOVED***require('./stringify')
let***REMOVED***warnOnce***REMOVED***=***REMOVED***require('./warn-once')

class***REMOVED***NoWorkResult***REMOVED***{
***REMOVED******REMOVED***get***REMOVED***content()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.result.css
***REMOVED******REMOVED***}

***REMOVED******REMOVED***get***REMOVED***css()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.result.css
***REMOVED******REMOVED***}

***REMOVED******REMOVED***get***REMOVED***map()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.result.map
***REMOVED******REMOVED***}

***REMOVED******REMOVED***get***REMOVED***messages()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[]
***REMOVED******REMOVED***}

***REMOVED******REMOVED***get***REMOVED***opts()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.result.opts
***REMOVED******REMOVED***}

***REMOVED******REMOVED***get***REMOVED***processor()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.result.processor
***REMOVED******REMOVED***}

***REMOVED******REMOVED***get***REMOVED***root()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this._root)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this._root
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***root
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***parser***REMOVED***=***REMOVED***parse

***REMOVED******REMOVED******REMOVED******REMOVED***try***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***root***REMOVED***=***REMOVED***parser(this._css,***REMOVED***this._opts)
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***catch***REMOVED***(error)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.error***REMOVED***=***REMOVED***error
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.error)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***this.error
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._root***REMOVED***=***REMOVED***root
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***root
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***get***REMOVED***[Symbol.toStringTag]()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***'NoWorkResult'
***REMOVED******REMOVED***}

***REMOVED******REMOVED***constructor(processor,***REMOVED***css,***REMOVED***opts)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***css***REMOVED***=***REMOVED***css.toString()
***REMOVED******REMOVED******REMOVED******REMOVED***this.stringified***REMOVED***=***REMOVED***false

***REMOVED******REMOVED******REMOVED******REMOVED***this._processor***REMOVED***=***REMOVED***processor
***REMOVED******REMOVED******REMOVED******REMOVED***this._css***REMOVED***=***REMOVED***css
***REMOVED******REMOVED******REMOVED******REMOVED***this._opts***REMOVED***=***REMOVED***opts
***REMOVED******REMOVED******REMOVED******REMOVED***this._map***REMOVED***=***REMOVED***undefined
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***root

***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***str***REMOVED***=***REMOVED***stringify
***REMOVED******REMOVED******REMOVED******REMOVED***this.result***REMOVED***=***REMOVED***new***REMOVED***Result(this._processor,***REMOVED***root,***REMOVED***this._opts)
***REMOVED******REMOVED******REMOVED******REMOVED***this.result.css***REMOVED***=***REMOVED***css

***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***self***REMOVED***=***REMOVED***this
***REMOVED******REMOVED******REMOVED******REMOVED***Object.defineProperty(this.result,***REMOVED***'root',***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***get()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***self.root
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***})

***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***map***REMOVED***=***REMOVED***new***REMOVED***MapGenerator(str,***REMOVED***root,***REMOVED***this._opts,***REMOVED***css)
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(map.isMap())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***[generatedCSS,***REMOVED***generatedMap]***REMOVED***=***REMOVED***map.generate()
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(generatedCSS)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.result.css***REMOVED***=***REMOVED***generatedCSS
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(generatedMap)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.result.map***REMOVED***=***REMOVED***generatedMap
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***map.clearAnnotation()
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.result.css***REMOVED***=***REMOVED***map.css
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}

***REMOVED******REMOVED***async()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.error)***REMOVED***return***REMOVED***Promise.reject(this.error)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Promise.resolve(this.result)
***REMOVED******REMOVED***}

***REMOVED******REMOVED***catch(onRejected)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.async().catch(onRejected)
***REMOVED******REMOVED***}

***REMOVED******REMOVED***finally(onFinally)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.async().then(onFinally,***REMOVED***onFinally)
***REMOVED******REMOVED***}

***REMOVED******REMOVED***sync()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.error)***REMOVED***throw***REMOVED***this.error
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.result
***REMOVED******REMOVED***}

***REMOVED******REMOVED***then(onFulfilled,***REMOVED***onRejected)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(process.env.NODE_ENV***REMOVED***!==***REMOVED***'production')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!('from'***REMOVED***in***REMOVED***this._opts))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***warnOnce(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'Without***REMOVED***`from`***REMOVED***option***REMOVED***PostCSS***REMOVED***could***REMOVED***generate***REMOVED***wrong***REMOVED***source***REMOVED***map***REMOVED***'***REMOVED***+
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'and***REMOVED***will***REMOVED***not***REMOVED***find***REMOVED***Browserslist***REMOVED***config.***REMOVED***Set***REMOVED***it***REMOVED***to***REMOVED***CSS***REMOVED***file***REMOVED***path***REMOVED***'***REMOVED***+
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'or***REMOVED***to***REMOVED***`undefined`***REMOVED***to***REMOVED***prevent***REMOVED***this***REMOVED***warning.'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.async().then(onFulfilled,***REMOVED***onRejected)
***REMOVED******REMOVED***}

***REMOVED******REMOVED***toString()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this._css
***REMOVED******REMOVED***}

***REMOVED******REMOVED***warnings()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[]
***REMOVED******REMOVED***}
}

module.exports***REMOVED***=***REMOVED***NoWorkResult
NoWorkResult.default***REMOVED***=***REMOVED***NoWorkResult
