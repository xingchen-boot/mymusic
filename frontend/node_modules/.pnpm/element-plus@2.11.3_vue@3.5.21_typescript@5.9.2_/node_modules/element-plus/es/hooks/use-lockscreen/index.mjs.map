{"version":3,"file":"index.mjs","sources":["../../../../../packages/hooks/use-lockscreen/index.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***isRef,***REMOVED***onScopeDispose,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{\n***REMOVED******REMOVED***addClass,\n***REMOVED******REMOVED***getScrollBarWidth,\n***REMOVED******REMOVED***getStyle,\n***REMOVED******REMOVED***hasClass,\n***REMOVED******REMOVED***isClient,\n***REMOVED******REMOVED***removeClass,\n***REMOVED******REMOVED***throwError,\n}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'../use-namespace'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***UseNamespaceReturn***REMOVED***}***REMOVED***from***REMOVED***'../use-namespace'\n\nexport***REMOVED***type***REMOVED***UseLockScreenOptions***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***ns?:***REMOVED***UseNamespaceReturn\n***REMOVED******REMOVED***//***REMOVED***shouldLock?:***REMOVED***MaybeRef<boolean>\n}\n\n/**\n***REMOVED*******REMOVED***Hook***REMOVED***that***REMOVED***monitoring***REMOVED***the***REMOVED***ref***REMOVED***value***REMOVED***to***REMOVED***lock***REMOVED***or***REMOVED***unlock***REMOVED***the***REMOVED***screen.\n***REMOVED*******REMOVED***When***REMOVED***the***REMOVED***trigger***REMOVED***became***REMOVED***true,***REMOVED***it***REMOVED***assumes***REMOVED***modal***REMOVED***is***REMOVED***now***REMOVED***opened***REMOVED***and***REMOVED***vice***REMOVED***versa.\n***REMOVED*******REMOVED***@param***REMOVED***trigger***REMOVED***{Ref<boolean>}\n***REMOVED****/\nexport***REMOVED***const***REMOVED***useLockscreen***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***trigger:***REMOVED***Ref<boolean>,\n***REMOVED******REMOVED***options:***REMOVED***UseLockScreenOptions***REMOVED***=***REMOVED***{}\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isRef(trigger))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***throwError(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'[useLockscreen]',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'You***REMOVED***need***REMOVED***to***REMOVED***pass***REMOVED***a***REMOVED***ref***REMOVED***param***REMOVED***to***REMOVED***this***REMOVED***function'\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***options.ns***REMOVED***||***REMOVED***useNamespace('popup')\n\n***REMOVED******REMOVED***const***REMOVED***hiddenCls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.bm('parent',***REMOVED***'hidden'))\n\n***REMOVED******REMOVED***if***REMOVED***(!isClient***REMOVED***||***REMOVED***hasClass(document.body,***REMOVED***hiddenCls.value))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***let***REMOVED***scrollBarWidth***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED***let***REMOVED***withoutHiddenClass***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED***let***REMOVED***bodyWidth***REMOVED***=***REMOVED***'0'\n\n***REMOVED******REMOVED***const***REMOVED***cleanup***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***When***REMOVED***the***REMOVED***test***REMOVED***case***REMOVED***is***REMOVED***running,***REMOVED***the***REMOVED***context***REMOVED***environment***REMOVED***simulated***REMOVED***by***REMOVED***jsdom***REMOVED***may***REMOVED***have***REMOVED***been***REMOVED***destroyed,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***and***REMOVED***the***REMOVED***document***REMOVED***does***REMOVED***not***REMOVED***exist***REMOVED***at***REMOVED***this***REMOVED***time.\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(typeof***REMOVED***document***REMOVED***===***REMOVED***'undefined')***REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(withoutHiddenClass***REMOVED***&&***REMOVED***document)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.body.style.width***REMOVED***=***REMOVED***bodyWidth\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***removeClass(document.body,***REMOVED***hiddenCls.value)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***200)\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***watch(trigger,***REMOVED***(val)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!val)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cleanup()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***withoutHiddenClass***REMOVED***=***REMOVED***!hasClass(document.body,***REMOVED***hiddenCls.value)\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(withoutHiddenClass)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bodyWidth***REMOVED***=***REMOVED***document.body.style.width\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***addClass(document.body,***REMOVED***hiddenCls.value)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***scrollBarWidth***REMOVED***=***REMOVED***getScrollBarWidth(ns.namespace.value)\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***bodyHasOverflow***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.documentElement.clientHeight***REMOVED***<***REMOVED***document.body.scrollHeight\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***bodyOverflowY***REMOVED***=***REMOVED***getStyle(document.body,***REMOVED***'overflowY')\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scrollBarWidth***REMOVED***>***REMOVED***0***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(bodyHasOverflow***REMOVED***||***REMOVED***bodyOverflowY***REMOVED***===***REMOVED***'scroll')***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***withoutHiddenClass\n***REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.body.style.width***REMOVED***=***REMOVED***`calc(100%***REMOVED***-***REMOVED***${scrollBarWidth}px)`\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***})\n***REMOVED******REMOVED***onScopeDispose(()***REMOVED***=>***REMOVED***cleanup())\n}\n"],"names":[],"mappings":";;;;;;;AAWY,MAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,KAAK;AACxD,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;AACvB,IAAI,UAAU,CAAC,iBAAiB,EAAE,+CAA+C,CAAC,CAAC;AACnF,GAAG;AACH,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,EAAE,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC;AACjD,EAAE,MAAM,SAAS,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC9D,EAAE,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC,EAAE;AAC7D,IAAI,OAAO;AACX,GAAG;AACH,EAAE,IAAI,cAAc,GAAG,CAAC,CAAC;AACzB,EAAE,IAAI,kBAAkB,GAAG,KAAK,CAAC;AACjC,EAAE,IAAI,SAAS,GAAG,GAAG,CAAC;AACtB,EAAE,MAAM,OAAO,GAAG,MAAM;AACxB,IAAI,UAAU,CAAC,MAAM;AACrB,MAAM,IAAI,OAAO,QAAQ,KAAK,WAAW;AACzC,QAAQ,OAAO;AACf,MAAM,IAAI,kBAAkB,IAAI,QAAQ,EAAE;AAC1C,QAAQ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;AAC9C,QAAQ,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;AACpD,OAAO;AACP,KAAK,EAAE,GAAG,CAAC,CAAC;AACZ,GAAG,CAAC;AACJ,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,GAAG,KAAK;AAC1B,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,MAAM,OAAO,EAAE,CAAC;AAChB,MAAM,OAAO;AACb,KAAK;AACL,IAAI,kBAAkB,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;AACnE,IAAI,IAAI,kBAAkB,EAAE;AAC5B,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;AAC5C,MAAM,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;AAC/C,KAAK;AACL,IAAI,cAAc,GAAG,iBAAiB,CAAC,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AAC3D,IAAI,MAAM,eAAe,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;AAC/F,IAAI,MAAM,aAAa,GAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;AAC/D,IAAI,IAAI,cAAc,GAAG,CAAC,KAAK,eAAe,IAAI,aAAa,KAAK,QAAQ,CAAC,IAAI,kBAAkB,EAAE;AACrG,MAAM,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,CAAC;AACrE,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,cAAc,CAAC,MAAM,OAAO,EAAE,CAAC,CAAC;AAClC;;;;"}