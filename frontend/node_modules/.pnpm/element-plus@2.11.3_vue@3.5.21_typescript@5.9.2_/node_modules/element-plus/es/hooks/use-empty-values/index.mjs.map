{"version":3,"file":"index.mjs","sources":["../../../../../packages/hooks/use-empty-values/index.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***computed,***REMOVED***getCurrentInstance,***REMOVED***inject,***REMOVED***ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{\n***REMOVED******REMOVED***buildProps,\n***REMOVED******REMOVED***debugWarn,\n***REMOVED******REMOVED***definePropType,\n***REMOVED******REMOVED***isArray,\n***REMOVED******REMOVED***isFunction,\n}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***isEqual***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ExtractPropTypes,***REMOVED***InjectionKey,***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\ntype***REMOVED***EmptyValuesContext***REMOVED***=***REMOVED***ExtractPropTypes<typeof***REMOVED***useEmptyValuesProps>\n\nexport***REMOVED***const***REMOVED***emptyValuesContextKey:***REMOVED***InjectionKey<Ref<EmptyValuesContext>>***REMOVED***=\n***REMOVED******REMOVED***Symbol('emptyValuesContextKey')\nexport***REMOVED***const***REMOVED***SCOPE***REMOVED***=***REMOVED***'use-empty-values'\nexport***REMOVED***const***REMOVED***DEFAULT_EMPTY_VALUES***REMOVED***=***REMOVED***['',***REMOVED***undefined,***REMOVED***null]\nexport***REMOVED***const***REMOVED***DEFAULT_VALUE_ON_CLEAR***REMOVED***=***REMOVED***undefined\n\nexport***REMOVED***const***REMOVED***useEmptyValuesProps***REMOVED***=***REMOVED***buildProps({\n***REMOVED******REMOVED***/**\n***REMOVED******REMOVED******REMOVED*******REMOVED***@description***REMOVED***empty***REMOVED***values***REMOVED***supported***REMOVED***by***REMOVED***the***REMOVED***component\n***REMOVED******REMOVED******REMOVED****/\n***REMOVED******REMOVED***emptyValues:***REMOVED***Array,\n***REMOVED******REMOVED***/**\n***REMOVED******REMOVED******REMOVED*******REMOVED***@description***REMOVED***return***REMOVED***value***REMOVED***when***REMOVED***cleared,***REMOVED***if***REMOVED***you***REMOVED***want***REMOVED***to***REMOVED***set***REMOVED***`undefined`,***REMOVED***use***REMOVED***`()***REMOVED***=>***REMOVED***undefined`\n***REMOVED******REMOVED******REMOVED****/\n***REMOVED******REMOVED***valueOnClear:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***/****REMOVED***eslint-disable-next-line***REMOVED***@typescript-eslint/no-unsafe-function-type***REMOVED****/\n***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***definePropType<string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***boolean***REMOVED***|***REMOVED***Function***REMOVED***|***REMOVED***null>([\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***String,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Number,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Boolean,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Function,\n***REMOVED******REMOVED******REMOVED******REMOVED***]),\n***REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***undefined,\n***REMOVED******REMOVED******REMOVED******REMOVED***validator:***REMOVED***(val:***REMOVED***unknown)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***val***REMOVED***=***REMOVED***isFunction(val)***REMOVED***?***REMOVED***val()***REMOVED***:***REMOVED***val\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isArray(val))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***val.every((item)***REMOVED***=>***REMOVED***!item)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***!val\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED***},\n}***REMOVED***as***REMOVED***const)\n\nexport***REMOVED***const***REMOVED***useEmptyValues***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***EmptyValuesContext,\n***REMOVED******REMOVED***defaultValue?:***REMOVED***null***REMOVED***|***REMOVED***undefined\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***config***REMOVED***=***REMOVED***getCurrentInstance()\n***REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***inject(emptyValuesContextKey,***REMOVED***ref<EmptyValuesContext>({}))\n***REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***ref<EmptyValuesContext>({})\n\n***REMOVED******REMOVED***const***REMOVED***emptyValues***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.emptyValues***REMOVED***||***REMOVED***config.value.emptyValues***REMOVED***||***REMOVED***DEFAULT_EMPTY_VALUES\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***valueOnClear***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***function***REMOVED***is***REMOVED***used***REMOVED***for***REMOVED***undefined***REMOVED***cause***REMOVED***undefined***REMOVED***can't***REMOVED***be***REMOVED***a***REMOVED***value***REMOVED***of***REMOVED***prop\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isFunction(props.valueOnClear))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.valueOnClear()\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(props.valueOnClear***REMOVED***!==***REMOVED***undefined)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.valueOnClear\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(isFunction(config.value.valueOnClear))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***config.value.valueOnClear()\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(config.value.valueOnClear***REMOVED***!==***REMOVED***undefined)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***config.value.valueOnClear\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***defaultValue***REMOVED***!==***REMOVED***undefined***REMOVED***?***REMOVED***defaultValue***REMOVED***:***REMOVED***DEFAULT_VALUE_ON_CLEAR\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***isEmptyValue***REMOVED***=***REMOVED***(value:***REMOVED***unknown)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***result***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isArray(value))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result***REMOVED***=***REMOVED***emptyValues.value.some((emptyValue)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***isEqual(value,***REMOVED***emptyValue)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***result***REMOVED***=***REMOVED***emptyValues.value.includes(value)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***result\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***if***REMOVED***(!isEmptyValue(valueOnClear.value))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***debugWarn(SCOPE,***REMOVED***'value-on-clear***REMOVED***should***REMOVED***be***REMOVED***a***REMOVED***value***REMOVED***of***REMOVED***empty-values')\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***emptyValues,\n***REMOVED******REMOVED******REMOVED******REMOVED***valueOnClear,\n***REMOVED******REMOVED******REMOVED******REMOVED***isEmptyValue,\n***REMOVED******REMOVED***}\n}\n"],"names":[],"mappings":"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"}