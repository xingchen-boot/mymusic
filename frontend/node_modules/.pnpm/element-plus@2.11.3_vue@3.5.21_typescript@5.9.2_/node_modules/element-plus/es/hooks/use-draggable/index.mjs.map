{"version":3,"file":"index.mjs","sources":["../../../../../packages/hooks/use-draggable/index.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***onBeforeUnmount,***REMOVED***onMounted,***REMOVED***ref,***REMOVED***watchEffect***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***addUnit***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ComputedRef,***REMOVED***Ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\nexport***REMOVED***const***REMOVED***useDraggable***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***targetRef:***REMOVED***Ref<HTMLElement***REMOVED***|***REMOVED***undefined>,\n***REMOVED******REMOVED***dragRef:***REMOVED***Ref<HTMLElement***REMOVED***|***REMOVED***undefined>,\n***REMOVED******REMOVED***draggable:***REMOVED***ComputedRef<boolean>,\n***REMOVED******REMOVED***overflow?:***REMOVED***ComputedRef<boolean>\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***transform***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***offsetX:***REMOVED***0,\n***REMOVED******REMOVED******REMOVED******REMOVED***offsetY:***REMOVED***0,\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***isDragging***REMOVED***=***REMOVED***ref(false)\n\n***REMOVED******REMOVED***const***REMOVED***adjustPosition***REMOVED***=***REMOVED***(moveX:***REMOVED***number,***REMOVED***moveY:***REMOVED***number)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(targetRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***offsetX,***REMOVED***offsetY***REMOVED***}***REMOVED***=***REMOVED***transform\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetRect***REMOVED***=***REMOVED***targetRef.value.getBoundingClientRect()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetLeft***REMOVED***=***REMOVED***targetRect.left\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetTop***REMOVED***=***REMOVED***targetRect.top\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetWidth***REMOVED***=***REMOVED***targetRect.width\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetHeight***REMOVED***=***REMOVED***targetRect.height\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***clientWidth***REMOVED***=***REMOVED***document.documentElement.clientWidth\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***clientHeight***REMOVED***=***REMOVED***document.documentElement.clientHeight\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***minLeft***REMOVED***=***REMOVED***-targetLeft***REMOVED***+***REMOVED***offsetX\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***minTop***REMOVED***=***REMOVED***-targetTop***REMOVED***+***REMOVED***offsetY\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***maxLeft***REMOVED***=***REMOVED***clientWidth***REMOVED***-***REMOVED***targetLeft***REMOVED***-***REMOVED***targetWidth***REMOVED***+***REMOVED***offsetX\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***maxTop***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***clientHeight***REMOVED***-\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***targetTop***REMOVED***-\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(targetHeight***REMOVED***<***REMOVED***clientHeight***REMOVED***?***REMOVED***targetHeight***REMOVED***:***REMOVED***0)***REMOVED***+\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offsetY\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!overflow?.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***moveX***REMOVED***=***REMOVED***Math.min(Math.max(moveX,***REMOVED***minLeft),***REMOVED***maxLeft)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***moveY***REMOVED***=***REMOVED***Math.min(Math.max(moveY,***REMOVED***minTop),***REMOVED***maxTop)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetX***REMOVED***=***REMOVED***moveX\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetY***REMOVED***=***REMOVED***moveY\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***targetRef.value.style.transform***REMOVED***=***REMOVED***`translate(${addUnit(moveX)},***REMOVED***${addUnit(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***moveY\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)})`\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onMousedown***REMOVED***=***REMOVED***(e:***REMOVED***MouseEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***downX***REMOVED***=***REMOVED***e.clientX\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***downY***REMOVED***=***REMOVED***e.clientY\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***offsetX,***REMOVED***offsetY***REMOVED***}***REMOVED***=***REMOVED***transform\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onMousemove***REMOVED***=***REMOVED***(e:***REMOVED***MouseEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isDragging.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isDragging.value***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***moveX***REMOVED***=***REMOVED***offsetX***REMOVED***+***REMOVED***e.clientX***REMOVED***-***REMOVED***downX\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***moveY***REMOVED***=***REMOVED***offsetY***REMOVED***+***REMOVED***e.clientY***REMOVED***-***REMOVED***downY\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***adjustPosition(moveX,***REMOVED***moveY)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onMouseup***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isDragging.value***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.removeEventListener('mousemove',***REMOVED***onMousemove)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.removeEventListener('mouseup',***REMOVED***onMouseup)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***document.addEventListener('mousemove',***REMOVED***onMousemove)\n***REMOVED******REMOVED******REMOVED******REMOVED***document.addEventListener('mouseup',***REMOVED***onMouseup)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***onDraggable***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(dragRef.value***REMOVED***&&***REMOVED***targetRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dragRef.value.addEventListener('mousedown',***REMOVED***onMousedown)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***window.addEventListener('resize',***REMOVED***updatePosition)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***offDraggable***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(dragRef.value***REMOVED***&&***REMOVED***targetRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dragRef.value.removeEventListener('mousedown',***REMOVED***onMousedown)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***window.removeEventListener('resize',***REMOVED***updatePosition)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***resetPosition***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetX***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED***transform.offsetY***REMOVED***=***REMOVED***0\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(targetRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***targetRef.value.style.transform***REMOVED***=***REMOVED***''\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***updatePosition***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***offsetX,***REMOVED***offsetY***REMOVED***}***REMOVED***=***REMOVED***transform\n\n***REMOVED******REMOVED******REMOVED******REMOVED***adjustPosition(offsetX,***REMOVED***offsetY)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***watchEffect(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(draggable.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onDraggable()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offDraggable()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***offDraggable()\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***isDragging,\n***REMOVED******REMOVED******REMOVED******REMOVED***resetPosition,\n***REMOVED******REMOVED******REMOVED******REMOVED***updatePosition,\n***REMOVED******REMOVED***}\n}\n"],"names":[],"mappings":"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"}