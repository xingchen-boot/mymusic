import***REMOVED***{***REMOVED***shallowRef,***REMOVED***triggerRef,***REMOVED***onMounted,***REMOVED***defineComponent,***REMOVED***h,***REMOVED***isVNode***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***flattedChildren***REMOVED***}***REMOVED***from***REMOVED***'../../utils/vue/vnode.mjs';

const***REMOVED***getOrderedChildren***REMOVED***=***REMOVED***(vm,***REMOVED***childComponentName,***REMOVED***children)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***nodes***REMOVED***=***REMOVED***flattedChildren(vm.subTree).filter((n)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***isVNode(n)***REMOVED***&&***REMOVED***((_a***REMOVED***=***REMOVED***n.type)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.name)***REMOVED***===***REMOVED***childComponentName***REMOVED***&&***REMOVED***!!n.component;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***uids***REMOVED***=***REMOVED***nodes.map((n)***REMOVED***=>***REMOVED***n.component.uid);
***REMOVED******REMOVED***return***REMOVED***uids.map((uid)***REMOVED***=>***REMOVED***children[uid]).filter((p)***REMOVED***=>***REMOVED***!!p);
};
const***REMOVED***useOrderedChildren***REMOVED***=***REMOVED***(vm,***REMOVED***childComponentName)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***children***REMOVED***=***REMOVED***shallowRef({});
***REMOVED******REMOVED***const***REMOVED***orderedChildren***REMOVED***=***REMOVED***shallowRef([]);
***REMOVED******REMOVED***const***REMOVED***nodesMap***REMOVED***=***REMOVED***/****REMOVED***@__PURE__***REMOVED****/***REMOVED***new***REMOVED***WeakMap();
***REMOVED******REMOVED***const***REMOVED***addChild***REMOVED***=***REMOVED***(child)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***children.value[child.uid]***REMOVED***=***REMOVED***child;
***REMOVED******REMOVED******REMOVED******REMOVED***triggerRef(children);
***REMOVED******REMOVED******REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***childNode***REMOVED***=***REMOVED***child.getVnode().el;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***parentNode***REMOVED***=***REMOVED***childNode.parentNode;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!nodesMap.has(parentNode))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***nodesMap.set(parentNode,***REMOVED***[]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***originalFn***REMOVED***=***REMOVED***parentNode.insertBefore.bind(parentNode);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parentNode.insertBefore***REMOVED***=***REMOVED***(node,***REMOVED***anchor)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***shouldSortChildren***REMOVED***=***REMOVED***nodesMap.get(parentNode).some((el)***REMOVED***=>***REMOVED***node***REMOVED***===***REMOVED***el***REMOVED***||***REMOVED***anchor***REMOVED***===***REMOVED***el);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(shouldSortChildren)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***triggerRef(children);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***originalFn(node,***REMOVED***anchor);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***nodesMap.get(parentNode).push(childNode);
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***removeChild***REMOVED***=***REMOVED***(child)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***delete***REMOVED***children.value[child.uid];
***REMOVED******REMOVED******REMOVED******REMOVED***triggerRef(children);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***childNode***REMOVED***=***REMOVED***child.getVnode().el;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***parentNode***REMOVED***=***REMOVED***childNode.parentNode;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***childNodes***REMOVED***=***REMOVED***nodesMap.get(parentNode);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***index***REMOVED***=***REMOVED***childNodes.indexOf(childNode);
***REMOVED******REMOVED******REMOVED******REMOVED***childNodes.splice(index,***REMOVED***1);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***sortChildren***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***orderedChildren.value***REMOVED***=***REMOVED***getOrderedChildren(vm,***REMOVED***childComponentName,***REMOVED***children.value);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***IsolatedRenderer***REMOVED***=***REMOVED***(props)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.render();
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***ChildrenSorter***REMOVED***=***REMOVED***defineComponent({
***REMOVED******REMOVED******REMOVED******REMOVED***setup(_,***REMOVED***{***REMOVED***slots***REMOVED***})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***sortChildren();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***slots.default***REMOVED***?***REMOVED***h(IsolatedRenderer,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***render:***REMOVED***slots.default
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})***REMOVED***:***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***children:***REMOVED***orderedChildren,
***REMOVED******REMOVED******REMOVED******REMOVED***addChild,
***REMOVED******REMOVED******REMOVED******REMOVED***removeChild,
***REMOVED******REMOVED******REMOVED******REMOVED***ChildrenSorter
***REMOVED******REMOVED***};
};

export***REMOVED***{***REMOVED***useOrderedChildren***REMOVED***};
//#***REMOVED***sourceMappingURL=index.mjs.map
