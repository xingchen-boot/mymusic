import***REMOVED***{***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***isClient,***REMOVED***useEventListener***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***EVENT_CODE***REMOVED***}***REMOVED***from***REMOVED***'../../constants/aria.mjs';

const***REMOVED***modalStack***REMOVED***=***REMOVED***[];
const***REMOVED***closeModal***REMOVED***=***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(modalStack.length***REMOVED***===***REMOVED***0)
***REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED***if***REMOVED***(e.code***REMOVED***===***REMOVED***EVENT_CODE.esc)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***e.stopPropagation();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***topModal***REMOVED***=***REMOVED***modalStack[modalStack.length***REMOVED***-***REMOVED***1];
***REMOVED******REMOVED******REMOVED******REMOVED***topModal.handleClose();
***REMOVED******REMOVED***}
};
const***REMOVED***useModal***REMOVED***=***REMOVED***(instance,***REMOVED***visibleRef)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***watch(visibleRef,***REMOVED***(val)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(val)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***modalStack.push(instance);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***modalStack.splice(modalStack.indexOf(instance),***REMOVED***1);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
};
if***REMOVED***(isClient)
***REMOVED******REMOVED***useEventListener(document,***REMOVED***"keydown",***REMOVED***closeModal);

export***REMOVED***{***REMOVED***useModal***REMOVED***};
//#***REMOVED***sourceMappingURL=index.mjs.map
