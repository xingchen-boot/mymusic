{"version":3,"file":"runtime.mjs","sources":["../../../../../../packages/utils/vue/props/runtime.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***warn***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***fromPairs***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\nimport***REMOVED***{***REMOVED***isObject***REMOVED***}***REMOVED***from***REMOVED***'../../types'\nimport***REMOVED***{***REMOVED***hasOwn***REMOVED***}***REMOVED***from***REMOVED***'../../objects'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***PropType***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{\n***REMOVED******REMOVED***EpProp,\n***REMOVED******REMOVED***EpPropConvert,\n***REMOVED******REMOVED***EpPropFinalized,\n***REMOVED******REMOVED***EpPropInput,\n***REMOVED******REMOVED***EpPropMergeType,\n***REMOVED******REMOVED***IfEpProp,\n***REMOVED******REMOVED***IfNativePropType,\n***REMOVED******REMOVED***NativePropType,\n}***REMOVED***from***REMOVED***'./types'\n\nexport***REMOVED***const***REMOVED***epPropKey***REMOVED***=***REMOVED***'__epPropKey'\n\nexport***REMOVED***const***REMOVED***definePropType***REMOVED***=***REMOVED***<T>(val:***REMOVED***any):***REMOVED***PropType<T>***REMOVED***=>***REMOVED***val\n\nexport***REMOVED***const***REMOVED***isEpProp***REMOVED***=***REMOVED***(val:***REMOVED***unknown):***REMOVED***val***REMOVED***is***REMOVED***EpProp<any,***REMOVED***any,***REMOVED***any>***REMOVED***=>\n***REMOVED******REMOVED***isObject(val)***REMOVED***&&***REMOVED***!!(val***REMOVED***as***REMOVED***any)[epPropKey]\n\n/**\n***REMOVED*******REMOVED***@description***REMOVED***Build***REMOVED***prop.***REMOVED***It***REMOVED***can***REMOVED***better***REMOVED***optimize***REMOVED***prop***REMOVED***types\n***REMOVED*******REMOVED***@description***REMOVED***生成***REMOVED***prop，能更好地优化类型\n***REMOVED*******REMOVED***@example\n***REMOVED******REMOVED***//***REMOVED***limited***REMOVED***options\n***REMOVED******REMOVED***//***REMOVED***the***REMOVED***type***REMOVED***will***REMOVED***be***REMOVED***PropType<'light'***REMOVED***|***REMOVED***'dark'>\n***REMOVED******REMOVED***buildProp({\n***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***String,\n***REMOVED******REMOVED******REMOVED******REMOVED***values:***REMOVED***['light',***REMOVED***'dark'],\n***REMOVED******REMOVED***}***REMOVED***as***REMOVED***const)\n***REMOVED******REMOVED*******REMOVED***@example\n***REMOVED******REMOVED***//***REMOVED***limited***REMOVED***options***REMOVED***and***REMOVED***other***REMOVED***types\n***REMOVED******REMOVED***//***REMOVED***the***REMOVED***type***REMOVED***will***REMOVED***be***REMOVED***PropType<'small'***REMOVED***|***REMOVED***'large'***REMOVED***|***REMOVED***number>\n***REMOVED******REMOVED***buildProp({\n***REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***[String,***REMOVED***Number],\n***REMOVED******REMOVED******REMOVED******REMOVED***values:***REMOVED***['small',***REMOVED***'large'],\n***REMOVED******REMOVED******REMOVED******REMOVED***validator:***REMOVED***(val:***REMOVED***unknown):***REMOVED***val***REMOVED***is***REMOVED***number***REMOVED***=>***REMOVED***typeof***REMOVED***val***REMOVED***===***REMOVED***'number',\n***REMOVED******REMOVED***}***REMOVED***as***REMOVED***const)\n***REMOVED******REMOVED***@link***REMOVED***see***REMOVED***more:***REMOVED***https://github.com/element-plus/element-plus/pull/3341\n***REMOVED****/\nexport***REMOVED***const***REMOVED***buildProp***REMOVED***=***REMOVED***<\n***REMOVED******REMOVED***Type***REMOVED***=***REMOVED***never,\n***REMOVED******REMOVED***Value***REMOVED***=***REMOVED***never,\n***REMOVED******REMOVED***Validator***REMOVED***=***REMOVED***never,\n***REMOVED******REMOVED***Default***REMOVED***extends***REMOVED***EpPropMergeType<Type,***REMOVED***Value,***REMOVED***Validator>***REMOVED***=***REMOVED***never,\n***REMOVED******REMOVED***Required***REMOVED***extends***REMOVED***boolean***REMOVED***=***REMOVED***false\n>(\n***REMOVED******REMOVED***prop:***REMOVED***EpPropInput<Type,***REMOVED***Value,***REMOVED***Validator,***REMOVED***Default,***REMOVED***Required>,\n***REMOVED******REMOVED***key?:***REMOVED***string\n):***REMOVED***EpPropFinalized<Type,***REMOVED***Value,***REMOVED***Validator,***REMOVED***Default,***REMOVED***Required>***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***//***REMOVED***filter***REMOVED***native***REMOVED***prop***REMOVED***type***REMOVED***and***REMOVED***nested***REMOVED***prop,***REMOVED***e.g***REMOVED***`null`,***REMOVED***`undefined`***REMOVED***(from***REMOVED***`buildProps`)\n***REMOVED******REMOVED***if***REMOVED***(!isObject(prop)***REMOVED***||***REMOVED***isEpProp(prop))***REMOVED***return***REMOVED***prop***REMOVED***as***REMOVED***any\n\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***values,***REMOVED***required,***REMOVED***default:***REMOVED***defaultValue,***REMOVED***type,***REMOVED***validator***REMOVED***}***REMOVED***=***REMOVED***prop\n\n***REMOVED******REMOVED***const***REMOVED***_validator***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***values***REMOVED***||***REMOVED***validator\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***(val:***REMOVED***unknown)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***valid***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***allowedValues:***REMOVED***unknown[]***REMOVED***=***REMOVED***[]\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(values)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***allowedValues***REMOVED***=***REMOVED***Array.from(values)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(prop,***REMOVED***'default'))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***allowedValues.push(defaultValue)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***valid***REMOVED***||=***REMOVED***allowedValues.includes(val)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(validator)***REMOVED***valid***REMOVED***||=***REMOVED***validator(val)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!valid***REMOVED***&&***REMOVED***allowedValues.length***REMOVED***>***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***allowValuesText***REMOVED***=***REMOVED***[...new***REMOVED***Set(allowedValues)]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***.map((value)***REMOVED***=>***REMOVED***JSON.stringify(value))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***.join(',***REMOVED***')\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***warn(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***`Invalid***REMOVED***prop:***REMOVED***validation***REMOVED***failed${\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***key***REMOVED***?***REMOVED***`***REMOVED***for***REMOVED***prop***REMOVED***\"${key}\"`***REMOVED***:***REMOVED***''\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}.***REMOVED***Expected***REMOVED***one***REMOVED***of***REMOVED***[${allowValuesText}],***REMOVED***got***REMOVED***value***REMOVED***${JSON.stringify(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***val\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)}.`\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***valid\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***undefined\n\n***REMOVED******REMOVED***const***REMOVED***epProp:***REMOVED***any***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***type,\n***REMOVED******REMOVED******REMOVED******REMOVED***required:***REMOVED***!!required,\n***REMOVED******REMOVED******REMOVED******REMOVED***validator:***REMOVED***_validator,\n***REMOVED******REMOVED******REMOVED******REMOVED***[epPropKey]:***REMOVED***true,\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(hasOwn(prop,***REMOVED***'default'))***REMOVED***epProp.default***REMOVED***=***REMOVED***defaultValue\n***REMOVED******REMOVED***return***REMOVED***epProp\n}\n\nexport***REMOVED***const***REMOVED***buildProps***REMOVED***=***REMOVED***<\n***REMOVED******REMOVED***Props***REMOVED***extends***REMOVED***Record<\n***REMOVED******REMOVED******REMOVED******REMOVED***string,\n***REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***{***REMOVED***[epPropKey]:***REMOVED***true***REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***NativePropType\n***REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***EpPropInput<any,***REMOVED***any,***REMOVED***any,***REMOVED***any,***REMOVED***any>\n***REMOVED******REMOVED***>\n>(\n***REMOVED******REMOVED***props:***REMOVED***Props\n):***REMOVED***{\n***REMOVED******REMOVED***[K***REMOVED***in***REMOVED***keyof***REMOVED***Props]:***REMOVED***IfEpProp<\n***REMOVED******REMOVED******REMOVED******REMOVED***Props[K],\n***REMOVED******REMOVED******REMOVED******REMOVED***Props[K],\n***REMOVED******REMOVED******REMOVED******REMOVED***IfNativePropType<Props[K],***REMOVED***Props[K],***REMOVED***EpPropConvert<Props[K]>>\n***REMOVED******REMOVED***>\n}***REMOVED***=>\n***REMOVED******REMOVED***fromPairs(\n***REMOVED******REMOVED******REMOVED******REMOVED***Object.entries(props).map(([key,***REMOVED***option])***REMOVED***=>***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***key,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***buildProp(option***REMOVED***as***REMOVED***any,***REMOVED***key),\n***REMOVED******REMOVED******REMOVED******REMOVED***])\n***REMOVED******REMOVED***)***REMOVED***as***REMOVED***any\n"],"names":[],"mappings":";;;;AAIY,MAAC,SAAS,GAAG,cAAc;AAC3B,MAAC,cAAc,GAAG,CAAC,GAAG,KAAK,IAAI;AAC/B,MAAC,QAAQ,GAAG,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE;AACvD,MAAC,SAAS,GAAG,CAAC,IAAI,EAAE,GAAG,KAAK;AACxC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC;AACvC,IAAI,OAAO,IAAI,CAAC;AAChB,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;AAC5E,EAAE,MAAM,UAAU,GAAG,MAAM,IAAI,SAAS,GAAG,CAAC,GAAG,KAAK;AACpD,IAAI,IAAI,KAAK,GAAG,KAAK,CAAC;AACtB,IAAI,IAAI,aAAa,GAAG,EAAE,CAAC;AAC3B,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACzC,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE;AACnC,QAAQ,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACzC,OAAO;AACP,MAAM,KAAK,KAAK,KAAK,GAAG,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;AACrD,KAAK;AACL,IAAI,IAAI,SAAS;AACjB,MAAM,KAAK,KAAK,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;AACxC,IAAI,IAAI,CAAC,KAAK,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;AAC5C,MAAM,MAAM,eAAe,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC3G,MAAM,IAAI,CAAC,CAAC,+BAA+B,EAAE,GAAG,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,mBAAmB,EAAE,eAAe,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzJ,KAAK;AACL,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG,GAAG,KAAK,CAAC,CAAC;AACb,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,IAAI;AACR,IAAI,QAAQ,EAAE,CAAC,CAAC,QAAQ;AACxB,IAAI,SAAS,EAAE,UAAU;AACzB,IAAI,CAAC,SAAS,GAAG,IAAI;AACrB,GAAG,CAAC;AACJ,EAAE,IAAI,MAAM,CAAC,IAAI,EAAE,SAAS,CAAC;AAC7B,IAAI,MAAM,CAAC,OAAO,GAAG,YAAY,CAAC;AAClC,EAAE,OAAO,MAAM,CAAC;AAChB,EAAE;AACU,MAAC,UAAU,GAAG,CAAC,KAAK,KAAK,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK;AAC5F,EAAE,GAAG;AACL,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC;AACxB,CAAC,CAAC;;;;"}