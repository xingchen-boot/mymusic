{"version":3,"file":"use-form-item.mjs","sources":["../../../../../../../packages/components/form/src/hooks/use-form-item.ts"],"sourcesContent":["import***REMOVED***{\n***REMOVED******REMOVED***computed,\n***REMOVED******REMOVED***getCurrentInstance,\n***REMOVED******REMOVED***inject,\n***REMOVED******REMOVED***onMounted,\n***REMOVED******REMOVED***onUnmounted,\n***REMOVED******REMOVED***ref,\n***REMOVED******REMOVED***toRef,\n***REMOVED******REMOVED***watch,\n}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useId***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks/use-id'\nimport***REMOVED***{***REMOVED***formContextKey,***REMOVED***formItemContextKey***REMOVED***}***REMOVED***from***REMOVED***'../constants'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ComputedRef,***REMOVED***Ref,***REMOVED***WatchStopHandle***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***FormItemContext***REMOVED***}***REMOVED***from***REMOVED***'../types'\n\nexport***REMOVED***const***REMOVED***useFormItem***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***form***REMOVED***=***REMOVED***inject(formContextKey,***REMOVED***undefined)\n***REMOVED******REMOVED***const***REMOVED***formItem***REMOVED***=***REMOVED***inject(formItemContextKey,***REMOVED***undefined)\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***form,\n***REMOVED******REMOVED******REMOVED******REMOVED***formItem,\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***type***REMOVED***IUseFormItemInputCommonProps***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***id?:***REMOVED***string\n***REMOVED******REMOVED***label?:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***boolean***REMOVED***|***REMOVED***Record<string,***REMOVED***any>\n***REMOVED******REMOVED***ariaLabel?:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***boolean***REMOVED***|***REMOVED***Record<string,***REMOVED***any>\n}\n\nexport***REMOVED***const***REMOVED***useFormItemInputId***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***Partial<IUseFormItemInputCommonProps>,\n***REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***formItemContext,\n***REMOVED******REMOVED******REMOVED******REMOVED***disableIdGeneration,\n***REMOVED******REMOVED******REMOVED******REMOVED***disableIdManagement,\n***REMOVED******REMOVED***}:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***formItemContext?:***REMOVED***FormItemContext\n***REMOVED******REMOVED******REMOVED******REMOVED***disableIdGeneration?:***REMOVED***ComputedRef<boolean>***REMOVED***|***REMOVED***Ref<boolean>\n***REMOVED******REMOVED******REMOVED******REMOVED***disableIdManagement?:***REMOVED***ComputedRef<boolean>***REMOVED***|***REMOVED***Ref<boolean>\n***REMOVED******REMOVED***}\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!disableIdGeneration)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***disableIdGeneration***REMOVED***=***REMOVED***ref<boolean>(false)\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(!disableIdManagement)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***disableIdManagement***REMOVED***=***REMOVED***ref<boolean>(false)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***getCurrentInstance()\n\n***REMOVED******REMOVED***const***REMOVED***inLabel***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***parent***REMOVED***=***REMOVED***instance?.parent\n***REMOVED******REMOVED******REMOVED******REMOVED***while***REMOVED***(parent)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parent.type.name***REMOVED***===***REMOVED***'ElFormItem')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parent.type.name***REMOVED***===***REMOVED***'ElLabelWrap')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parent***REMOVED***=***REMOVED***parent.parent\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***inputId***REMOVED***=***REMOVED***ref<string>()\n***REMOVED******REMOVED***let***REMOVED***idUnwatch:***REMOVED***WatchStopHandle***REMOVED***|***REMOVED***undefined***REMOVED***=***REMOVED***undefined\n\n***REMOVED******REMOVED***const***REMOVED***isLabeledByFormItem***REMOVED***=***REMOVED***computed<boolean>(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***!!(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!(props.label***REMOVED***||***REMOVED***props.ariaLabel)***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formItemContext***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formItemContext.inputIds***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formItemContext.inputIds?.length***REMOVED***<=***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***//***REMOVED***Generate***REMOVED***id***REMOVED***for***REMOVED***ElFormItem***REMOVED***label***REMOVED***if***REMOVED***not***REMOVED***provided***REMOVED***as***REMOVED***prop\n***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***idUnwatch***REMOVED***=***REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***[toRef(props,***REMOVED***'id'),***REMOVED***disableIdGeneration]***REMOVED***as***REMOVED***any,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***([id,***REMOVED***disableIdGeneration]:***REMOVED***[string,***REMOVED***boolean])***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***newId***REMOVED***=***REMOVED***id***REMOVED***??***REMOVED***(!disableIdGeneration***REMOVED***?***REMOVED***useId().value***REMOVED***:***REMOVED***undefined)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(newId***REMOVED***!==***REMOVED***inputId.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(formItemContext?.removeInputId***REMOVED***&&***REMOVED***!inLabel())***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId.value***REMOVED***&&***REMOVED***formItemContext.removeInputId(inputId.value)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!disableIdManagement?.value***REMOVED***&&***REMOVED***!disableIdGeneration***REMOVED***&&***REMOVED***newId)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formItemContext.addInputId(newId)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId.value***REMOVED***=***REMOVED***newId\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***immediate:***REMOVED***true***REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***onUnmounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***idUnwatch***REMOVED***&&***REMOVED***idUnwatch()\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(formItemContext?.removeInputId)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId.value***REMOVED***&&***REMOVED***formItemContext.removeInputId(inputId.value)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***isLabeledByFormItem,\n***REMOVED******REMOVED******REMOVED******REMOVED***inputId,\n***REMOVED******REMOVED***}\n}\n"],"names":[],"mappings":"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"}