import***REMOVED***{***REMOVED***computed,***REMOVED***ref,***REMOVED***watch,***REMOVED***onBeforeUnmount***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***useWindowSize,***REMOVED***clamp,***REMOVED***useEventListener***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***addUnit***REMOVED***}***REMOVED***from***REMOVED***'../../../../utils/dom/style.mjs';

function***REMOVED***useResizable(props,***REMOVED***target)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***width,***REMOVED***height***REMOVED***}***REMOVED***=***REMOVED***useWindowSize();
***REMOVED******REMOVED***const***REMOVED***isHorizontal***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***["ltr",***REMOVED***"rtl"].includes(props.direction));
***REMOVED******REMOVED***const***REMOVED***sign***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***["ltr",***REMOVED***"ttb"].includes(props.direction)***REMOVED***?***REMOVED***1***REMOVED***:***REMOVED***-1);
***REMOVED******REMOVED***const***REMOVED***windowSize***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***isHorizontal.value***REMOVED***?***REMOVED***width.value***REMOVED***:***REMOVED***height.value);
***REMOVED******REMOVED***const***REMOVED***getSize***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***clamp(startSize.value***REMOVED***+***REMOVED***sign.value***REMOVED*******REMOVED***offset.value,***REMOVED***4,***REMOVED***windowSize.value);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***startSize***REMOVED***=***REMOVED***ref(0);
***REMOVED******REMOVED***const***REMOVED***offset***REMOVED***=***REMOVED***ref(0);
***REMOVED******REMOVED***const***REMOVED***isResizing***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***const***REMOVED***hasStartedDragging***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***let***REMOVED***startPos***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***let***REMOVED***cleanups***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***const***REMOVED***getActualSize***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***drawerEl***REMOVED***=***REMOVED***(_a***REMOVED***=***REMOVED***target.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.closest('[aria-modal="true"]');
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(drawerEl)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***isHorizontal.value***REMOVED***?***REMOVED***drawerEl.offsetWidth***REMOVED***:***REMOVED***drawerEl.offsetHeight;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***100;
***REMOVED******REMOVED***};
***REMOVED******REMOVED***watch(()***REMOVED***=>***REMOVED***[props.size,***REMOVED***props.resizable],***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***hasStartedDragging.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***startSize.value***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***offset.value***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***onMouseUp();
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***onMousedown***REMOVED***=***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.resizable)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!hasStartedDragging.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startSize.value***REMOVED***=***REMOVED***getActualSize();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***hasStartedDragging.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***startPos***REMOVED***=***REMOVED***[e.pageX,***REMOVED***e.pageY];
***REMOVED******REMOVED******REMOVED******REMOVED***isResizing.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED***cleanups.push(useEventListener(window,***REMOVED***"mouseup",***REMOVED***onMouseUp),***REMOVED***useEventListener(window,***REMOVED***"mousemove",***REMOVED***onMouseMove));
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***onMouseMove***REMOVED***=***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***pageX,***REMOVED***pageY***REMOVED***}***REMOVED***=***REMOVED***e;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***offsetX***REMOVED***=***REMOVED***pageX***REMOVED***-***REMOVED***startPos[0];
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***offsetY***REMOVED***=***REMOVED***pageY***REMOVED***-***REMOVED***startPos[1];
***REMOVED******REMOVED******REMOVED******REMOVED***offset.value***REMOVED***=***REMOVED***isHorizontal.value***REMOVED***?***REMOVED***offsetX***REMOVED***:***REMOVED***offsetY;
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***onMouseUp***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***startPos***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED***startSize.value***REMOVED***=***REMOVED***getSize.value;
***REMOVED******REMOVED******REMOVED******REMOVED***offset.value***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***isResizing.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***cleanups.forEach((cleanup2)***REMOVED***=>***REMOVED***cleanup2***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***cleanup2());
***REMOVED******REMOVED******REMOVED******REMOVED***cleanups***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***cleanup***REMOVED***=***REMOVED***useEventListener(target,***REMOVED***"mousedown",***REMOVED***onMousedown);
***REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***cleanup();
***REMOVED******REMOVED******REMOVED******REMOVED***onMouseUp();
***REMOVED******REMOVED***});
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***size:***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***hasStartedDragging.value***REMOVED***?***REMOVED***`${getSize.value}px`***REMOVED***:***REMOVED***addUnit(props.size);
***REMOVED******REMOVED******REMOVED******REMOVED***}),
***REMOVED******REMOVED******REMOVED******REMOVED***isResizing,
***REMOVED******REMOVED******REMOVED******REMOVED***isHorizontal
***REMOVED******REMOVED***};
}

export***REMOVED***{***REMOVED***useResizable***REMOVED***};
//#***REMOVED***sourceMappingURL=useResizable.mjs.map
