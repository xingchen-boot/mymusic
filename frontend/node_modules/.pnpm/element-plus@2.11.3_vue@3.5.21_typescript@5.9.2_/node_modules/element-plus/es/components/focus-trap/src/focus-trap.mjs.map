{"version":3,"file":"focus-trap.mjs","sources":["../../../../../../packages/components/focus-trap/src/focus-trap.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<slot***REMOVED***:handle-keydown=\"onKeydown\"***REMOVED***/>\n</template>\n\n<script***REMOVED***lang=\"ts\">\nimport***REMOVED***{\n***REMOVED******REMOVED***defineComponent,\n***REMOVED******REMOVED***nextTick,\n***REMOVED******REMOVED***onBeforeUnmount,\n***REMOVED******REMOVED***onMounted,\n***REMOVED******REMOVED***provide,\n***REMOVED******REMOVED***ref,\n***REMOVED******REMOVED***unref,\n***REMOVED******REMOVED***watch,\n}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***isNil***REMOVED***}***REMOVED***from***REMOVED***'lodash-unified'\nimport***REMOVED***{***REMOVED***EVENT_CODE***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/constants'\nimport***REMOVED***{***REMOVED***useEscapeKeydown***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***isString***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{\n***REMOVED******REMOVED***createFocusOutPreventedEvent,\n***REMOVED******REMOVED***focusFirstDescendant,\n***REMOVED******REMOVED***focusableStack,\n***REMOVED******REMOVED***getEdges,\n***REMOVED******REMOVED***isFocusCausedByUserEvent,\n***REMOVED******REMOVED***obtainAllFocusableElements,\n***REMOVED******REMOVED***tryFocus,\n***REMOVED******REMOVED***useFocusReason,\n}***REMOVED***from***REMOVED***'./utils'\nimport***REMOVED***{\n***REMOVED******REMOVED***FOCUS_AFTER_RELEASED,\n***REMOVED******REMOVED***FOCUS_AFTER_TRAPPED,\n***REMOVED******REMOVED***FOCUS_AFTER_TRAPPED_OPTS,\n***REMOVED******REMOVED***FOCUS_TRAP_INJECTION_KEY,\n***REMOVED******REMOVED***ON_RELEASE_FOCUS_EVT,\n***REMOVED******REMOVED***ON_TRAP_FOCUS_EVT,\n}***REMOVED***from***REMOVED***'./tokens'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***PropType***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***FocusLayer***REMOVED***}***REMOVED***from***REMOVED***'./utils'\n\nexport***REMOVED***default***REMOVED***defineComponent({\n***REMOVED******REMOVED***name:***REMOVED***'ElFocusTrap',\n***REMOVED******REMOVED***inheritAttrs:***REMOVED***false,\n***REMOVED******REMOVED***props:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***loop:***REMOVED***Boolean,\n***REMOVED******REMOVED******REMOVED******REMOVED***trapped:***REMOVED***Boolean,\n***REMOVED******REMOVED******REMOVED******REMOVED***focusTrapEl:***REMOVED***Object***REMOVED***as***REMOVED***PropType<HTMLElement>,\n***REMOVED******REMOVED******REMOVED******REMOVED***focusStartEl:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***[Object,***REMOVED***String]***REMOVED***as***REMOVED***PropType<'container'***REMOVED***|***REMOVED***'first'***REMOVED***|***REMOVED***HTMLElement>,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***'first',\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED***},\n***REMOVED******REMOVED***emits:***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED***ON_TRAP_FOCUS_EVT,\n***REMOVED******REMOVED******REMOVED******REMOVED***ON_RELEASE_FOCUS_EVT,\n***REMOVED******REMOVED******REMOVED******REMOVED***'focusin',\n***REMOVED******REMOVED******REMOVED******REMOVED***'focusout',\n***REMOVED******REMOVED******REMOVED******REMOVED***'focusout-prevented',\n***REMOVED******REMOVED******REMOVED******REMOVED***'release-requested',\n***REMOVED******REMOVED***],\n***REMOVED******REMOVED***setup(props,***REMOVED***{***REMOVED***emit***REMOVED***})***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***forwardRef***REMOVED***=***REMOVED***ref<HTMLElement***REMOVED***|***REMOVED***undefined>()\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***lastFocusBeforeTrapped:***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***lastFocusAfterTrapped:***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***focusReason***REMOVED***}***REMOVED***=***REMOVED***useFocusReason()\n\n***REMOVED******REMOVED******REMOVED******REMOVED***useEscapeKeydown((event)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.trapped***REMOVED***&&***REMOVED***!focusLayer.paused)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit('release-requested',***REMOVED***event)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***focusLayer:***REMOVED***FocusLayer***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***paused:***REMOVED***false,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***pause()***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.paused***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resume()***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.paused***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onKeydown***REMOVED***=***REMOVED***(e:***REMOVED***KeyboardEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.loop***REMOVED***&&***REMOVED***!props.trapped)***REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(focusLayer.paused)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***code,***REMOVED***altKey,***REMOVED***ctrlKey,***REMOVED***metaKey,***REMOVED***currentTarget,***REMOVED***shiftKey***REMOVED***}***REMOVED***=***REMOVED***e\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***loop***REMOVED***}***REMOVED***=***REMOVED***props\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isTabbing***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***code***REMOVED***===***REMOVED***EVENT_CODE.tab***REMOVED***&&***REMOVED***!altKey***REMOVED***&&***REMOVED***!ctrlKey***REMOVED***&&***REMOVED***!metaKey\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentFocusingEl***REMOVED***=***REMOVED***document.activeElement\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isTabbing***REMOVED***&&***REMOVED***currentFocusingEl)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***container***REMOVED***=***REMOVED***currentTarget***REMOVED***as***REMOVED***HTMLElement\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***[first,***REMOVED***last]***REMOVED***=***REMOVED***getEdges(container)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isTabbable***REMOVED***=***REMOVED***first***REMOVED***&&***REMOVED***last\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isTabbable)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(currentFocusingEl***REMOVED***===***REMOVED***container)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***focusoutPreventedEvent***REMOVED***=***REMOVED***createFocusOutPreventedEvent({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusReason:***REMOVED***focusReason.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit('focusout-prevented',***REMOVED***focusoutPreventedEvent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!focusoutPreventedEvent.defaultPrevented)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!shiftKey***REMOVED***&&***REMOVED***currentFocusingEl***REMOVED***===***REMOVED***last)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***focusoutPreventedEvent***REMOVED***=***REMOVED***createFocusOutPreventedEvent({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusReason:***REMOVED***focusReason.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit('focusout-prevented',***REMOVED***focusoutPreventedEvent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!focusoutPreventedEvent.defaultPrevented)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(loop)***REMOVED***tryFocus(first,***REMOVED***true)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***shiftKey***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***[first,***REMOVED***container].includes(currentFocusingEl***REMOVED***as***REMOVED***HTMLElement)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***focusoutPreventedEvent***REMOVED***=***REMOVED***createFocusOutPreventedEvent({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusReason:***REMOVED***focusReason.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit('focusout-prevented',***REMOVED***focusoutPreventedEvent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!focusoutPreventedEvent.defaultPrevented)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(loop)***REMOVED***tryFocus(last,***REMOVED***true)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***provide(FOCUS_TRAP_INJECTION_KEY,***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusTrapRef:***REMOVED***forwardRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onKeydown,\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.focusTrapEl,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(focusTrapEl)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(focusTrapEl)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.value***REMOVED***=***REMOVED***focusTrapEl\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***immediate:***REMOVED***true***REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***watch([forwardRef],***REMOVED***([forwardRef],***REMOVED***[oldForwardRef])***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(forwardRef)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.addEventListener('keydown',***REMOVED***onKeydown)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.addEventListener('focusin',***REMOVED***onFocusIn)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.addEventListener('focusout',***REMOVED***onFocusOut)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(oldForwardRef)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***oldForwardRef.removeEventListener('keydown',***REMOVED***onKeydown)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***oldForwardRef.removeEventListener('focusin',***REMOVED***onFocusIn)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***oldForwardRef.removeEventListener('focusout',***REMOVED***onFocusOut)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***trapOnFocus***REMOVED***=***REMOVED***(e:***REMOVED***Event)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit(ON_TRAP_FOCUS_EVT,***REMOVED***e)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***releaseOnFocus***REMOVED***=***REMOVED***(e:***REMOVED***Event)***REMOVED***=>***REMOVED***emit(ON_RELEASE_FOCUS_EVT,***REMOVED***e)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onFocusIn***REMOVED***=***REMOVED***(e:***REMOVED***FocusEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***trapContainer***REMOVED***=***REMOVED***unref(forwardRef)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!trapContainer)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***e.target***REMOVED***as***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***relatedTarget***REMOVED***=***REMOVED***e.relatedTarget***REMOVED***as***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isFocusedInTrap***REMOVED***=***REMOVED***target***REMOVED***&&***REMOVED***trapContainer.contains(target)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!props.trapped)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isPrevFocusedInTrap***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***relatedTarget***REMOVED***&&***REMOVED***trapContainer.contains(relatedTarget)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isPrevFocusedInTrap)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lastFocusBeforeTrapped***REMOVED***=***REMOVED***relatedTarget\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isFocusedInTrap)***REMOVED***emit('focusin',***REMOVED***e)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(focusLayer.paused)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.trapped)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isFocusedInTrap)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lastFocusAfterTrapped***REMOVED***=***REMOVED***target\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tryFocus(lastFocusAfterTrapped,***REMOVED***true)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***onFocusOut***REMOVED***=***REMOVED***(e:***REMOVED***Event)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***trapContainer***REMOVED***=***REMOVED***unref(forwardRef)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(focusLayer.paused***REMOVED***||***REMOVED***!trapContainer)***REMOVED***return\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.trapped)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***relatedTarget***REMOVED***=***REMOVED***(e***REMOVED***as***REMOVED***FocusEvent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***.relatedTarget***REMOVED***as***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isNil(relatedTarget)***REMOVED***&&***REMOVED***!trapContainer.contains(relatedTarget))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Give***REMOVED***embedded***REMOVED***focus***REMOVED***layer***REMOVED***time***REMOVED***to***REMOVED***pause***REMOVED***this***REMOVED***layer***REMOVED***before***REMOVED***reclaiming***REMOVED***focus\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***And***REMOVED***only***REMOVED***reclaim***REMOVED***focus***REMOVED***if***REMOVED***it***REMOVED***should***REMOVED***currently***REMOVED***be***REMOVED***trapping\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!focusLayer.paused***REMOVED***&&***REMOVED***props.trapped)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***focusoutPreventedEvent***REMOVED***=***REMOVED***createFocusOutPreventedEvent({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusReason:***REMOVED***focusReason.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit('focusout-prevented',***REMOVED***focusoutPreventedEvent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!focusoutPreventedEvent.defaultPrevented)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tryFocus(lastFocusAfterTrapped,***REMOVED***true)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***0)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***e.target***REMOVED***as***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isFocusedInTrap***REMOVED***=***REMOVED***target***REMOVED***&&***REMOVED***trapContainer.contains(target)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isFocusedInTrap)***REMOVED***emit('focusout',***REMOVED***e)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***async***REMOVED***function***REMOVED***startTrap()***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Wait***REMOVED***for***REMOVED***forwardRef***REMOVED***to***REMOVED***resolve\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***await***REMOVED***nextTick()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***trapContainer***REMOVED***=***REMOVED***unref(forwardRef)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(trapContainer)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusableStack.push(focusLayer)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***prevFocusedElement***REMOVED***=***REMOVED***trapContainer.contains(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.activeElement\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***lastFocusBeforeTrapped\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***document.activeElement\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lastFocusBeforeTrapped***REMOVED***=***REMOVED***prevFocusedElement***REMOVED***as***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isPrevFocusContained***REMOVED***=***REMOVED***trapContainer.contains(prevFocusedElement)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isPrevFocusContained)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***focusEvent***REMOVED***=***REMOVED***new***REMOVED***Event(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***FOCUS_AFTER_TRAPPED,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***FOCUS_AFTER_TRAPPED_OPTS\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapContainer.addEventListener(FOCUS_AFTER_TRAPPED,***REMOVED***trapOnFocus)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapContainer.dispatchEvent(focusEvent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!focusEvent.defaultPrevented)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***nextTick(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***focusStartEl***REMOVED***=***REMOVED***props.focusStartEl\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isString(focusStartEl))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tryFocus(focusStartEl)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(document.activeElement***REMOVED***!==***REMOVED***focusStartEl)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusStartEl***REMOVED***=***REMOVED***'first'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(focusStartEl***REMOVED***===***REMOVED***'first')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusFirstDescendant(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***obtainAllFocusableElements(trapContainer),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.activeElement***REMOVED***===***REMOVED***prevFocusedElement***REMOVED***||\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusStartEl***REMOVED***===***REMOVED***'container'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tryFocus(trapContainer)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***stopTrap()***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***trapContainer***REMOVED***=***REMOVED***unref(forwardRef)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(trapContainer)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapContainer.removeEventListener(FOCUS_AFTER_TRAPPED,***REMOVED***trapOnFocus)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***releasedEvent***REMOVED***=***REMOVED***new***REMOVED***CustomEvent(FOCUS_AFTER_RELEASED,***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...FOCUS_AFTER_TRAPPED_OPTS,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***detail:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusReason:***REMOVED***focusReason.value,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapContainer.addEventListener(FOCUS_AFTER_RELEASED,***REMOVED***releaseOnFocus)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapContainer.dispatchEvent(releasedEvent)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!releasedEvent.defaultPrevented***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(focusReason.value***REMOVED***==***REMOVED***'keyboard'***REMOVED***||\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!isFocusCausedByUserEvent()***REMOVED***||\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapContainer.contains(document.activeElement))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tryFocus(lastFocusBeforeTrapped***REMOVED***??***REMOVED***document.body)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trapContainer.removeEventListener(FOCUS_AFTER_RELEASED,***REMOVED***releaseOnFocus)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusableStack.remove(focusLayer)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lastFocusBeforeTrapped***REMOVED***=***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lastFocusAfterTrapped***REMOVED***=***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.trapped)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startTrap()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.trapped,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(trapped)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(trapped)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startTrap()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stopTrap()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.trapped)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stopTrap()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(forwardRef.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.value.removeEventListener('keydown',***REMOVED***onKeydown)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.value.removeEventListener('focusin',***REMOVED***onFocusIn)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.value.removeEventListener('focusout',***REMOVED***onFocusOut)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRef.value***REMOVED***=***REMOVED***undefined\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onKeydown,\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***},\n})\n</script>\n"],"names":["forwardRef","_renderSlot"],"mappings":"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"}