{"version":3,"file":"upload-dragger2.mjs","sources":["../../../../../../packages/components/upload/src/upload-dragger.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<div\n***REMOVED******REMOVED******REMOVED******REMOVED***:class=\"[ns.b('dragger'),***REMOVED***ns.is('dragover',***REMOVED***dragover)]\"\n***REMOVED******REMOVED******REMOVED******REMOVED***@drop.prevent=\"onDrop\"\n***REMOVED******REMOVED******REMOVED******REMOVED***@dragover.prevent=\"onDragover\"\n***REMOVED******REMOVED******REMOVED******REMOVED***@dragleave.prevent=\"onDragleave\"\n***REMOVED******REMOVED***>\n***REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***/>\n***REMOVED******REMOVED***</div>\n</template>\n\n<script***REMOVED***lang=\"ts\"***REMOVED***setup>\nimport***REMOVED***{***REMOVED***inject,***REMOVED***ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***useFormDisabled***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/form'\nimport***REMOVED***{***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils/error'\nimport***REMOVED***{***REMOVED***uploadContextKey***REMOVED***}***REMOVED***from***REMOVED***'./constants'\nimport***REMOVED***{***REMOVED***uploadDraggerEmits,***REMOVED***uploadDraggerProps***REMOVED***}***REMOVED***from***REMOVED***'./upload-dragger'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***UploadRawFile***REMOVED***}***REMOVED***from***REMOVED***'./upload'\n\nconst***REMOVED***COMPONENT_NAME***REMOVED***=***REMOVED***'ElUploadDrag'\n\ndefineOptions({\n***REMOVED******REMOVED***name:***REMOVED***COMPONENT_NAME,\n})\n\ndefineProps(uploadDraggerProps)\nconst***REMOVED***emit***REMOVED***=***REMOVED***defineEmits(uploadDraggerEmits)\n\nconst***REMOVED***uploaderContext***REMOVED***=***REMOVED***inject(uploadContextKey)\nif***REMOVED***(!uploaderContext)***REMOVED***{\n***REMOVED******REMOVED***throwError(\n***REMOVED******REMOVED******REMOVED******REMOVED***COMPONENT_NAME,\n***REMOVED******REMOVED******REMOVED******REMOVED***'usage:***REMOVED***<el-upload><el-upload-dragger***REMOVED***/></el-upload>'\n***REMOVED******REMOVED***)\n}\n\nconst***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('upload')\nconst***REMOVED***dragover***REMOVED***=***REMOVED***ref(false)\nconst***REMOVED***disabled***REMOVED***=***REMOVED***useFormDisabled()\n\nconst***REMOVED***onDrop***REMOVED***=***REMOVED***(e:***REMOVED***DragEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(disabled.value)***REMOVED***return\n***REMOVED******REMOVED***dragover.value***REMOVED***=***REMOVED***false\n\n***REMOVED******REMOVED***e.stopPropagation()\n\n***REMOVED******REMOVED***const***REMOVED***files***REMOVED***=***REMOVED***Array.from(e.dataTransfer!.files)***REMOVED***as***REMOVED***UploadRawFile[]\n***REMOVED******REMOVED***const***REMOVED***items***REMOVED***=***REMOVED***e.dataTransfer!.items***REMOVED***||***REMOVED***[]\n***REMOVED******REMOVED***files.forEach((file,***REMOVED***index)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***items[index]\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***entry***REMOVED***=***REMOVED***item?.webkitGetAsEntry?.()\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(entry)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***file.isDirectory***REMOVED***=***REMOVED***entry.isDirectory\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***})\n***REMOVED******REMOVED***emit('file',***REMOVED***files)\n}\n\nconst***REMOVED***onDragover***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!disabled.value)***REMOVED***dragover.value***REMOVED***=***REMOVED***true\n}\n\nconst***REMOVED***onDragleave***REMOVED***=***REMOVED***(e:***REMOVED***DragEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!(e.currentTarget***REMOVED***as***REMOVED***Element).contains(e.relatedTarget***REMOVED***as***REMOVED***Element))\n***REMOVED******REMOVED******REMOVED******REMOVED***dragover.value***REMOVED***=***REMOVED***false\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;mCAuBc,CAAA;AAAA,EACZ,IAAM,EAAA,cAAA;AACR;;;;;;AAKA,IAAM,MAAA,eAAA,GAAkB,OAAO,gBAAgB,CAAA,CAAA;AAC/C,IAAA,IAAI,CAAC,eAAiB,EAAA;AACpB,MAAA,UAAA,CAAA,cAAA,EAAA,qDAAA,CAAA,CAAA;AAAA,KACE;AAAA,IACA,MAAA,EAAA,GAAA,YAAA,CAAA,QAAA,CAAA,CAAA;AAAA,IACF,MAAA,QAAA,GAAA,GAAA,CAAA,KAAA,CAAA,CAAA;AAAA,IACF,MAAA,QAAA,GAAA,eAAA,EAAA,CAAA;AAEA,IAAM,MAAA;AACN,MAAM,IAAA,QAAA,CAAA;AACN,QAAA;AAEA,MAAM,QAAA,CAAA,KAAU,GAAiB,KAAA,CAAA;AAC/B,MAAA,CAAA,CAAA,eAAoB,EAAA,CAAA;AACpB,MAAA,MAAA,KAAiB,GAAA,KAAA,CAAA,IAAA,CAAA,CAAA,CAAA,YAAA,CAAA,KAAA,CAAA,CAAA;AAEjB,MAAA,MAAkB,KAAA,GAAA,CAAA,CAAA,YAAA,CAAA,KAAA,IAAA,EAAA,CAAA;AAElB,MAAA,KAAA,CAAM,OAAQ,CAAA,CAAA,IAAA,EAAW,KAAA;AACzB,QAAA,IAAM,EAAQ,CAAA;AACd,QAAM,MAAA,IAAA,GAAS,KAAA,CAAM,KAAU,CAAA,CAAA;AAC7B,QAAM,MAAA,KAAA,SAAkB,IAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAA,gBAAA,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACxB,QAAM,IAAA,KAAA,EAAA;AACN,UAAA,IAAW,CAAA,WAAA,GAAA,KAAA,CAAA,WAAA,CAAA;AACT,SAAA;AAAyB,OAC3B,CAAA,CAAA;AAAA,MACF,IAAC,CAAA,MAAA,EAAA,KAAA,CAAA,CAAA;AACD,KAAA,CAAA;AAAkB,IACpB,MAAA,UAAA,GAAA,MAAA;AAEA,MAAA,IAAM,eAAmB;AACvB,QAAA,QAAK,CAAA,KAAgB,GAAA,IAAA,CAAA;AAAiB,KACxC,CAAA;AAEA,IAAM,MAAA,WAAA,GAAc,CAAC,CAAiB,KAAA;AACpC,MAAA,IAAI,CAAE,CAAA,CAAE,aAA0B,CAAA,QAAA,CAAS,EAAE,aAAwB,CAAA;AACnE,QAAA,QAAA,CAAS,KAAQ,GAAA,KAAA,CAAA;AAAA,KACrB,CAAA;;;;;;;;;;;;;;;;;"}