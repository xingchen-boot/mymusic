import***REMOVED***{***REMOVED***isVNode,***REMOVED***render,***REMOVED***markRaw,***REMOVED***createVNode***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***MessageBoxConstructor***REMOVED***from***REMOVED***'./index.mjs';
import***REMOVED***{***REMOVED***isClient***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***isString,***REMOVED***isObject,***REMOVED***hasOwn,***REMOVED***isFunction***REMOVED***}***REMOVED***from***REMOVED***'@vue/shared';
import***REMOVED***{***REMOVED***isUndefined,***REMOVED***isElement***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/types.mjs';

const***REMOVED***messageInstance***REMOVED***=***REMOVED***/****REMOVED***@__PURE__***REMOVED****/***REMOVED***new***REMOVED***Map();
const***REMOVED***getAppendToElement***REMOVED***=***REMOVED***(props)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***let***REMOVED***appendTo***REMOVED***=***REMOVED***document.body;
***REMOVED******REMOVED***if***REMOVED***(props.appendTo)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isString(props.appendTo))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***appendTo***REMOVED***=***REMOVED***document.querySelector(props.appendTo);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isElement(props.appendTo))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***appendTo***REMOVED***=***REMOVED***props.appendTo;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isElement(appendTo))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***appendTo***REMOVED***=***REMOVED***document.body;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***appendTo;
};
const***REMOVED***initInstance***REMOVED***=***REMOVED***(props,***REMOVED***container,***REMOVED***appContext***REMOVED***=***REMOVED***null)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***vnode***REMOVED***=***REMOVED***createVNode(MessageBoxConstructor,***REMOVED***props,***REMOVED***isFunction(props.message)***REMOVED***||***REMOVED***isVNode(props.message)***REMOVED***?***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***isFunction(props.message)***REMOVED***?***REMOVED***props.message***REMOVED***:***REMOVED***()***REMOVED***=>***REMOVED***props.message
***REMOVED******REMOVED***}***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED***vnode.appContext***REMOVED***=***REMOVED***appContext;
***REMOVED******REMOVED***render(vnode,***REMOVED***container);
***REMOVED******REMOVED***getAppendToElement(props).appendChild(container.firstElementChild);
***REMOVED******REMOVED***return***REMOVED***vnode.component;
};
const***REMOVED***genContainer***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***return***REMOVED***document.createElement("div");
};
const***REMOVED***showMessage***REMOVED***=***REMOVED***(options,***REMOVED***appContext)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***container***REMOVED***=***REMOVED***genContainer();
***REMOVED******REMOVED***options.onVanish***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***render(null,***REMOVED***container);
***REMOVED******REMOVED******REMOVED******REMOVED***messageInstance.delete(vm);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***options.onAction***REMOVED***=***REMOVED***(action)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentMsg***REMOVED***=***REMOVED***messageInstance.get(vm);
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***resolve;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(options.showInput)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resolve***REMOVED***=***REMOVED***{***REMOVED***value:***REMOVED***vm.inputValue,***REMOVED***action***REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resolve***REMOVED***=***REMOVED***action;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(options.callback)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options.callback(resolve,***REMOVED***instance.proxy);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(action***REMOVED***===***REMOVED***"cancel"***REMOVED***||***REMOVED***action***REMOVED***===***REMOVED***"close")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(options.distinguishCancelAndClose***REMOVED***&&***REMOVED***action***REMOVED***!==***REMOVED***"cancel")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentMsg.reject("close");
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentMsg.reject("cancel");
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentMsg.resolve(resolve);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***initInstance(options,***REMOVED***container,***REMOVED***appContext);
***REMOVED******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***instance.proxy;
***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***prop***REMOVED***in***REMOVED***options)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(options,***REMOVED***prop)***REMOVED***&&***REMOVED***!hasOwn(vm.$props,***REMOVED***prop))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(prop***REMOVED***===***REMOVED***"closeIcon"***REMOVED***&&***REMOVED***isObject(options[prop]))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***vm[prop]***REMOVED***=***REMOVED***markRaw(options[prop]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***vm[prop]***REMOVED***=***REMOVED***options[prop];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***vm.visible***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED***return***REMOVED***vm;
};
function***REMOVED***MessageBox(options,***REMOVED***appContext***REMOVED***=***REMOVED***null)***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!isClient)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Promise.reject();
***REMOVED******REMOVED***let***REMOVED***callback;
***REMOVED******REMOVED***if***REMOVED***(isString(options)***REMOVED***||***REMOVED***isVNode(options))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***options***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***message:***REMOVED***options
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***callback***REMOVED***=***REMOVED***options.callback;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***new***REMOVED***Promise((resolve,***REMOVED***reject)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***showMessage(options,***REMOVED***appContext***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***appContext***REMOVED***:***REMOVED***MessageBox._context);
***REMOVED******REMOVED******REMOVED******REMOVED***messageInstance.set(vm,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***callback,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resolve,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***reject
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***});
}
const***REMOVED***MESSAGE_BOX_VARIANTS***REMOVED***=***REMOVED***["alert",***REMOVED***"confirm",***REMOVED***"prompt"];
const***REMOVED***MESSAGE_BOX_DEFAULT_OPTS***REMOVED***=***REMOVED***{
***REMOVED******REMOVED***alert:***REMOVED***{***REMOVED***closeOnPressEscape:***REMOVED***false,***REMOVED***closeOnClickModal:***REMOVED***false***REMOVED***},
***REMOVED******REMOVED***confirm:***REMOVED***{***REMOVED***showCancelButton:***REMOVED***true***REMOVED***},
***REMOVED******REMOVED***prompt:***REMOVED***{***REMOVED***showCancelButton:***REMOVED***true,***REMOVED***showInput:***REMOVED***true***REMOVED***}
};
MESSAGE_BOX_VARIANTS.forEach((boxType)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***MessageBox[boxType]***REMOVED***=***REMOVED***messageBoxFactory(boxType);
});
function***REMOVED***messageBoxFactory(boxType)***REMOVED***{
***REMOVED******REMOVED***return***REMOVED***(message,***REMOVED***title,***REMOVED***options,***REMOVED***appContext)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***titleOrOpts***REMOVED***=***REMOVED***"";
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isObject(title))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options***REMOVED***=***REMOVED***title;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***titleOrOpts***REMOVED***=***REMOVED***"";
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(isUndefined(title))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***titleOrOpts***REMOVED***=***REMOVED***"";
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***titleOrOpts***REMOVED***=***REMOVED***title;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***MessageBox(Object.assign({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***title:***REMOVED***titleOrOpts,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***message,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...MESSAGE_BOX_DEFAULT_OPTS[boxType]
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***options,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***boxType
***REMOVED******REMOVED******REMOVED******REMOVED***}),***REMOVED***appContext);
***REMOVED******REMOVED***};
}
MessageBox.close***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***messageInstance.forEach((_,***REMOVED***vm)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***vm.doClose();
***REMOVED******REMOVED***});
***REMOVED******REMOVED***messageInstance.clear();
};
MessageBox._context***REMOVED***=***REMOVED***null;

export***REMOVED***{***REMOVED***MessageBox***REMOVED***as***REMOVED***default***REMOVED***};
//#***REMOVED***sourceMappingURL=messageBox.mjs.map
