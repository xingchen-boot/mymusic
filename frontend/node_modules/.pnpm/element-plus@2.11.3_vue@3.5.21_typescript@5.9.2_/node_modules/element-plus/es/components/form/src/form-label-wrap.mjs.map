{"version":3,"file":"form-label-wrap.mjs","sources":["../../../../../../packages/components/form/src/form-label-wrap.tsx"],"sourcesContent":["import***REMOVED***{\n***REMOVED******REMOVED***Fragment,\n***REMOVED******REMOVED***computed,\n***REMOVED******REMOVED***defineComponent,\n***REMOVED******REMOVED***inject,\n***REMOVED******REMOVED***nextTick,\n***REMOVED******REMOVED***onBeforeUnmount,\n***REMOVED******REMOVED***onMounted,\n***REMOVED******REMOVED***onUpdated,\n***REMOVED******REMOVED***ref,\n***REMOVED******REMOVED***watch,\n}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***useResizeObserver***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core'\nimport***REMOVED***{***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***formContextKey,***REMOVED***formItemContextKey***REMOVED***}***REMOVED***from***REMOVED***'./constants'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***CSSProperties***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\nconst***REMOVED***COMPONENT_NAME***REMOVED***=***REMOVED***'ElLabelWrap'\nexport***REMOVED***default***REMOVED***defineComponent({\n***REMOVED******REMOVED***name:***REMOVED***COMPONENT_NAME,\n***REMOVED******REMOVED***props:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***isAutoWidth:***REMOVED***Boolean,\n***REMOVED******REMOVED******REMOVED******REMOVED***updateAll:***REMOVED***Boolean,\n***REMOVED******REMOVED***},\n\n***REMOVED******REMOVED***setup(props,***REMOVED***{***REMOVED***slots***REMOVED***})***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***formContext***REMOVED***=***REMOVED***inject(formContextKey,***REMOVED***undefined)\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***formItemContext***REMOVED***=***REMOVED***inject(formItemContextKey)\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!formItemContext)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throwError(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***COMPONENT_NAME,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'usage:***REMOVED***<el-form-item><label-wrap***REMOVED***/></el-form-item>'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('form')\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***el***REMOVED***=***REMOVED***ref<HTMLElement>()\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***computedWidth***REMOVED***=***REMOVED***ref(0)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***getLabelWidth***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(el.value?.firstElementChild)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***width***REMOVED***=***REMOVED***window.getComputedStyle(el.value.firstElementChild).width\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Math.ceil(Number.parseFloat(width))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***updateLabelWidth***REMOVED***=***REMOVED***(action:***REMOVED***'update'***REMOVED***|***REMOVED***'remove'***REMOVED***=***REMOVED***'update')***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***nextTick(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(slots.default***REMOVED***&&***REMOVED***props.isAutoWidth)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(action***REMOVED***===***REMOVED***'update')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***computedWidth.value***REMOVED***=***REMOVED***getLabelWidth()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(action***REMOVED***===***REMOVED***'remove')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formContext?.deregisterLabelWidth(computedWidth.value)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***updateLabelWidthFn***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***updateLabelWidth('update')\n\n***REMOVED******REMOVED******REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateLabelWidthFn()\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***onBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateLabelWidth('remove')\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***onUpdated(()***REMOVED***=>***REMOVED***updateLabelWidthFn())\n\n***REMOVED******REMOVED******REMOVED******REMOVED***watch(computedWidth,***REMOVED***(val,***REMOVED***oldVal)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.updateAll)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formContext?.registerLabelWidth(val,***REMOVED***oldVal)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***useResizeObserver(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***(el.value?.firstElementChild***REMOVED***??***REMOVED***null)***REMOVED***as***REMOVED***HTMLElement***REMOVED***|***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateLabelWidthFn\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!slots)***REMOVED***return***REMOVED***null\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***isAutoWidth***REMOVED***}***REMOVED***=***REMOVED***props\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isAutoWidth)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***autoLabelWidth***REMOVED***=***REMOVED***formContext?.autoLabelWidth\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***hasLabel***REMOVED***=***REMOVED***formItemContext?.hasLabel\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***style:***REMOVED***CSSProperties***REMOVED***=***REMOVED***{}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasLabel***REMOVED***&&***REMOVED***autoLabelWidth***REMOVED***&&***REMOVED***autoLabelWidth***REMOVED***!==***REMOVED***'auto')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***marginWidth***REMOVED***=***REMOVED***Math.max(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***0,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Number.parseInt(autoLabelWidth,***REMOVED***10)***REMOVED***-***REMOVED***computedWidth.value\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***labelPosition***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formItemContext.labelPosition***REMOVED***||***REMOVED***formContext.labelPosition\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***marginPosition***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***labelPosition***REMOVED***===***REMOVED***'left'***REMOVED***?***REMOVED***'marginRight'***REMOVED***:***REMOVED***'marginLeft'\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(marginWidth)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***style[marginPosition]***REMOVED***=***REMOVED***`${marginWidth}px`\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***ref={el}***REMOVED***class={[ns.be('item',***REMOVED***'label-wrap')]}***REMOVED***style={style}>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{slots.default?.()}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***<Fragment***REMOVED***ref={el}>{slots.default?.()}</Fragment>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***},\n})\n"],"names":["COMPONENT_NAME","defineComponent","name","props","isAutoWidth","Boolean","updateAll","slots","formContext","inject","throwError","ns","useNamespace","el","ref","computedWidth","getLabelWidth","value","width","window","getComputedStyle","firstElementChild","Math","ceil","Number","parseFloat","nextTick","default","action","onMounted","updateLabelWidthFn","onBeforeUnmount","onUpdated","watch","registerLabelWidth","useResizeObserver","computed","hasLabel","style","autoLabelWidth","marginWidth","max","parseInt","labelPosition","formItemContext","marginPosition","_createVNode","be","_Fragment"],"mappings":"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"}