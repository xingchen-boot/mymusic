{"version":3,"file":"directive.mjs","sources":["../../../../../../packages/components/loading/src/directive.ts"],"sourcesContent":["//***REMOVED***@ts-nocheck\nimport***REMOVED***{***REMOVED***isRef,***REMOVED***ref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***hyphenate,***REMOVED***isObject,***REMOVED***isString***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***Loading***REMOVED***from***REMOVED***'./service'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Directive,***REMOVED***DirectiveBinding,***REMOVED***UnwrapRef***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***LoadingOptions***REMOVED***}***REMOVED***from***REMOVED***'./types'\nimport***REMOVED***type***REMOVED***{***REMOVED***LoadingInstance***REMOVED***}***REMOVED***from***REMOVED***'./loading'\n\nconst***REMOVED***INSTANCE_KEY***REMOVED***=***REMOVED***Symbol('ElLoading')\nconst***REMOVED***getAttributeName***REMOVED***=***REMOVED***(name:***REMOVED***string)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***return***REMOVED***`element-loading-${hyphenate(name)}`\n}\n\nexport***REMOVED***type***REMOVED***LoadingBinding***REMOVED***=***REMOVED***boolean***REMOVED***|***REMOVED***UnwrapRef<LoadingOptions>\nexport***REMOVED***interface***REMOVED***ElementLoading***REMOVED***extends***REMOVED***HTMLElement***REMOVED***{\n***REMOVED******REMOVED***[INSTANCE_KEY]?:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***instance:***REMOVED***LoadingInstance\n***REMOVED******REMOVED******REMOVED******REMOVED***options:***REMOVED***LoadingOptions\n***REMOVED******REMOVED***}\n}\n\nconst***REMOVED***createInstance***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***el:***REMOVED***ElementLoading,\n***REMOVED******REMOVED***binding:***REMOVED***DirectiveBinding<LoadingBinding>\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***binding.instance\n\n***REMOVED******REMOVED***const***REMOVED***getBindingProp***REMOVED***=***REMOVED***<K***REMOVED***extends***REMOVED***keyof***REMOVED***LoadingOptions>(\n***REMOVED******REMOVED******REMOVED******REMOVED***key:***REMOVED***K\n***REMOVED******REMOVED***):***REMOVED***LoadingOptions[K]***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***isObject(binding.value)***REMOVED***?***REMOVED***binding.value[key]***REMOVED***:***REMOVED***undefined\n\n***REMOVED******REMOVED***const***REMOVED***resolveExpression***REMOVED***=***REMOVED***(key:***REMOVED***any)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***data***REMOVED***=***REMOVED***(isString(key)***REMOVED***&&***REMOVED***vm?.[key])***REMOVED***||***REMOVED***key\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***ref(data)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***getProp***REMOVED***=***REMOVED***<K***REMOVED***extends***REMOVED***keyof***REMOVED***LoadingOptions>(name:***REMOVED***K)***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***resolveExpression(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***getBindingProp(name)***REMOVED***||***REMOVED***el.getAttribute(getAttributeName(name))\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***fullscreen***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***getBindingProp('fullscreen')***REMOVED***??***REMOVED***binding.modifiers.fullscreen\n\n***REMOVED******REMOVED***const***REMOVED***options:***REMOVED***LoadingOptions***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***getProp('text'),\n***REMOVED******REMOVED******REMOVED******REMOVED***svg:***REMOVED***getProp('svg'),\n***REMOVED******REMOVED******REMOVED******REMOVED***svgViewBox:***REMOVED***getProp('svgViewBox'),\n***REMOVED******REMOVED******REMOVED******REMOVED***spinner:***REMOVED***getProp('spinner'),\n***REMOVED******REMOVED******REMOVED******REMOVED***background:***REMOVED***getProp('background'),\n***REMOVED******REMOVED******REMOVED******REMOVED***customClass:***REMOVED***getProp('customClass'),\n***REMOVED******REMOVED******REMOVED******REMOVED***fullscreen,\n***REMOVED******REMOVED******REMOVED******REMOVED***target:***REMOVED***getBindingProp('target')***REMOVED***??***REMOVED***(fullscreen***REMOVED***?***REMOVED***undefined***REMOVED***:***REMOVED***el),\n***REMOVED******REMOVED******REMOVED******REMOVED***body:***REMOVED***getBindingProp('body')***REMOVED***??***REMOVED***binding.modifiers.body,\n***REMOVED******REMOVED******REMOVED******REMOVED***lock:***REMOVED***getBindingProp('lock')***REMOVED***??***REMOVED***binding.modifiers.lock,\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***Loading(options)\n***REMOVED******REMOVED***instance._context***REMOVED***=***REMOVED***vLoading._context\n***REMOVED******REMOVED***el[INSTANCE_KEY]***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***options,\n***REMOVED******REMOVED******REMOVED******REMOVED***instance,\n***REMOVED******REMOVED***}\n}\n\nconst***REMOVED***updateOptions***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***originalOptions:***REMOVED***LoadingOptions,\n***REMOVED******REMOVED***newOptions:***REMOVED***UnwrapRef<LoadingOptions>\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***key***REMOVED***of***REMOVED***Object.keys(originalOptions))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isRef(originalOptions[key]))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***originalOptions[key].value***REMOVED***=***REMOVED***newOptions[key]\n***REMOVED******REMOVED***}\n}\n\nconst***REMOVED***vLoading:***REMOVED***Directive<ElementLoading,***REMOVED***LoadingBinding>***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***mounted(el,***REMOVED***binding)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(binding.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***createInstance(el,***REMOVED***binding)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***},\n***REMOVED******REMOVED***updated(el,***REMOVED***binding)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***el[INSTANCE_KEY]\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!binding.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance?.instance.close()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***el[INSTANCE_KEY]***REMOVED***=***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!instance)***REMOVED***createInstance(el,***REMOVED***binding)\n***REMOVED******REMOVED******REMOVED******REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateOptions(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.options,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isObject(binding.value)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***binding.value\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***el.getAttribute(getAttributeName('text')),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***svg:***REMOVED***el.getAttribute(getAttributeName('svg')),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***svgViewBox:***REMOVED***el.getAttribute(getAttributeName('svgViewBox')),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***spinner:***REMOVED***el.getAttribute(getAttributeName('spinner')),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***background:***REMOVED***el.getAttribute(getAttributeName('background')),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***customClass:***REMOVED***el.getAttribute(getAttributeName('customClass')),\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***},\n***REMOVED******REMOVED***unmounted(el)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***el[INSTANCE_KEY]?.instance.close()\n***REMOVED******REMOVED******REMOVED******REMOVED***el[INSTANCE_KEY]***REMOVED***=***REMOVED***null\n***REMOVED******REMOVED***},\n}\n\nvLoading._context***REMOVED***=***REMOVED***null\nexport***REMOVED***default***REMOVED***vLoading\n"],"names":[],"mappings":"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"}