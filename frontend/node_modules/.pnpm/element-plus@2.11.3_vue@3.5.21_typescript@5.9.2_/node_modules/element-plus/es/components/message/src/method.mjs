import***REMOVED***{***REMOVED***isVNode,***REMOVED***render,***REMOVED***createVNode***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***MessageConstructor***REMOVED***from***REMOVED***'./message.mjs';
import***REMOVED***{***REMOVED***messageTypes,***REMOVED***MESSAGE_DEFAULT_PLACEMENT,***REMOVED***messageDefaults,***REMOVED***messagePlacement***REMOVED***}***REMOVED***from***REMOVED***'./message2.mjs';
import***REMOVED***{***REMOVED***getOrCreatePlacementInstances,***REMOVED***placementInstances***REMOVED***}***REMOVED***from***REMOVED***'./instance.mjs';
import***REMOVED***{***REMOVED***messageConfig***REMOVED***}***REMOVED***from***REMOVED***'../../config-provider/src/config-provider.mjs';
import***REMOVED***{***REMOVED***isClient***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***isNumber,***REMOVED***isBoolean,***REMOVED***isElement***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/types.mjs';
import***REMOVED***{***REMOVED***hasOwn,***REMOVED***isString,***REMOVED***isFunction***REMOVED***}***REMOVED***from***REMOVED***'@vue/shared';
import***REMOVED***{***REMOVED***debugWarn***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/error.mjs';

let***REMOVED***seed***REMOVED***=***REMOVED***1;
const***REMOVED***normalizeAppendTo***REMOVED***=***REMOVED***(normalized)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***appendTo***REMOVED***=***REMOVED***normalized.appendTo;
***REMOVED******REMOVED***if***REMOVED***(!appendTo)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.appendTo***REMOVED***=***REMOVED***document.body;
***REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(isString(normalized.appendTo))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***appendTo2***REMOVED***=***REMOVED***document.querySelector(normalized.appendTo);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isElement(appendTo2))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***appendTo2***REMOVED***=***REMOVED***document.body;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.appendTo***REMOVED***=***REMOVED***appendTo2;
***REMOVED******REMOVED***}
};
const***REMOVED***normalizePlacement***REMOVED***=***REMOVED***(normalized)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!normalized.placement***REMOVED***&&***REMOVED***isString(messageConfig.placement)***REMOVED***&&***REMOVED***messageConfig.placement)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.placement***REMOVED***=***REMOVED***messageConfig.placement;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(!normalized.placement)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.placement***REMOVED***=***REMOVED***MESSAGE_DEFAULT_PLACEMENT;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(!messagePlacement.includes(normalized.placement))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***debugWarn("ElMessage",***REMOVED***`Invalid***REMOVED***placement:***REMOVED***${normalized.placement}.***REMOVED***Falling***REMOVED***back***REMOVED***to***REMOVED***'${MESSAGE_DEFAULT_PLACEMENT}'.`);
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.placement***REMOVED***=***REMOVED***MESSAGE_DEFAULT_PLACEMENT;
***REMOVED******REMOVED***}
};
const***REMOVED***normalizeOptions***REMOVED***=***REMOVED***(params)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***options***REMOVED***=***REMOVED***!params***REMOVED***||***REMOVED***isString(params)***REMOVED***||***REMOVED***isVNode(params)***REMOVED***||***REMOVED***isFunction(params)***REMOVED***?***REMOVED***{***REMOVED***message:***REMOVED***params***REMOVED***}***REMOVED***:***REMOVED***params;
***REMOVED******REMOVED***const***REMOVED***normalized***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***...messageDefaults,
***REMOVED******REMOVED******REMOVED******REMOVED***...options
***REMOVED******REMOVED***};
***REMOVED******REMOVED***normalizeAppendTo(normalized);
***REMOVED******REMOVED***normalizePlacement(normalized);
***REMOVED******REMOVED***if***REMOVED***(isBoolean(messageConfig.grouping)***REMOVED***&&***REMOVED***!normalized.grouping)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.grouping***REMOVED***=***REMOVED***messageConfig.grouping;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(isNumber(messageConfig.duration)***REMOVED***&&***REMOVED***normalized.duration***REMOVED***===***REMOVED***3e3)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.duration***REMOVED***=***REMOVED***messageConfig.duration;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(isNumber(messageConfig.offset)***REMOVED***&&***REMOVED***normalized.offset***REMOVED***===***REMOVED***16)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.offset***REMOVED***=***REMOVED***messageConfig.offset;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(isBoolean(messageConfig.showClose)***REMOVED***&&***REMOVED***!normalized.showClose)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.showClose***REMOVED***=***REMOVED***messageConfig.showClose;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(isBoolean(messageConfig.plain)***REMOVED***&&***REMOVED***!normalized.plain)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***normalized.plain***REMOVED***=***REMOVED***messageConfig.plain;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***normalized;
};
const***REMOVED***closeMessage***REMOVED***=***REMOVED***(instance)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***placement***REMOVED***=***REMOVED***instance.props.placement***REMOVED***||***REMOVED***MESSAGE_DEFAULT_PLACEMENT;
***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***placementInstances[placement];
***REMOVED******REMOVED***const***REMOVED***idx***REMOVED***=***REMOVED***instances.indexOf(instance);
***REMOVED******REMOVED***if***REMOVED***(idx***REMOVED***===***REMOVED***-1)
***REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED***instances.splice(idx,***REMOVED***1);
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***handler***REMOVED***}***REMOVED***=***REMOVED***instance;
***REMOVED******REMOVED***handler.close();
};
const***REMOVED***createMessage***REMOVED***=***REMOVED***({***REMOVED***appendTo,***REMOVED***...options***REMOVED***},***REMOVED***context)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***id***REMOVED***=***REMOVED***`message_${seed++}`;
***REMOVED******REMOVED***const***REMOVED***userOnClose***REMOVED***=***REMOVED***options.onClose;
***REMOVED******REMOVED***const***REMOVED***container***REMOVED***=***REMOVED***document.createElement("div");
***REMOVED******REMOVED***const***REMOVED***props***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***...options,
***REMOVED******REMOVED******REMOVED******REMOVED***id,
***REMOVED******REMOVED******REMOVED******REMOVED***onClose:***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***userOnClose***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***userOnClose();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***closeMessage(instance);
***REMOVED******REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED***onDestroy:***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***render(null,***REMOVED***container);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***vnode***REMOVED***=***REMOVED***createVNode(MessageConstructor,***REMOVED***props,***REMOVED***isFunction(props.message)***REMOVED***||***REMOVED***isVNode(props.message)***REMOVED***?***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***isFunction(props.message)***REMOVED***?***REMOVED***props.message***REMOVED***:***REMOVED***()***REMOVED***=>***REMOVED***props.message
***REMOVED******REMOVED***}***REMOVED***:***REMOVED***null);
***REMOVED******REMOVED***vnode.appContext***REMOVED***=***REMOVED***context***REMOVED***||***REMOVED***message._context;
***REMOVED******REMOVED***render(vnode,***REMOVED***container);
***REMOVED******REMOVED***appendTo.appendChild(container.firstElementChild);
***REMOVED******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***vnode.component;
***REMOVED******REMOVED***const***REMOVED***handler***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***close:***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***vm.exposed.close();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***id,
***REMOVED******REMOVED******REMOVED******REMOVED***vnode,
***REMOVED******REMOVED******REMOVED******REMOVED***vm,
***REMOVED******REMOVED******REMOVED******REMOVED***handler,
***REMOVED******REMOVED******REMOVED******REMOVED***props:***REMOVED***vnode.component.props
***REMOVED******REMOVED***};
***REMOVED******REMOVED***return***REMOVED***instance;
};
const***REMOVED***message***REMOVED***=***REMOVED***(options***REMOVED***=***REMOVED***{},***REMOVED***context)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!isClient)
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{***REMOVED***close:***REMOVED***()***REMOVED***=>***REMOVED***void***REMOVED***0***REMOVED***};
***REMOVED******REMOVED***const***REMOVED***normalized***REMOVED***=***REMOVED***normalizeOptions(options);
***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***getOrCreatePlacementInstances(normalized.placement***REMOVED***||***REMOVED***MESSAGE_DEFAULT_PLACEMENT);
***REMOVED******REMOVED***if***REMOVED***(normalized.grouping***REMOVED***&&***REMOVED***instances.length)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***instance2***REMOVED***=***REMOVED***instances.find(({***REMOVED***vnode:***REMOVED***vm***REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***((_a***REMOVED***=***REMOVED***vm.props)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.message)***REMOVED***===***REMOVED***normalized.message;
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(instance2)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance2.props.repeatNum***REMOVED***+=***REMOVED***1;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance2.props.type***REMOVED***=***REMOVED***normalized.type;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***instance2.handler;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(isNumber(messageConfig.max)***REMOVED***&&***REMOVED***instances.length***REMOVED***>=***REMOVED***messageConfig.max)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{***REMOVED***close:***REMOVED***()***REMOVED***=>***REMOVED***void***REMOVED***0***REMOVED***};
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***createMessage(normalized,***REMOVED***context);
***REMOVED******REMOVED***instances.push(instance);
***REMOVED******REMOVED***return***REMOVED***instance.handler;
};
messageTypes.forEach((type)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***message[type]***REMOVED***=***REMOVED***(options***REMOVED***=***REMOVED***{},***REMOVED***appContext)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***normalized***REMOVED***=***REMOVED***normalizeOptions(options);
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***message({***REMOVED***...normalized,***REMOVED***type***REMOVED***},***REMOVED***appContext);
***REMOVED******REMOVED***};
});
function***REMOVED***closeAll(type)***REMOVED***{
***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***placement***REMOVED***in***REMOVED***placementInstances)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(placementInstances,***REMOVED***placement))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***[...placementInstances[placement]];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(const***REMOVED***instance***REMOVED***of***REMOVED***instances)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!type***REMOVED***||***REMOVED***type***REMOVED***===***REMOVED***instance.props.type)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.handler.close();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
}
function***REMOVED***closeAllByPlacement(placement)***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!placementInstances[placement])
***REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***[...placementInstances[placement]];
***REMOVED******REMOVED***instances.forEach((instance)***REMOVED***=>***REMOVED***instance.handler.close());
}
message.closeAll***REMOVED***=***REMOVED***closeAll;
message.closeAllByPlacement***REMOVED***=***REMOVED***closeAllByPlacement;
message._context***REMOVED***=***REMOVED***null;

export***REMOVED***{***REMOVED***closeAll,***REMOVED***closeAllByPlacement,***REMOVED***message***REMOVED***as***REMOVED***default***REMOVED***};
//#***REMOVED***sourceMappingURL=method.mjs.map
