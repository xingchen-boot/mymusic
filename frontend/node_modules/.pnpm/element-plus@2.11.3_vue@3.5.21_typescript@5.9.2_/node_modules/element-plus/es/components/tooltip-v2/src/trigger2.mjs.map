{"version":3,"file":"trigger2.mjs","sources":["../../../../../../packages/components/tooltip-v2/src/trigger.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<forward-ref***REMOVED***v-if=\"nowrap\"***REMOVED***:set-ref=\"setTriggerRef\"***REMOVED***only-child>\n***REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***/>\n***REMOVED******REMOVED***</forward-ref>\n***REMOVED******REMOVED***<button***REMOVED***v-else***REMOVED***ref=\"triggerRef\"***REMOVED***v-bind=\"$attrs\">\n***REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***/>\n***REMOVED******REMOVED***</button>\n</template>\n\n<script***REMOVED***setup***REMOVED***lang=\"ts\">\nimport***REMOVED***{***REMOVED***inject,***REMOVED***onBeforeUnmount,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***composeEventHandlers***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***tooltipV2RootKey***REMOVED***}***REMOVED***from***REMOVED***'./constants'\nimport***REMOVED***ForwardRef***REMOVED***from***REMOVED***'./forward-ref'\nimport***REMOVED***{***REMOVED***tooltipV2TriggerProps***REMOVED***}***REMOVED***from***REMOVED***'./trigger'\nimport***REMOVED***{***REMOVED***tooltipV2CommonProps***REMOVED***}***REMOVED***from***REMOVED***'./common'\n\ndefineOptions({\n***REMOVED******REMOVED***name:***REMOVED***'ElTooltipV2Trigger',\n})\n\nconst***REMOVED***props***REMOVED***=***REMOVED***defineProps({\n***REMOVED******REMOVED***...tooltipV2CommonProps,\n***REMOVED******REMOVED***...tooltipV2TriggerProps,\n})\n\n/**\n***REMOVED*******REMOVED***onOpen***REMOVED***opens***REMOVED***the***REMOVED***tooltip***REMOVED***instantly,***REMOVED***onTrigger***REMOVED***acts***REMOVED***a***REMOVED***lil***REMOVED***bit***REMOVED***differently,\n***REMOVED*******REMOVED***it***REMOVED***will***REMOVED***check***REMOVED***if***REMOVED***delayDuration***REMOVED***is***REMOVED***set***REMOVED***to***REMOVED***greater***REMOVED***than***REMOVED***0***REMOVED***and***REMOVED***based***REMOVED***on***REMOVED***that***REMOVED***result,\n***REMOVED*******REMOVED***if***REMOVED***true,***REMOVED***it***REMOVED***opens***REMOVED***the***REMOVED***tooltip***REMOVED***after***REMOVED***delayDuration,***REMOVED***otherwise***REMOVED***it***REMOVED***opens***REMOVED***it***REMOVED***instantly.\n***REMOVED****/\nconst***REMOVED***{***REMOVED***onClose,***REMOVED***onOpen,***REMOVED***onDelayOpen,***REMOVED***triggerRef,***REMOVED***contentId***REMOVED***}***REMOVED***=\n***REMOVED******REMOVED***inject(tooltipV2RootKey)!\n\nlet***REMOVED***isMousedown***REMOVED***=***REMOVED***false\n\nconst***REMOVED***setTriggerRef***REMOVED***=***REMOVED***(el:***REMOVED***HTMLElement***REMOVED***|***REMOVED***null)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***triggerRef.value***REMOVED***=***REMOVED***el\n}\n\nconst***REMOVED***onMouseup***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***isMousedown***REMOVED***=***REMOVED***false\n}\n\nconst***REMOVED***onMouseenter***REMOVED***=***REMOVED***composeEventHandlers(props.onMouseEnter,***REMOVED***onDelayOpen)\n\nconst***REMOVED***onMouseleave***REMOVED***=***REMOVED***composeEventHandlers(props.onMouseLeave,***REMOVED***onClose)\n\nconst***REMOVED***onMousedown***REMOVED***=***REMOVED***composeEventHandlers(props.onMouseDown,***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***onClose()\n***REMOVED******REMOVED***isMousedown***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED***document.addEventListener('mouseup',***REMOVED***onMouseup,***REMOVED***{***REMOVED***once:***REMOVED***true***REMOVED***})\n})\n\nconst***REMOVED***onFocus***REMOVED***=***REMOVED***composeEventHandlers(props.onFocus,***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isMousedown)***REMOVED***onOpen()\n})\n\nconst***REMOVED***onBlur***REMOVED***=***REMOVED***composeEventHandlers(props.onBlur,***REMOVED***onClose)\n\nconst***REMOVED***onClick***REMOVED***=***REMOVED***composeEventHandlers(props.onClick,***REMOVED***(e)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***((e***REMOVED***as***REMOVED***MouseEvent).detail***REMOVED***===***REMOVED***0)***REMOVED***onClose()\n})\n\nconst***REMOVED***events***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***blur:***REMOVED***onBlur,\n***REMOVED******REMOVED***click:***REMOVED***onClick,\n***REMOVED******REMOVED***focus:***REMOVED***onFocus,\n***REMOVED******REMOVED***mousedown:***REMOVED***onMousedown,\n***REMOVED******REMOVED***mouseenter:***REMOVED***onMouseenter,\n***REMOVED******REMOVED***mouseleave:***REMOVED***onMouseleave,\n}\n\nconst***REMOVED***setEvents***REMOVED***=***REMOVED***<T***REMOVED***extends***REMOVED***(e:***REMOVED***Event)***REMOVED***=>***REMOVED***void>(\n***REMOVED******REMOVED***el:***REMOVED***HTMLElement***REMOVED***|***REMOVED***null***REMOVED***|***REMOVED***undefined,\n***REMOVED******REMOVED***events:***REMOVED***Record<string,***REMOVED***T>,\n***REMOVED******REMOVED***type:***REMOVED***'addEventListener'***REMOVED***|***REMOVED***'removeEventListener'\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(el)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***Object.entries(events).forEach(([name,***REMOVED***handler])***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***el[type](name,***REMOVED***handler)\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED***}\n}\n\nwatch(triggerRef,***REMOVED***(triggerEl,***REMOVED***previousTriggerEl)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***setEvents(triggerEl,***REMOVED***events,***REMOVED***'addEventListener')\n***REMOVED******REMOVED***setEvents(previousTriggerEl,***REMOVED***events,***REMOVED***'removeEventListener')\n\n***REMOVED******REMOVED***if***REMOVED***(triggerEl)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***triggerEl.setAttribute('aria-describedby',***REMOVED***contentId.value)\n***REMOVED******REMOVED***}\n})\n\nonBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***setEvents(triggerRef.value,***REMOVED***events,***REMOVED***'removeEventListener')\n***REMOVED******REMOVED***document.removeEventListener('mouseup',***REMOVED***onMouseup)\n})\n</script>\n"],"names":["events"],"mappings":";;;;;;;;mCAiBc,CAAA;AAAA,EACZ,IAAM,EAAA,oBAAA;AACR,CAAA,CAAA,CAAA;;;;;;;;;AAYA,IAAM,MAAA,EAAE,SAAS,MAAQ,EAAA,WAAA,EAAa,YAAY,SAAU,EAAA,GAC1D,OAAO,gBAAgB,CAAA,CAAA;AAEzB,IAAA,IAAI,WAAc,GAAA,KAAA,CAAA;AAElB,IAAM,MAAA,aAAA,GAAgB,CAAC,EAA2B,KAAA;AAChD,MAAA,UAAA,CAAW,KAAQ,GAAA,EAAA,CAAA;AAAA,KACrB,CAAA;AAEA,IAAA,MAAM,YAAY,MAAM;AACtB,MAAc,WAAA,GAAA,KAAA,CAAA;AAAA,KAChB,CAAA;AAEA,IAAA,MAAM,YAAe,GAAA,oBAAA,CAAqB,KAAM,CAAA,YAAA,EAAc,WAAW,CAAA,CAAA;AAEzE,IAAA,MAAM,YAAe,GAAA,oBAAA,CAAqB,KAAM,CAAA,YAAA,EAAc,OAAO,CAAA,CAAA;AAErE,IAAA,MAAM,WAAc,GAAA,oBAAA,CAAqB,KAAM,CAAA,WAAA,EAAa,MAAM;AAChE,MAAQ,OAAA,EAAA,CAAA;AACR,MAAc,WAAA,GAAA,IAAA,CAAA;AACd,MAAA,QAAA,CAAS,iBAAiB,SAAW,EAAA,SAAA,EAAW,EAAE,IAAA,EAAM,MAAM,CAAA,CAAA;AAAA,KAC/D,CAAA,CAAA;AAED,IAAA,MAAM,OAAU,GAAA,oBAAA,CAAqB,KAAM,CAAA,OAAA,EAAS,MAAM;AACxD,MAAI,IAAA,CAAC;AAAoB,QAC1B,MAAA,EAAA,CAAA;AAED,KAAA,CAAA,CAAA;AAEA,IAAA,MAAM,MAAU,GAAA,oBAAA,CAAA,KAA2B,CAAA,MAAA,EAAA,OAAgB,CAAA,CAAA;AACzD,IAAK,MAAA,OAA4B,GAAA,oBAAW,CAAA,KAAA,CAAA,OAAA,EAAA,CAAA,CAAA,KAAA;AAAA,MAC7C,IAAA,CAAA,CAAA,MAAA,KAAA,CAAA;AAED,QAAA,OAAe,EAAA,CAAA;AAAA,KAAA,CACb,CAAM;AAAA,IAAA,MACC,MAAA,GAAA;AAAA,MACP,IAAO,EAAA,MAAA;AAAA,MACP,KAAW,EAAA,OAAA;AAAA,MACX,KAAY,EAAA,OAAA;AAAA,MACZ,SAAY,EAAA,WAAA;AAAA,MACd,UAAA,EAAA,YAAA;AAEA,MAAA,UAAkB,EAAA,YAEhBA;AAGA,KAAA,CAAA;AACE,IAAO,MAAA,SAAA,GAAA,CAAQA,WAAQ,EAAA,IAAQ,KAAE;AAC/B,MAAG,IAAA,EAAA,EAAA;AAAmB,QACxB,MAAC,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA,OAAA,CAAA,CAAA,CAAA,IAAA,EAAA,OAAA,CAAA,KAAA;AAAA,UACH,EAAA,CAAA,IAAA,CAAA,CAAA,IAAA,EAAA,OAAA,CAAA,CAAA;AAAA,SACF,CAAA,CAAA;AAEA,OAAM;AACJ,KAAU,CAAA;AACV,IAAU,KAAA,CAAA,UAAA,EAAA,CAAA,SAAA,EAAA,iBAAgD,KAAA;AAE1D,MAAA,SAAe,CAAA,SAAA,EAAA,MAAA,EAAA,kBAAA,CAAA,CAAA;AACb,MAAU,SAAA,CAAA,iBAAiC,EAAA,MAAA,EAAA,qBAAe,CAAA,CAAA;AAAA,MAC5D,IAAA,SAAA,EAAA;AAAA,QACD,SAAA,CAAA,YAAA,CAAA,kBAAA,EAAA,SAAA,CAAA,KAAA,CAAA,CAAA;AAED,OAAA;AACE,KAAU,CAAA,CAAA;AACV,IAAS,eAAA,CAAA,MAAA;AAAwC,MAClD,SAAA,CAAA,UAAA,CAAA,KAAA,EAAA,MAAA,EAAA,qBAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;"}