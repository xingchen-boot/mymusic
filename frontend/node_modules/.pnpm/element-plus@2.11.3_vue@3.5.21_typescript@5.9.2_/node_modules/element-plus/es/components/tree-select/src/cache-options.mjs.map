{"version":3,"file":"cache-options.mjs","sources":["../../../../../../packages/components/tree-select/src/cache-options.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***defineComponent,***REMOVED***inject,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***selectKey***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/select'\nimport***REMOVED***{***REMOVED***isClient***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***SelectContext***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/select'\nimport***REMOVED***type***REMOVED***{***REMOVED***PropType***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\n//***REMOVED***same***REMOVED***as***REMOVED***el-option***REMOVED***instance,\n//***REMOVED***these***REMOVED***are***REMOVED***required***REMOVED***for***REMOVED***`cachedOptions`\nexport***REMOVED***type***REMOVED***CacheOption***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***value:***REMOVED***string***REMOVED***|***REMOVED***number***REMOVED***|***REMOVED***boolean***REMOVED***|***REMOVED***object\n***REMOVED******REMOVED***currentLabel:***REMOVED***string***REMOVED***|***REMOVED***number\n***REMOVED******REMOVED***isDisabled:***REMOVED***boolean\n}\n\nexport***REMOVED***default***REMOVED***defineComponent({\n***REMOVED******REMOVED***props:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***data:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***Array***REMOVED***as***REMOVED***PropType<CacheOption[]>,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***()***REMOVED***=>***REMOVED***[],\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED***},\n***REMOVED******REMOVED***setup(props)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***select***REMOVED***=***REMOVED***inject(selectKey)***REMOVED***as***REMOVED***NonNullable<SelectContext>\n\n***REMOVED******REMOVED******REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.data,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.data.forEach((item)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!select.states.cachedOptions.has(item.value))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***TODO:***REMOVED***the***REMOVED***type***REMOVED***of***REMOVED***'item'***REMOVED***is***REMOVED***not***REMOVED***compatible***REMOVED***with***REMOVED***the***REMOVED***type***REMOVED***of***REMOVED***'cachedOptions',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***which***REMOVED***may***REMOVED***indicate***REMOVED***potential***REMOVED***runtime***REMOVED***issues.\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***@ts-expect-error\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***select.states.cachedOptions.set(item.value,***REMOVED***item)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***fork***REMOVED***from***REMOVED***packages/select/src/useSelect.ts#330\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***inputs***REMOVED***=***REMOVED***select.selectRef?.querySelectorAll('input')***REMOVED***||***REMOVED***[]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isClient***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***!Array.from(inputs).includes(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.activeElement***REMOVED***as***REMOVED***HTMLInputElement\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***select.setSelected()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***flush:***REMOVED***'post',***REMOVED***immediate:***REMOVED***true***REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***()***REMOVED***=>***REMOVED***undefined\n***REMOVED******REMOVED***},\n})\n"],"names":[],"mappings":";;;;AAGA,mBAAe,eAAe,CAAC;AAC/B,EAAE,KAAK,EAAE;AACT,IAAI,IAAI,EAAE;AACV,MAAM,IAAI,EAAE,KAAK;AACjB,MAAM,OAAO,EAAE,MAAM,EAAE;AACvB,KAAK;AACL,GAAG;AACH,EAAE,KAAK,CAAC,KAAK,EAAE;AACf,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AACrC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,EAAE,MAAM;AAClC,MAAM,IAAI,EAAE,CAAC;AACb,MAAM,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AACnC,QAAQ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AAC1D,UAAU,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAC5D,SAAS;AACT,OAAO,CAAC,CAAC;AACT,MAAM,MAAM,MAAM,GAAG,CAAC,CAAC,EAAE,GAAG,MAAM,CAAC,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;AACrG,MAAM,IAAI,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;AAC5E,QAAQ,MAAM,CAAC,WAAW,EAAE,CAAC;AAC7B,OAAO;AACP,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3C,IAAI,OAAO,MAAM,KAAK,CAAC,CAAC;AACxB,GAAG;AACH,CAAC,CAAC;;;;"}