{"version":3,"file":"fixed-size-list.mjs","sources":["../../../../../../../packages/components/virtual-list/src/components/fixed-size-list.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***isString,***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***buildList***REMOVED***from***REMOVED***'../builders/build-list'\nimport***REMOVED***{***REMOVED***isHorizontal***REMOVED***}***REMOVED***from***REMOVED***'../utils'\nimport***REMOVED***{\n***REMOVED******REMOVED***AUTO_ALIGNMENT,\n***REMOVED******REMOVED***CENTERED_ALIGNMENT,\n***REMOVED******REMOVED***END_ALIGNMENT,\n***REMOVED******REMOVED***SMART_ALIGNMENT,\n***REMOVED******REMOVED***START_ALIGNMENT,\n}***REMOVED***from***REMOVED***'../defaults'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***VirtualizedListProps***REMOVED***}***REMOVED***from***REMOVED***'../props'\n\ntype***REMOVED***Props***REMOVED***=***REMOVED***VirtualizedListProps\n\nconst***REMOVED***FixedSizeList***REMOVED***=***REMOVED***buildList({\n***REMOVED******REMOVED***name:***REMOVED***'ElFixedSizeList',\n***REMOVED******REMOVED***getItemOffset:***REMOVED***({***REMOVED***itemSize***REMOVED***},***REMOVED***index)***REMOVED***=>***REMOVED***index***REMOVED*******REMOVED***(itemSize***REMOVED***as***REMOVED***number),\n\n***REMOVED******REMOVED***getItemSize:***REMOVED***({***REMOVED***itemSize***REMOVED***})***REMOVED***=>***REMOVED***itemSize***REMOVED***as***REMOVED***number,\n\n***REMOVED******REMOVED***getEstimatedTotalSize:***REMOVED***({***REMOVED***total,***REMOVED***itemSize***REMOVED***})***REMOVED***=>***REMOVED***(itemSize***REMOVED***as***REMOVED***number)***REMOVED*******REMOVED***total,\n\n***REMOVED******REMOVED***getOffset:***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***height,***REMOVED***total,***REMOVED***itemSize,***REMOVED***layout,***REMOVED***width***REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***index,\n***REMOVED******REMOVED******REMOVED******REMOVED***alignment,\n***REMOVED******REMOVED******REMOVED******REMOVED***scrollOffset\n***REMOVED******REMOVED***)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***size***REMOVED***=***REMOVED***(isHorizontal(layout)***REMOVED***?***REMOVED***width***REMOVED***:***REMOVED***height)***REMOVED***as***REMOVED***number\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(process.env.NODE_ENV***REMOVED***!==***REMOVED***'production'***REMOVED***&&***REMOVED***isString(size))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throwError(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'[ElVirtualList]',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***`\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***You***REMOVED***should***REMOVED***set\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***width/height\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***to***REMOVED***number***REMOVED***when***REMOVED***your***REMOVED***layout***REMOVED***is\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***horizontal/vertical\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***`\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***lastItemOffset***REMOVED***=***REMOVED***Math.max(0,***REMOVED***total***REMOVED*******REMOVED***(itemSize***REMOVED***as***REMOVED***number)***REMOVED***-***REMOVED***size)\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***maxOffset***REMOVED***=***REMOVED***Math.min(lastItemOffset,***REMOVED***index***REMOVED*******REMOVED***(itemSize***REMOVED***as***REMOVED***number))\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***minOffset***REMOVED***=***REMOVED***Math.max(0,***REMOVED***(index***REMOVED***+***REMOVED***1)***REMOVED*******REMOVED***(itemSize***REMOVED***as***REMOVED***number)***REMOVED***-***REMOVED***size)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(alignment***REMOVED***===***REMOVED***SMART_ALIGNMENT)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scrollOffset***REMOVED***>=***REMOVED***minOffset***REMOVED***-***REMOVED***size***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scrollOffset***REMOVED***<=***REMOVED***maxOffset***REMOVED***+***REMOVED***size\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***alignment***REMOVED***=***REMOVED***AUTO_ALIGNMENT\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***alignment***REMOVED***=***REMOVED***CENTERED_ALIGNMENT\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***switch***REMOVED***(alignment)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***START_ALIGNMENT:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***maxOffset\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***END_ALIGNMENT:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***minOffset\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***CENTERED_ALIGNMENT:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***\"Centered\"***REMOVED***offset***REMOVED***is***REMOVED***usually***REMOVED***the***REMOVED***average***REMOVED***of***REMOVED***the***REMOVED***min***REMOVED***and***REMOVED***max.\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***But***REMOVED***near***REMOVED***the***REMOVED***edges***REMOVED***of***REMOVED***the***REMOVED***list,***REMOVED***this***REMOVED***doesn't***REMOVED***hold***REMOVED***true.\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***middleOffset***REMOVED***=***REMOVED***Math.round(minOffset***REMOVED***+***REMOVED***(maxOffset***REMOVED***-***REMOVED***minOffset)***REMOVED***/***REMOVED***2)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(middleOffset***REMOVED***<***REMOVED***Math.ceil(size***REMOVED***/***REMOVED***2))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***0***REMOVED***//***REMOVED***near***REMOVED***the***REMOVED***beginning\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(middleOffset***REMOVED***>***REMOVED***lastItemOffset***REMOVED***+***REMOVED***Math.floor(size***REMOVED***/***REMOVED***2))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***lastItemOffset***REMOVED***//***REMOVED***near***REMOVED***the***REMOVED***end\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***middleOffset\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***AUTO_ALIGNMENT:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(scrollOffset***REMOVED***>=***REMOVED***minOffset***REMOVED***&&***REMOVED***scrollOffset***REMOVED***<=***REMOVED***maxOffset)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***scrollOffset\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(scrollOffset***REMOVED***<***REMOVED***minOffset)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***minOffset\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***maxOffset\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***},\n\n***REMOVED******REMOVED***getStartIndexForOffset:***REMOVED***({***REMOVED***total,***REMOVED***itemSize***REMOVED***},***REMOVED***offset)***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED***Math.max(0,***REMOVED***Math.min(total***REMOVED***-***REMOVED***1,***REMOVED***Math.floor(offset***REMOVED***/***REMOVED***(itemSize***REMOVED***as***REMOVED***number)))),\n\n***REMOVED******REMOVED***getStopIndexForStartIndex:***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***height,***REMOVED***total,***REMOVED***itemSize,***REMOVED***layout,***REMOVED***width***REMOVED***}:***REMOVED***Props,\n***REMOVED******REMOVED******REMOVED******REMOVED***startIndex:***REMOVED***number,\n***REMOVED******REMOVED******REMOVED******REMOVED***scrollOffset:***REMOVED***number\n***REMOVED******REMOVED***)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***offset***REMOVED***=***REMOVED***startIndex***REMOVED*******REMOVED***(itemSize***REMOVED***as***REMOVED***number)\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***size***REMOVED***=***REMOVED***isHorizontal(layout)***REMOVED***?***REMOVED***width***REMOVED***:***REMOVED***height\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***numVisibleItems***REMOVED***=***REMOVED***Math.ceil(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***((size***REMOVED***as***REMOVED***number)***REMOVED***+***REMOVED***scrollOffset***REMOVED***-***REMOVED***offset)***REMOVED***/***REMOVED***(itemSize***REMOVED***as***REMOVED***number)\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Math.max(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***0,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***Math.min(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***total***REMOVED***-***REMOVED***1,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***because***REMOVED***startIndex***REMOVED***is***REMOVED***inclusive,***REMOVED***so***REMOVED***in***REMOVED***order***REMOVED***to***REMOVED***prevent***REMOVED***array***REMOVED***outbound***REMOVED***indexing\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***we***REMOVED***need***REMOVED***to***REMOVED***-***REMOVED***1***REMOVED***to***REMOVED***prevent***REMOVED***outbound***REMOVED***behavior\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startIndex***REMOVED***+***REMOVED***numVisibleItems***REMOVED***-***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED***},\n\n***REMOVED******REMOVED***/**\n***REMOVED******REMOVED******REMOVED*******REMOVED***Fixed***REMOVED***size***REMOVED***list***REMOVED***does***REMOVED***not***REMOVED***need***REMOVED***this***REMOVED***cache\n***REMOVED******REMOVED******REMOVED*******REMOVED***Using***REMOVED***any***REMOVED***to***REMOVED***bypass***REMOVED***it,***REMOVED***TODO:***REMOVED***Using***REMOVED***type***REMOVED***inference***REMOVED***to***REMOVED***fix***REMOVED***this.\n***REMOVED******REMOVED******REMOVED****/\n***REMOVED******REMOVED***initCache()***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***undefined***REMOVED***as***REMOVED***any\n***REMOVED******REMOVED***},\n\n***REMOVED******REMOVED***clearCache:***REMOVED***true,\n\n***REMOVED******REMOVED***validateProps()***REMOVED***{},\n})\n\nexport***REMOVED***type***REMOVED***FixedSizeListInstance***REMOVED***=***REMOVED***InstanceType<typeof***REMOVED***FixedSizeList>***REMOVED***&***REMOVED***unknown\nexport***REMOVED***default***REMOVED***FixedSizeList\n"],"names":["buildList"],"mappings":"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"}