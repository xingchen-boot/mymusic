import***REMOVED***{***REMOVED***computed,***REMOVED***unref***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***SortOrder,***REMOVED***oppositeOrderMap***REMOVED***}***REMOVED***from***REMOVED***'../constants.mjs';
import***REMOVED***{***REMOVED***placeholderSign***REMOVED***}***REMOVED***from***REMOVED***'../private.mjs';
import***REMOVED***{***REMOVED***calcColumnStyle***REMOVED***}***REMOVED***from***REMOVED***'./utils.mjs';
import***REMOVED***{***REMOVED***isObject***REMOVED***}***REMOVED***from***REMOVED***'@vue/shared';

function***REMOVED***useColumns(props,***REMOVED***columns,***REMOVED***fixed)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***_columns***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(columns).map((column,***REMOVED***index)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...column,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***key:***REMOVED***(_b***REMOVED***=***REMOVED***(_a***REMOVED***=***REMOVED***column.key)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***column.dataKey)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_b***REMOVED***:***REMOVED***index
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED***}));
***REMOVED******REMOVED***const***REMOVED***visibleColumns***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***unref(_columns).filter((column)***REMOVED***=>***REMOVED***!column.hidden);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***fixedColumnsOnLeft***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(visibleColumns).filter((column)***REMOVED***=>***REMOVED***column.fixed***REMOVED***===***REMOVED***"left"***REMOVED***||***REMOVED***column.fixed***REMOVED***===***REMOVED***true));
***REMOVED******REMOVED***const***REMOVED***fixedColumnsOnRight***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(visibleColumns).filter((column)***REMOVED***=>***REMOVED***column.fixed***REMOVED***===***REMOVED***"right"));
***REMOVED******REMOVED***const***REMOVED***normalColumns***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***unref(visibleColumns).filter((column)***REMOVED***=>***REMOVED***!column.fixed));
***REMOVED******REMOVED***const***REMOVED***mainColumns***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***ret***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED***unref(fixedColumnsOnLeft).forEach((column)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ret.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...column,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***placeholderSign
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***unref(normalColumns).forEach((column)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ret.push(column);
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***unref(fixedColumnsOnRight).forEach((column)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ret.push({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***...column,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***placeholderSign
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***ret;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***hasFixedColumns***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***unref(fixedColumnsOnLeft).length***REMOVED***||***REMOVED***unref(fixedColumnsOnRight).length;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***columnsStyles***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***unref(_columns).reduce((style,***REMOVED***column)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***style[column.key]***REMOVED***=***REMOVED***calcColumnStyle(column,***REMOVED***unref(fixed),***REMOVED***props.fixed);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***style;
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***{});
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***columnsTotalWidth***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***unref(visibleColumns).reduce((width,***REMOVED***column)***REMOVED***=>***REMOVED***width***REMOVED***+***REMOVED***column.width,***REMOVED***0);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***getColumn***REMOVED***=***REMOVED***(key)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***unref(_columns).find((column)***REMOVED***=>***REMOVED***column.key***REMOVED***===***REMOVED***key);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***getColumnStyle***REMOVED***=***REMOVED***(key)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***unref(columnsStyles)[key];
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***updateColumnWidth***REMOVED***=***REMOVED***(column,***REMOVED***width)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***column.width***REMOVED***=***REMOVED***width;
***REMOVED******REMOVED***};
***REMOVED******REMOVED***function***REMOVED***onColumnSorted(e)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***key***REMOVED***}***REMOVED***=***REMOVED***e.currentTarget.dataset;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!key)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***sortState,***REMOVED***sortBy***REMOVED***}***REMOVED***=***REMOVED***props;
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***order***REMOVED***=***REMOVED***SortOrder.ASC;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isObject(sortState))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***order***REMOVED***=***REMOVED***oppositeOrderMap[sortState[key]];
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***order***REMOVED***=***REMOVED***oppositeOrderMap[sortBy.order];
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***(_a***REMOVED***=***REMOVED***props.onColumnSort)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.call(props,***REMOVED***{***REMOVED***column:***REMOVED***getColumn(key),***REMOVED***key,***REMOVED***order***REMOVED***});
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***columns:***REMOVED***_columns,
***REMOVED******REMOVED******REMOVED******REMOVED***columnsStyles,
***REMOVED******REMOVED******REMOVED******REMOVED***columnsTotalWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnLeft,
***REMOVED******REMOVED******REMOVED******REMOVED***fixedColumnsOnRight,
***REMOVED******REMOVED******REMOVED******REMOVED***hasFixedColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***mainColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***normalColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***visibleColumns,
***REMOVED******REMOVED******REMOVED******REMOVED***getColumn,
***REMOVED******REMOVED******REMOVED******REMOVED***getColumnStyle,
***REMOVED******REMOVED******REMOVED******REMOVED***updateColumnWidth,
***REMOVED******REMOVED******REMOVED******REMOVED***onColumnSorted
***REMOVED******REMOVED***};
}

export***REMOVED***{***REMOVED***useColumns***REMOVED***};
//#***REMOVED***sourceMappingURL=use-columns.mjs.map
