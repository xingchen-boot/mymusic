import***REMOVED***{***REMOVED***inject,***REMOVED***ref,***REMOVED***getCurrentInstance,***REMOVED***computed,***REMOVED***onMounted,***REMOVED***watch,***REMOVED***toRef,***REMOVED***onUnmounted***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***useId***REMOVED***}***REMOVED***from***REMOVED***'../../../../hooks/use-id/index.mjs';
import***REMOVED***{***REMOVED***formContextKey,***REMOVED***formItemContextKey***REMOVED***}***REMOVED***from***REMOVED***'../constants.mjs';

const***REMOVED***useFormItem***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***form***REMOVED***=***REMOVED***inject(formContextKey,***REMOVED***void***REMOVED***0);
***REMOVED******REMOVED***const***REMOVED***formItem***REMOVED***=***REMOVED***inject(formItemContextKey,***REMOVED***void***REMOVED***0);
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***form,
***REMOVED******REMOVED******REMOVED******REMOVED***formItem
***REMOVED******REMOVED***};
};
const***REMOVED***useFormItemInputId***REMOVED***=***REMOVED***(props,***REMOVED***{
***REMOVED******REMOVED***formItemContext,
***REMOVED******REMOVED***disableIdGeneration,
***REMOVED******REMOVED***disableIdManagement
})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(!disableIdGeneration)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***disableIdGeneration***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(!disableIdManagement)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***disableIdManagement***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***getCurrentInstance();
***REMOVED******REMOVED***const***REMOVED***inLabel***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***parent***REMOVED***=***REMOVED***instance***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***instance.parent;
***REMOVED******REMOVED******REMOVED******REMOVED***while***REMOVED***(parent)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parent.type.name***REMOVED***===***REMOVED***"ElFormItem")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parent.type.name***REMOVED***===***REMOVED***"ElLabelWrap")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parent***REMOVED***=***REMOVED***parent.parent;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false;
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***inputId***REMOVED***=***REMOVED***ref();
***REMOVED******REMOVED***let***REMOVED***idUnwatch***REMOVED***=***REMOVED***void***REMOVED***0;
***REMOVED******REMOVED***const***REMOVED***isLabeledByFormItem***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***!!(!(props.label***REMOVED***||***REMOVED***props.ariaLabel)***REMOVED***&&***REMOVED***formItemContext***REMOVED***&&***REMOVED***formItemContext.inputIds***REMOVED***&&***REMOVED***((_a***REMOVED***=***REMOVED***formItemContext.inputIds)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.length)***REMOVED***<=***REMOVED***1);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***idUnwatch***REMOVED***=***REMOVED***watch([toRef(props,***REMOVED***"id"),***REMOVED***disableIdGeneration],***REMOVED***([id,***REMOVED***disableIdGeneration2])***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***newId***REMOVED***=***REMOVED***id***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***id***REMOVED***:***REMOVED***!disableIdGeneration2***REMOVED***?***REMOVED***useId().value***REMOVED***:***REMOVED***void***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(newId***REMOVED***!==***REMOVED***inputId.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***((formItemContext***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***formItemContext.removeInputId)***REMOVED***&&***REMOVED***!inLabel())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId.value***REMOVED***&&***REMOVED***formItemContext.removeInputId(inputId.value);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!(disableIdManagement***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***disableIdManagement.value)***REMOVED***&&***REMOVED***!disableIdGeneration2***REMOVED***&&***REMOVED***newId)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***formItemContext.addInputId(newId);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId.value***REMOVED***=***REMOVED***newId;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***{***REMOVED***immediate:***REMOVED***true***REMOVED***});
***REMOVED******REMOVED***});
***REMOVED******REMOVED***onUnmounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***idUnwatch***REMOVED***&&***REMOVED***idUnwatch();
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(formItemContext***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***formItemContext.removeInputId)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***inputId.value***REMOVED***&&***REMOVED***formItemContext.removeInputId(inputId.value);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***isLabeledByFormItem,
***REMOVED******REMOVED******REMOVED******REMOVED***inputId
***REMOVED******REMOVED***};
};

export***REMOVED***{***REMOVED***useFormItem,***REMOVED***useFormItemInputId***REMOVED***};
//#***REMOVED***sourceMappingURL=use-form-item.mjs.map
