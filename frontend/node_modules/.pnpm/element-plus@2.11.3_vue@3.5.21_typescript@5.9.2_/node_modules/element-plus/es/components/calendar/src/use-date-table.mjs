import***REMOVED***{***REMOVED***computed***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***dayjs***REMOVED***from***REMOVED***'dayjs';
import***REMOVED***localeData***REMOVED***from***REMOVED***'dayjs/plugin/localeData.js';
import***REMOVED***{***REMOVED***getPrevMonthLastDays,***REMOVED***getMonthDays,***REMOVED***toNestedArr***REMOVED***}***REMOVED***from***REMOVED***'./date-table.mjs';
import***REMOVED***{***REMOVED***WEEK_DAYS***REMOVED***}***REMOVED***from***REMOVED***'../../../constants/date.mjs';
import***REMOVED***{***REMOVED***useLocale***REMOVED***}***REMOVED***from***REMOVED***'../../../hooks/use-locale/index.mjs';
import***REMOVED***{***REMOVED***rangeArr***REMOVED***}***REMOVED***from***REMOVED***'../../time-picker/src/utils.mjs';

const***REMOVED***useDateTable***REMOVED***=***REMOVED***(props,***REMOVED***emit)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***dayjs.extend(localeData);
***REMOVED******REMOVED***const***REMOVED***firstDayOfWeek***REMOVED***=***REMOVED***dayjs.localeData().firstDayOfWeek();
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***t,***REMOVED***lang***REMOVED***}***REMOVED***=***REMOVED***useLocale();
***REMOVED******REMOVED***const***REMOVED***now***REMOVED***=***REMOVED***dayjs().locale(lang.value);
***REMOVED******REMOVED***const***REMOVED***isInRange***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***!!props.range***REMOVED***&&***REMOVED***!!props.range.length);
***REMOVED******REMOVED***const***REMOVED***rows***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***days***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isInRange.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***[start,***REMOVED***end]***REMOVED***=***REMOVED***props.range;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentMonthRange***REMOVED***=***REMOVED***rangeArr(end.date()***REMOVED***-***REMOVED***start.date()***REMOVED***+***REMOVED***1).map((index)***REMOVED***=>***REMOVED***({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***start.date()***REMOVED***+***REMOVED***index,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"current"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***remaining***REMOVED***=***REMOVED***currentMonthRange.length***REMOVED***%***REMOVED***7;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***remaining***REMOVED***=***REMOVED***remaining***REMOVED***===***REMOVED***0***REMOVED***?***REMOVED***0***REMOVED***:***REMOVED***7***REMOVED***-***REMOVED***remaining;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***nextMonthRange***REMOVED***=***REMOVED***rangeArr(remaining).map((_,***REMOVED***index)***REMOVED***=>***REMOVED***({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***index***REMOVED***+***REMOVED***1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"next"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***days***REMOVED***=***REMOVED***currentMonthRange.concat(nextMonthRange);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***firstDay***REMOVED***=***REMOVED***props.date.startOf("month").day();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***prevMonthDays***REMOVED***=***REMOVED***getPrevMonthLastDays(props.date,***REMOVED***(firstDay***REMOVED***-***REMOVED***firstDayOfWeek***REMOVED***+***REMOVED***7)***REMOVED***%***REMOVED***7).map((day)***REMOVED***=>***REMOVED***({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***day,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"prev"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentMonthDays***REMOVED***=***REMOVED***getMonthDays(props.date).map((day)***REMOVED***=>***REMOVED***({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***day,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"current"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***days***REMOVED***=***REMOVED***[...prevMonthDays,***REMOVED***...currentMonthDays];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***remaining***REMOVED***=***REMOVED***7***REMOVED***-***REMOVED***(days.length***REMOVED***%***REMOVED***7***REMOVED***||***REMOVED***7);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***nextMonthDays***REMOVED***=***REMOVED***rangeArr(remaining).map((_,***REMOVED***index)***REMOVED***=>***REMOVED***({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***text:***REMOVED***index***REMOVED***+***REMOVED***1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***"next"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}));
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***days***REMOVED***=***REMOVED***days.concat(nextMonthDays);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***toNestedArr(days);
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***weekDays***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***start***REMOVED***=***REMOVED***firstDayOfWeek;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(start***REMOVED***===***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***WEEK_DAYS.map((_)***REMOVED***=>***REMOVED***t(`el.datepicker.weeks.${_}`));
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***WEEK_DAYS.slice(start).concat(WEEK_DAYS.slice(0,***REMOVED***start)).map((_)***REMOVED***=>***REMOVED***t(`el.datepicker.weeks.${_}`));
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***getFormattedDate***REMOVED***=***REMOVED***(day,***REMOVED***type)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***switch***REMOVED***(type)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***"prev":
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.date.startOf("month").subtract(1,***REMOVED***"month").date(day);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***"next":
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.date.startOf("month").add(1,***REMOVED***"month").date(day);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***"current":
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.date.date(day);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***handlePickDay***REMOVED***=***REMOVED***({***REMOVED***text,***REMOVED***type***REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***date***REMOVED***=***REMOVED***getFormattedDate(text,***REMOVED***type);
***REMOVED******REMOVED******REMOVED******REMOVED***emit("pick",***REMOVED***date);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***getSlotData***REMOVED***=***REMOVED***({***REMOVED***text,***REMOVED***type***REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***day***REMOVED***=***REMOVED***getFormattedDate(text,***REMOVED***type);
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isSelected:***REMOVED***day.isSame(props.selectedDay),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***`${type}-month`,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***day:***REMOVED***day.format("YYYY-MM-DD"),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***date:***REMOVED***day.toDate()
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED***};
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***now,
***REMOVED******REMOVED******REMOVED******REMOVED***isInRange,
***REMOVED******REMOVED******REMOVED******REMOVED***rows,
***REMOVED******REMOVED******REMOVED******REMOVED***weekDays,
***REMOVED******REMOVED******REMOVED******REMOVED***getFormattedDate,
***REMOVED******REMOVED******REMOVED******REMOVED***handlePickDay,
***REMOVED******REMOVED******REMOVED******REMOVED***getSlotData
***REMOVED******REMOVED***};
};

export***REMOVED***{***REMOVED***useDateTable***REMOVED***};
//#***REMOVED***sourceMappingURL=use-date-table.mjs.map
