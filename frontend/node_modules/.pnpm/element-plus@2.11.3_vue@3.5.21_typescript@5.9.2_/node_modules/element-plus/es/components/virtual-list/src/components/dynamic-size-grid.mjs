import***REMOVED***createGrid***REMOVED***from***REMOVED***'../builders/build-grid.mjs';
import***REMOVED***{***REMOVED***DEFAULT_DYNAMIC_LIST_ITEM_SIZE,***REMOVED***AUTO_ALIGNMENT,***REMOVED***CENTERED_ALIGNMENT,***REMOVED***END_ALIGNMENT,***REMOVED***START_ALIGNMENT,***REMOVED***SMART_ALIGNMENT***REMOVED***}***REMOVED***from***REMOVED***'../defaults.mjs';
import***REMOVED***{***REMOVED***isNumber,***REMOVED***isUndefined***REMOVED***}***REMOVED***from***REMOVED***'../../../../utils/types.mjs';

const***REMOVED***{***REMOVED***max,***REMOVED***min,***REMOVED***floor***REMOVED***}***REMOVED***=***REMOVED***Math;
const***REMOVED***ACCESS_SIZER_KEY_MAP***REMOVED***=***REMOVED***{
***REMOVED******REMOVED***column:***REMOVED***"columnWidth",
***REMOVED******REMOVED***row:***REMOVED***"rowHeight"
};
const***REMOVED***ACCESS_LAST_VISITED_KEY_MAP***REMOVED***=***REMOVED***{
***REMOVED******REMOVED***column:***REMOVED***"lastVisitedColumnIndex",
***REMOVED******REMOVED***row:***REMOVED***"lastVisitedRowIndex"
};
const***REMOVED***getItemFromCache***REMOVED***=***REMOVED***(props,***REMOVED***index,***REMOVED***gridCache,***REMOVED***type)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***[cachedItems,***REMOVED***sizer,***REMOVED***lastVisited]***REMOVED***=***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED***gridCache[type],
***REMOVED******REMOVED******REMOVED******REMOVED***props[ACCESS_SIZER_KEY_MAP[type]],
***REMOVED******REMOVED******REMOVED******REMOVED***gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]]
***REMOVED******REMOVED***];
***REMOVED******REMOVED***if***REMOVED***(index***REMOVED***>***REMOVED***lastVisited)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***offset***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(lastVisited***REMOVED***>=***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***cachedItems[lastVisited];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset***REMOVED***=***REMOVED***item.offset***REMOVED***+***REMOVED***item.size;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***lastVisited***REMOVED***+***REMOVED***1;***REMOVED***i***REMOVED***<=***REMOVED***index;***REMOVED***i++)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***size***REMOVED***=***REMOVED***sizer(i);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedItems[i]***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***size
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset***REMOVED***+=***REMOVED***size;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]]***REMOVED***=***REMOVED***index;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***cachedItems[index];
};
const***REMOVED***bs***REMOVED***=***REMOVED***(props,***REMOVED***gridCache,***REMOVED***low,***REMOVED***high,***REMOVED***offset,***REMOVED***type)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***while***REMOVED***(low***REMOVED***<=***REMOVED***high)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***mid***REMOVED***=***REMOVED***low***REMOVED***+***REMOVED***floor((high***REMOVED***-***REMOVED***low)***REMOVED***/***REMOVED***2);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentOffset***REMOVED***=***REMOVED***getItemFromCache(props,***REMOVED***mid,***REMOVED***gridCache,***REMOVED***type).offset;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(currentOffset***REMOVED***===***REMOVED***offset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***mid;
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(currentOffset***REMOVED***<***REMOVED***offset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***low***REMOVED***=***REMOVED***mid***REMOVED***+***REMOVED***1;
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***high***REMOVED***=***REMOVED***mid***REMOVED***-***REMOVED***1;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***max(0,***REMOVED***low***REMOVED***-***REMOVED***1);
};
const***REMOVED***es***REMOVED***=***REMOVED***(props,***REMOVED***gridCache,***REMOVED***idx,***REMOVED***offset,***REMOVED***type)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***total***REMOVED***=***REMOVED***type***REMOVED***===***REMOVED***"column"***REMOVED***?***REMOVED***props.totalColumn***REMOVED***:***REMOVED***props.totalRow;
***REMOVED******REMOVED***let***REMOVED***exponent***REMOVED***=***REMOVED***1;
***REMOVED******REMOVED***while***REMOVED***(idx***REMOVED***<***REMOVED***total***REMOVED***&&***REMOVED***getItemFromCache(props,***REMOVED***idx,***REMOVED***gridCache,***REMOVED***type).offset***REMOVED***<***REMOVED***offset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***idx***REMOVED***+=***REMOVED***exponent;
***REMOVED******REMOVED******REMOVED******REMOVED***exponent***REMOVED****=***REMOVED***2;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***bs(props,***REMOVED***gridCache,***REMOVED***floor(idx***REMOVED***/***REMOVED***2),***REMOVED***min(idx,***REMOVED***total***REMOVED***-***REMOVED***1),***REMOVED***offset,***REMOVED***type);
};
const***REMOVED***findItem***REMOVED***=***REMOVED***(props,***REMOVED***gridCache,***REMOVED***offset,***REMOVED***type)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***[cache,***REMOVED***lastVisitedIndex]***REMOVED***=***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED***gridCache[type],
***REMOVED******REMOVED******REMOVED******REMOVED***gridCache[ACCESS_LAST_VISITED_KEY_MAP[type]]
***REMOVED******REMOVED***];
***REMOVED******REMOVED***const***REMOVED***lastVisitedItemOffset***REMOVED***=***REMOVED***lastVisitedIndex***REMOVED***>***REMOVED***0***REMOVED***?***REMOVED***cache[lastVisitedIndex].offset***REMOVED***:***REMOVED***0;
***REMOVED******REMOVED***if***REMOVED***(lastVisitedItemOffset***REMOVED***>=***REMOVED***offset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***bs(props,***REMOVED***gridCache,***REMOVED***0,***REMOVED***lastVisitedIndex,***REMOVED***offset,***REMOVED***type);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***es(props,***REMOVED***gridCache,***REMOVED***max(0,***REMOVED***lastVisitedIndex),***REMOVED***offset,***REMOVED***type);
};
const***REMOVED***getEstimatedTotalHeight***REMOVED***=***REMOVED***({***REMOVED***totalRow***REMOVED***},***REMOVED***{***REMOVED***estimatedRowHeight,***REMOVED***lastVisitedRowIndex,***REMOVED***row***REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***let***REMOVED***sizeOfVisitedRows***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED***if***REMOVED***(lastVisitedRowIndex***REMOVED***>=***REMOVED***totalRow)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***lastVisitedRowIndex***REMOVED***=***REMOVED***totalRow***REMOVED***-***REMOVED***1;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(lastVisitedRowIndex***REMOVED***>=***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***row[lastVisitedRowIndex];
***REMOVED******REMOVED******REMOVED******REMOVED***sizeOfVisitedRows***REMOVED***=***REMOVED***item.offset***REMOVED***+***REMOVED***item.size;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***unvisitedItems***REMOVED***=***REMOVED***totalRow***REMOVED***-***REMOVED***lastVisitedRowIndex***REMOVED***-***REMOVED***1;
***REMOVED******REMOVED***const***REMOVED***sizeOfUnvisitedItems***REMOVED***=***REMOVED***unvisitedItems***REMOVED*******REMOVED***estimatedRowHeight;
***REMOVED******REMOVED***return***REMOVED***sizeOfVisitedRows***REMOVED***+***REMOVED***sizeOfUnvisitedItems;
};
const***REMOVED***getEstimatedTotalWidth***REMOVED***=***REMOVED***({***REMOVED***totalColumn***REMOVED***},***REMOVED***{***REMOVED***column,***REMOVED***estimatedColumnWidth,***REMOVED***lastVisitedColumnIndex***REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***let***REMOVED***sizeOfVisitedColumns***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED***if***REMOVED***(lastVisitedColumnIndex***REMOVED***>***REMOVED***totalColumn)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***lastVisitedColumnIndex***REMOVED***=***REMOVED***totalColumn***REMOVED***-***REMOVED***1;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(lastVisitedColumnIndex***REMOVED***>=***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***column[lastVisitedColumnIndex];
***REMOVED******REMOVED******REMOVED******REMOVED***sizeOfVisitedColumns***REMOVED***=***REMOVED***item.offset***REMOVED***+***REMOVED***item.size;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***unvisitedItems***REMOVED***=***REMOVED***totalColumn***REMOVED***-***REMOVED***lastVisitedColumnIndex***REMOVED***-***REMOVED***1;
***REMOVED******REMOVED***const***REMOVED***sizeOfUnvisitedItems***REMOVED***=***REMOVED***unvisitedItems***REMOVED*******REMOVED***estimatedColumnWidth;
***REMOVED******REMOVED***return***REMOVED***sizeOfVisitedColumns***REMOVED***+***REMOVED***sizeOfUnvisitedItems;
};
const***REMOVED***ACCESS_ESTIMATED_SIZE_KEY_MAP***REMOVED***=***REMOVED***{
***REMOVED******REMOVED***column:***REMOVED***getEstimatedTotalWidth,
***REMOVED******REMOVED***row:***REMOVED***getEstimatedTotalHeight
};
const***REMOVED***getOffset***REMOVED***=***REMOVED***(props,***REMOVED***index,***REMOVED***alignment,***REMOVED***scrollOffset,***REMOVED***cache,***REMOVED***type,***REMOVED***scrollBarWidth)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***[size,***REMOVED***estimatedSizeAssociates]***REMOVED***=***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED***type***REMOVED***===***REMOVED***"row"***REMOVED***?***REMOVED***props.height***REMOVED***:***REMOVED***props.width,
***REMOVED******REMOVED******REMOVED******REMOVED***ACCESS_ESTIMATED_SIZE_KEY_MAP[type]
***REMOVED******REMOVED***];
***REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***getItemFromCache(props,***REMOVED***index,***REMOVED***cache,***REMOVED***type);
***REMOVED******REMOVED***const***REMOVED***estimatedSize***REMOVED***=***REMOVED***estimatedSizeAssociates(props,***REMOVED***cache);
***REMOVED******REMOVED***const***REMOVED***maxOffset***REMOVED***=***REMOVED***max(0,***REMOVED***min(estimatedSize***REMOVED***-***REMOVED***size,***REMOVED***item.offset));
***REMOVED******REMOVED***const***REMOVED***minOffset***REMOVED***=***REMOVED***max(0,***REMOVED***item.offset***REMOVED***-***REMOVED***size***REMOVED***+***REMOVED***scrollBarWidth***REMOVED***+***REMOVED***item.size);
***REMOVED******REMOVED***if***REMOVED***(alignment***REMOVED***===***REMOVED***SMART_ALIGNMENT)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(scrollOffset***REMOVED***>=***REMOVED***minOffset***REMOVED***-***REMOVED***size***REMOVED***&&***REMOVED***scrollOffset***REMOVED***<=***REMOVED***maxOffset***REMOVED***+***REMOVED***size)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***alignment***REMOVED***=***REMOVED***AUTO_ALIGNMENT;
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***alignment***REMOVED***=***REMOVED***CENTERED_ALIGNMENT;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***switch***REMOVED***(alignment)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***START_ALIGNMENT:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***maxOffset;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***END_ALIGNMENT:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***minOffset;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***CENTERED_ALIGNMENT:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Math.round(minOffset***REMOVED***+***REMOVED***(maxOffset***REMOVED***-***REMOVED***minOffset)***REMOVED***/***REMOVED***2);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***AUTO_ALIGNMENT:
***REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(scrollOffset***REMOVED***>=***REMOVED***minOffset***REMOVED***&&***REMOVED***scrollOffset***REMOVED***<=***REMOVED***maxOffset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***scrollOffset;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(minOffset***REMOVED***>***REMOVED***maxOffset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***minOffset;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(scrollOffset***REMOVED***<***REMOVED***minOffset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***minOffset;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***maxOffset;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
};
const***REMOVED***DynamicSizeGrid***REMOVED***=***REMOVED***createGrid({
***REMOVED******REMOVED***name:***REMOVED***"ElDynamicSizeGrid",
***REMOVED******REMOVED***getColumnPosition:***REMOVED***(props,***REMOVED***idx,***REMOVED***cache)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***getItemFromCache(props,***REMOVED***idx,***REMOVED***cache,***REMOVED***"column");
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[item.size,***REMOVED***item.offset];
***REMOVED******REMOVED***},
***REMOVED******REMOVED***getRowPosition:***REMOVED***(props,***REMOVED***idx,***REMOVED***cache)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***getItemFromCache(props,***REMOVED***idx,***REMOVED***cache,***REMOVED***"row");
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[item.size,***REMOVED***item.offset];
***REMOVED******REMOVED***},
***REMOVED******REMOVED***getColumnOffset:***REMOVED***(props,***REMOVED***columnIndex,***REMOVED***alignment,***REMOVED***scrollLeft,***REMOVED***cache,***REMOVED***scrollBarWidth)***REMOVED***=>***REMOVED***getOffset(props,***REMOVED***columnIndex,***REMOVED***alignment,***REMOVED***scrollLeft,***REMOVED***cache,***REMOVED***"column",***REMOVED***scrollBarWidth),
***REMOVED******REMOVED***getRowOffset:***REMOVED***(props,***REMOVED***rowIndex,***REMOVED***alignment,***REMOVED***scrollTop,***REMOVED***cache,***REMOVED***scrollBarWidth)***REMOVED***=>***REMOVED***getOffset(props,***REMOVED***rowIndex,***REMOVED***alignment,***REMOVED***scrollTop,***REMOVED***cache,***REMOVED***"row",***REMOVED***scrollBarWidth),
***REMOVED******REMOVED***getColumnStartIndexForOffset:***REMOVED***(props,***REMOVED***scrollLeft,***REMOVED***cache)***REMOVED***=>***REMOVED***findItem(props,***REMOVED***cache,***REMOVED***scrollLeft,***REMOVED***"column"),
***REMOVED******REMOVED***getColumnStopIndexForStartIndex:***REMOVED***(props,***REMOVED***startIndex,***REMOVED***scrollLeft,***REMOVED***cache)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***getItemFromCache(props,***REMOVED***startIndex,***REMOVED***cache,***REMOVED***"column");
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***maxOffset***REMOVED***=***REMOVED***scrollLeft***REMOVED***+***REMOVED***props.width;
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***offset***REMOVED***=***REMOVED***item.offset***REMOVED***+***REMOVED***item.size;
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***stopIndex***REMOVED***=***REMOVED***startIndex;
***REMOVED******REMOVED******REMOVED******REMOVED***while***REMOVED***(stopIndex***REMOVED***<***REMOVED***props.totalColumn***REMOVED***-***REMOVED***1***REMOVED***&&***REMOVED***offset***REMOVED***<***REMOVED***maxOffset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stopIndex++;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset***REMOVED***+=***REMOVED***getItemFromCache(props,***REMOVED***startIndex,***REMOVED***cache,***REMOVED***"column").size;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***stopIndex;
***REMOVED******REMOVED***},
***REMOVED******REMOVED***getEstimatedTotalHeight,
***REMOVED******REMOVED***getEstimatedTotalWidth,
***REMOVED******REMOVED***getRowStartIndexForOffset:***REMOVED***(props,***REMOVED***scrollTop,***REMOVED***cache)***REMOVED***=>***REMOVED***findItem(props,***REMOVED***cache,***REMOVED***scrollTop,***REMOVED***"row"),
***REMOVED******REMOVED***getRowStopIndexForStartIndex:***REMOVED***(props,***REMOVED***startIndex,***REMOVED***scrollTop,***REMOVED***cache)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***totalRow,***REMOVED***height***REMOVED***}***REMOVED***=***REMOVED***props;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***item***REMOVED***=***REMOVED***getItemFromCache(props,***REMOVED***startIndex,***REMOVED***cache,***REMOVED***"row");
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***maxOffset***REMOVED***=***REMOVED***scrollTop***REMOVED***+***REMOVED***height;
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***offset***REMOVED***=***REMOVED***item.size***REMOVED***+***REMOVED***item.offset;
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***stopIndex***REMOVED***=***REMOVED***startIndex;
***REMOVED******REMOVED******REMOVED******REMOVED***while***REMOVED***(stopIndex***REMOVED***<***REMOVED***totalRow***REMOVED***-***REMOVED***1***REMOVED***&&***REMOVED***offset***REMOVED***<***REMOVED***maxOffset)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stopIndex++;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***offset***REMOVED***+=***REMOVED***getItemFromCache(props,***REMOVED***stopIndex,***REMOVED***cache,***REMOVED***"row").size;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***stopIndex;
***REMOVED******REMOVED***},
***REMOVED******REMOVED***injectToInstance:***REMOVED***(instance,***REMOVED***cache)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***resetAfter***REMOVED***=***REMOVED***({***REMOVED***columnIndex,***REMOVED***rowIndex***REMOVED***},***REMOVED***forceUpdate)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forceUpdate***REMOVED***=***REMOVED***isUndefined(forceUpdate)***REMOVED***?***REMOVED***true***REMOVED***:***REMOVED***forceUpdate;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isNumber(columnIndex))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cache.value.lastVisitedColumnIndex***REMOVED***=***REMOVED***Math.min(cache.value.lastVisitedColumnIndex,***REMOVED***columnIndex***REMOVED***-***REMOVED***1);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isNumber(rowIndex))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cache.value.lastVisitedRowIndex***REMOVED***=***REMOVED***Math.min(cache.value.lastVisitedRowIndex,***REMOVED***rowIndex***REMOVED***-***REMOVED***1);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a***REMOVED***=***REMOVED***instance.exposed)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.getItemStyleCache.value(-1,***REMOVED***null,***REMOVED***null);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(forceUpdate)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_b***REMOVED***=***REMOVED***instance.proxy)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_b.$forceUpdate();
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***resetAfterColumnIndex***REMOVED***=***REMOVED***(columnIndex,***REMOVED***forceUpdate)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resetAfter({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***columnIndex
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***forceUpdate);
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***resetAfterRowIndex***REMOVED***=***REMOVED***(rowIndex,***REMOVED***forceUpdate)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resetAfter({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rowIndex
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***forceUpdate);
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***Object.assign(instance.proxy,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resetAfterColumnIndex,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resetAfterRowIndex,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resetAfter
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***},
***REMOVED******REMOVED***initCache:***REMOVED***({
***REMOVED******REMOVED******REMOVED******REMOVED***estimatedColumnWidth***REMOVED***=***REMOVED***DEFAULT_DYNAMIC_LIST_ITEM_SIZE,
***REMOVED******REMOVED******REMOVED******REMOVED***estimatedRowHeight***REMOVED***=***REMOVED***DEFAULT_DYNAMIC_LIST_ITEM_SIZE
***REMOVED******REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***cache***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***column:***REMOVED***{},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***estimatedColumnWidth,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***estimatedRowHeight,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lastVisitedColumnIndex:***REMOVED***-1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lastVisitedRowIndex:***REMOVED***-1,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***row:***REMOVED***{}
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***cache;
***REMOVED******REMOVED***},
***REMOVED******REMOVED***clearCache:***REMOVED***false,
***REMOVED******REMOVED***validateProps:***REMOVED***({***REMOVED***columnWidth,***REMOVED***rowHeight***REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***}
});

export***REMOVED***{***REMOVED***DynamicSizeGrid***REMOVED***as***REMOVED***default***REMOVED***};
//#***REMOVED***sourceMappingURL=dynamic-size-grid.mjs.map
