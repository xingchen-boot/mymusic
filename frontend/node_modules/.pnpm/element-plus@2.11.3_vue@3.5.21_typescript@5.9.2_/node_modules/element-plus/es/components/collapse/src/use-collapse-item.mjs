import***REMOVED***{***REMOVED***inject,***REMOVED***ref,***REMOVED***computed,***REMOVED***unref***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***collapseContextKey***REMOVED***}***REMOVED***from***REMOVED***'./constants.mjs';
import***REMOVED***{***REMOVED***useIdInjection***REMOVED***}***REMOVED***from***REMOVED***'../../../hooks/use-id/index.mjs';
import***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'../../../hooks/use-namespace/index.mjs';

const***REMOVED***useCollapseItem***REMOVED***=***REMOVED***(props)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***collapse***REMOVED***=***REMOVED***inject(collapseContextKey);
***REMOVED******REMOVED***const***REMOVED***{***REMOVED***namespace***REMOVED***}***REMOVED***=***REMOVED***useNamespace("collapse");
***REMOVED******REMOVED***const***REMOVED***focusing***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***const***REMOVED***isClick***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED***const***REMOVED***idInjection***REMOVED***=***REMOVED***useIdInjection();
***REMOVED******REMOVED***const***REMOVED***id***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***idInjection.current++);
***REMOVED******REMOVED***const***REMOVED***name***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***(_a***REMOVED***=***REMOVED***props.name)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***`${namespace.value}-id-${idInjection.prefix}-${unref(id)}`;
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***isActive***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***collapse***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***collapse.activeNames.value.includes(unref(name)));
***REMOVED******REMOVED***const***REMOVED***handleFocus***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***setTimeout(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isClick.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusing.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***isClick.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***50);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***handleHeaderClick***REMOVED***=***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.disabled)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***e.target;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***target.closest("input,***REMOVED***textarea,***REMOVED***select"))
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***collapse***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***collapse.handleItemClick(unref(name));
***REMOVED******REMOVED******REMOVED******REMOVED***focusing.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***isClick.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***handleEnterClick***REMOVED***=***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***e.target;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***target.closest("input,***REMOVED***textarea,***REMOVED***select"))
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault();
***REMOVED******REMOVED******REMOVED******REMOVED***collapse***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***collapse.handleItemClick(unref(name));
***REMOVED******REMOVED***};
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***focusing,
***REMOVED******REMOVED******REMOVED******REMOVED***id,
***REMOVED******REMOVED******REMOVED******REMOVED***isActive,
***REMOVED******REMOVED******REMOVED******REMOVED***handleFocus,
***REMOVED******REMOVED******REMOVED******REMOVED***handleHeaderClick,
***REMOVED******REMOVED******REMOVED******REMOVED***handleEnterClick
***REMOVED******REMOVED***};
};
const***REMOVED***useCollapseItemDOM***REMOVED***=***REMOVED***(props,***REMOVED***{***REMOVED***focusing,***REMOVED***isActive,***REMOVED***id***REMOVED***})***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace("collapse");
***REMOVED******REMOVED***const***REMOVED***rootKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED***ns.b("item"),
***REMOVED******REMOVED******REMOVED******REMOVED***ns.is("active",***REMOVED***unref(isActive)),
***REMOVED******REMOVED******REMOVED******REMOVED***ns.is("disabled",***REMOVED***props.disabled)
***REMOVED******REMOVED***]);
***REMOVED******REMOVED***const***REMOVED***headKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED***ns.be("item",***REMOVED***"header"),
***REMOVED******REMOVED******REMOVED******REMOVED***ns.is("active",***REMOVED***unref(isActive)),
***REMOVED******REMOVED******REMOVED******REMOVED***{***REMOVED***focusing:***REMOVED***unref(focusing)***REMOVED***&&***REMOVED***!props.disabled***REMOVED***}
***REMOVED******REMOVED***]);
***REMOVED******REMOVED***const***REMOVED***arrowKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED***ns.be("item",***REMOVED***"arrow"),
***REMOVED******REMOVED******REMOVED******REMOVED***ns.is("active",***REMOVED***unref(isActive))
***REMOVED******REMOVED***]);
***REMOVED******REMOVED***const***REMOVED***itemTitleKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***[ns.be("item",***REMOVED***"title")]);
***REMOVED******REMOVED***const***REMOVED***itemWrapperKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.be("item",***REMOVED***"wrap"));
***REMOVED******REMOVED***const***REMOVED***itemContentKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.be("item",***REMOVED***"content"));
***REMOVED******REMOVED***const***REMOVED***scopedContentId***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.b(`content-${unref(id)}`));
***REMOVED******REMOVED***const***REMOVED***scopedHeadId***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***ns.b(`head-${unref(id)}`));
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***itemTitleKls,
***REMOVED******REMOVED******REMOVED******REMOVED***arrowKls,
***REMOVED******REMOVED******REMOVED******REMOVED***headKls,
***REMOVED******REMOVED******REMOVED******REMOVED***rootKls,
***REMOVED******REMOVED******REMOVED******REMOVED***itemWrapperKls,
***REMOVED******REMOVED******REMOVED******REMOVED***itemContentKls,
***REMOVED******REMOVED******REMOVED******REMOVED***scopedContentId,
***REMOVED******REMOVED******REMOVED******REMOVED***scopedHeadId
***REMOVED******REMOVED***};
};

export***REMOVED***{***REMOVED***useCollapseItem,***REMOVED***useCollapseItemDOM***REMOVED***};
//#***REMOVED***sourceMappingURL=use-collapse-item.mjs.map
