import***REMOVED***{***REMOVED***defineComponent,***REMOVED***shallowRef,***REMOVED***ref,***REMOVED***computed,***REMOVED***watch,***REMOVED***onMounted,***REMOVED***watchEffect,***REMOVED***openBlock,***REMOVED***createElementBlock,***REMOVED***normalizeClass,***REMOVED***unref,***REMOVED***normalizeStyle,***REMOVED***createElementVNode,***REMOVED***renderSlot,***REMOVED***nextTick***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***useWindowSize,***REMOVED***useElementBounding,***REMOVED***useEventListener***REMOVED***}***REMOVED***from***REMOVED***'@vueuse/core';
import***REMOVED***{***REMOVED***affixProps,***REMOVED***affixEmits***REMOVED***}***REMOVED***from***REMOVED***'./affix.mjs';
import***REMOVED***_export_sfc***REMOVED***from***REMOVED***'../../../_virtual/plugin-vue_export-helper.mjs';
import***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'../../../hooks/use-namespace/index.mjs';
import***REMOVED***{***REMOVED***getScrollContainer***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/dom/scroll.mjs';
import***REMOVED***{***REMOVED***addUnit***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/dom/style.mjs';
import***REMOVED***{***REMOVED***CHANGE_EVENT***REMOVED***}***REMOVED***from***REMOVED***'../../../constants/event.mjs';
import***REMOVED***{***REMOVED***throwError***REMOVED***}***REMOVED***from***REMOVED***'../../../utils/error.mjs';

const***REMOVED***COMPONENT_NAME***REMOVED***=***REMOVED***"ElAffix";
const***REMOVED***__default__***REMOVED***=***REMOVED***defineComponent({
***REMOVED******REMOVED***name:***REMOVED***COMPONENT_NAME
});
const***REMOVED***_sfc_main***REMOVED***=***REMOVED***/****REMOVED***@__PURE__***REMOVED****/***REMOVED***defineComponent({
***REMOVED******REMOVED***...__default__,
***REMOVED******REMOVED***props:***REMOVED***affixProps,
***REMOVED******REMOVED***emits:***REMOVED***affixEmits,
***REMOVED******REMOVED***setup(__props,***REMOVED***{***REMOVED***expose,***REMOVED***emit***REMOVED***})***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***props***REMOVED***=***REMOVED***__props;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace("affix");
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***target***REMOVED***=***REMOVED***shallowRef();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***root***REMOVED***=***REMOVED***shallowRef();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***scrollContainer***REMOVED***=***REMOVED***shallowRef();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***height:***REMOVED***windowHeight***REMOVED***}***REMOVED***=***REMOVED***useWindowSize();
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***height:***REMOVED***rootHeight,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***width:***REMOVED***rootWidth,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***top:***REMOVED***rootTop,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bottom:***REMOVED***rootBottom,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***update:***REMOVED***updateRoot
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***=***REMOVED***useElementBounding(root,***REMOVED***{***REMOVED***windowScroll:***REMOVED***false***REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetRect***REMOVED***=***REMOVED***useElementBounding(target);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***fixed***REMOVED***=***REMOVED***ref(false);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***scrollTop***REMOVED***=***REMOVED***ref(0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***transform***REMOVED***=***REMOVED***ref(0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***rootStyle***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***height:***REMOVED***fixed.value***REMOVED***?***REMOVED***`${rootHeight.value}px`***REMOVED***:***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***width:***REMOVED***fixed.value***REMOVED***?***REMOVED***`${rootWidth.value}px`***REMOVED***:***REMOVED***""
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***affixStyle***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!fixed.value)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***offset***REMOVED***=***REMOVED***props.offset***REMOVED***?***REMOVED***addUnit(props.offset)***REMOVED***:***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***height:***REMOVED***`${rootHeight.value}px`,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***width:***REMOVED***`${rootWidth.value}px`,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***top:***REMOVED***props.position***REMOVED***===***REMOVED***"top"***REMOVED***?***REMOVED***offset***REMOVED***:***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***bottom:***REMOVED***props.position***REMOVED***===***REMOVED***"bottom"***REMOVED***?***REMOVED***offset***REMOVED***:***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***transform:***REMOVED***transform.value***REMOVED***?***REMOVED***`translateY(${transform.value}px)`***REMOVED***:***REMOVED***"",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***zIndex:***REMOVED***props.zIndex
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***update***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!scrollContainer.value)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scrollTop.value***REMOVED***=***REMOVED***scrollContainer.value***REMOVED***instanceof***REMOVED***Window***REMOVED***?***REMOVED***document.documentElement.scrollTop***REMOVED***:***REMOVED***scrollContainer.value.scrollTop***REMOVED***||***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***position,***REMOVED***target:***REMOVED***target2,***REMOVED***offset***REMOVED***}***REMOVED***=***REMOVED***props;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***rootHeightOffset***REMOVED***=***REMOVED***offset***REMOVED***+***REMOVED***rootHeight.value;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(position***REMOVED***===***REMOVED***"top")***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target2)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***difference***REMOVED***=***REMOVED***targetRect.bottom.value***REMOVED***-***REMOVED***rootHeightOffset;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed.value***REMOVED***=***REMOVED***offset***REMOVED***>***REMOVED***rootTop.value***REMOVED***&&***REMOVED***targetRect.bottom.value***REMOVED***>***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***transform.value***REMOVED***=***REMOVED***difference***REMOVED***<***REMOVED***0***REMOVED***?***REMOVED***difference***REMOVED***:***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed.value***REMOVED***=***REMOVED***offset***REMOVED***>***REMOVED***rootTop.value;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(target2)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***difference***REMOVED***=***REMOVED***windowHeight.value***REMOVED***-***REMOVED***targetRect.top.value***REMOVED***-***REMOVED***rootHeightOffset;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed.value***REMOVED***=***REMOVED***windowHeight.value***REMOVED***-***REMOVED***offset***REMOVED***<***REMOVED***rootBottom.value***REMOVED***&&***REMOVED***windowHeight.value***REMOVED***>***REMOVED***targetRect.top.value;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***transform.value***REMOVED***=***REMOVED***difference***REMOVED***<***REMOVED***0***REMOVED***?***REMOVED***-difference***REMOVED***:***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed.value***REMOVED***=***REMOVED***windowHeight.value***REMOVED***-***REMOVED***offset***REMOVED***<***REMOVED***rootBottom.value;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***updateRootRect***REMOVED***=***REMOVED***async***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!fixed.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateRoot();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed.value***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***await***REMOVED***nextTick();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateRoot();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed.value***REMOVED***=***REMOVED***true;
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***handleScroll***REMOVED***=***REMOVED***async***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateRoot();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***await***REMOVED***nextTick();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit("scroll",***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scrollTop:***REMOVED***scrollTop.value,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***fixed:***REMOVED***fixed.value
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***watch(fixed,***REMOVED***(val)***REMOVED***=>***REMOVED***emit(CHANGE_EVENT,***REMOVED***val));
***REMOVED******REMOVED******REMOVED******REMOVED***onMounted(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.target)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***target.value***REMOVED***=***REMOVED***(_a***REMOVED***=***REMOVED***document.querySelector(props.target))***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_a***REMOVED***:***REMOVED***void***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!target.value)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throwError(COMPONENT_NAME,***REMOVED***`Target***REMOVED***does***REMOVED***not***REMOVED***exist:***REMOVED***${props.target}`);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***target.value***REMOVED***=***REMOVED***document.documentElement;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scrollContainer.value***REMOVED***=***REMOVED***getScrollContainer(root.value,***REMOVED***true);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateRoot();
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***useEventListener(scrollContainer,***REMOVED***"scroll",***REMOVED***handleScroll);
***REMOVED******REMOVED******REMOVED******REMOVED***watchEffect(update);
***REMOVED******REMOVED******REMOVED******REMOVED***expose({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***update,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updateRoot:***REMOVED***updateRootRect
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***(_ctx,***REMOVED***_cache)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***openBlock(),***REMOVED***createElementBlock("div",***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ref_key:***REMOVED***"root",
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ref:***REMOVED***root,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***class:***REMOVED***normalizeClass(unref(ns).b()),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***style:***REMOVED***normalizeStyle(unref(rootStyle))
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***createElementVNode("div",***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***class:***REMOVED***normalizeClass({***REMOVED***[unref(ns).m("fixed")]:***REMOVED***fixed.value***REMOVED***}),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***style:***REMOVED***normalizeStyle(unref(affixStyle))
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***renderSlot(_ctx.$slots,***REMOVED***"default")
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***],***REMOVED***6)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***],***REMOVED***6);
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED***}
});
var***REMOVED***Affix***REMOVED***=***REMOVED***/****REMOVED***@__PURE__***REMOVED****/***REMOVED***_export_sfc(_sfc_main,***REMOVED***[["__file",***REMOVED***"affix.vue"]]);

export***REMOVED***{***REMOVED***Affix***REMOVED***as***REMOVED***default***REMOVED***};
//#***REMOVED***sourceMappingURL=affix2.mjs.map
