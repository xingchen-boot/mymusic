import***REMOVED***{***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue';
import***REMOVED***{***REMOVED***isArray***REMOVED***}***REMOVED***from***REMOVED***'@vue/shared';
import***REMOVED***{***REMOVED***throwError,***REMOVED***debugWarn***REMOVED***}***REMOVED***from***REMOVED***'../../../../utils/error.mjs';
import***REMOVED***{***REMOVED***isNumber***REMOVED***}***REMOVED***from***REMOVED***'../../../../utils/types.mjs';
import***REMOVED***{***REMOVED***UPDATE_MODEL_EVENT,***REMOVED***INPUT_EVENT***REMOVED***}***REMOVED***from***REMOVED***'../../../../constants/event.mjs';

const***REMOVED***useWatch***REMOVED***=***REMOVED***(props,***REMOVED***initData,***REMOVED***minValue,***REMOVED***maxValue,***REMOVED***emit,***REMOVED***elFormItem)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***_emit***REMOVED***=***REMOVED***(val)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***emit(UPDATE_MODEL_EVENT,***REMOVED***val);
***REMOVED******REMOVED******REMOVED******REMOVED***emit(INPUT_EVENT,***REMOVED***val);
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***valueChanged***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.range)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***![minValue.value,***REMOVED***maxValue.value].every((item,***REMOVED***index)***REMOVED***=>***REMOVED***item***REMOVED***===***REMOVED***initData.oldValue[index]);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***props.modelValue***REMOVED***!==***REMOVED***initData.oldValue;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***setValues***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.min***REMOVED***>***REMOVED***props.max)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***throwError("Slider",***REMOVED***"min***REMOVED***should***REMOVED***not***REMOVED***be***REMOVED***greater***REMOVED***than***REMOVED***max.");
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***val***REMOVED***=***REMOVED***props.modelValue;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.range***REMOVED***&&***REMOVED***isArray(val))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(val[1]***REMOVED***<***REMOVED***props.min)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([props.min,***REMOVED***props.min]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val[0]***REMOVED***>***REMOVED***props.max)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([props.max,***REMOVED***props.max]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val[0]***REMOVED***<***REMOVED***props.min)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([props.min,***REMOVED***val[1]]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val[1]***REMOVED***>***REMOVED***props.max)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit([val[0],***REMOVED***props.max]);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.firstValue***REMOVED***=***REMOVED***val[0];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.secondValue***REMOVED***=***REMOVED***val[1];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(valueChanged())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.validateEvent)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a***REMOVED***=***REMOVED***elFormItem***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***elFormItem.validate)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.call(elFormItem,***REMOVED***"change").catch((err)***REMOVED***=>***REMOVED***debugWarn());
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.oldValue***REMOVED***=***REMOVED***val.slice();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(!props.range***REMOVED***&&***REMOVED***isNumber(val)***REMOVED***&&***REMOVED***!Number.isNaN(val))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(val***REMOVED***<***REMOVED***props.min)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit(props.min);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(val***REMOVED***>***REMOVED***props.max)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_emit(props.max);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.firstValue***REMOVED***=***REMOVED***val;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(valueChanged())***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.validateEvent)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_b***REMOVED***=***REMOVED***elFormItem***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***elFormItem.validate)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_b.call(elFormItem,***REMOVED***"change").catch((err)***REMOVED***=>***REMOVED***debugWarn());
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initData.oldValue***REMOVED***=***REMOVED***val;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***setValues();
***REMOVED******REMOVED***watch(()***REMOVED***=>***REMOVED***initData.dragging,***REMOVED***(val)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!val)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***setValues();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***watch(()***REMOVED***=>***REMOVED***props.modelValue,***REMOVED***(val,***REMOVED***oldVal)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(initData.dragging***REMOVED***||***REMOVED***isArray(val)***REMOVED***&&***REMOVED***isArray(oldVal)***REMOVED***&&***REMOVED***val.every((item,***REMOVED***index)***REMOVED***=>***REMOVED***item***REMOVED***===***REMOVED***oldVal[index])***REMOVED***&&***REMOVED***initData.firstValue***REMOVED***===***REMOVED***val[0]***REMOVED***&&***REMOVED***initData.secondValue***REMOVED***===***REMOVED***val[1])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***setValues();
***REMOVED******REMOVED***},***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***deep:***REMOVED***true
***REMOVED******REMOVED***});
***REMOVED******REMOVED***watch(()***REMOVED***=>***REMOVED***[props.min,***REMOVED***props.max],***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***setValues();
***REMOVED******REMOVED***});
};

export***REMOVED***{***REMOVED***useWatch***REMOVED***};
//#***REMOVED***sourceMappingURL=use-watch.mjs.map
