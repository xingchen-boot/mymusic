{"version":3,"file":"use-button.mjs","sources":["../../../../../../packages/components/button/src/use-button.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***Text,***REMOVED***computed,***REMOVED***inject,***REMOVED***ref,***REMOVED***useSlots***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{\n***REMOVED******REMOVED***useFormDisabled,\n***REMOVED******REMOVED***useFormItem,\n***REMOVED******REMOVED***useFormSize,\n}***REMOVED***from***REMOVED***'@element-plus/components/form'\nimport***REMOVED***{***REMOVED***useGlobalConfig***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/config-provider'\nimport***REMOVED***{***REMOVED***useDeprecated***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***buttonGroupContextKey***REMOVED***}***REMOVED***from***REMOVED***'./constants'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***SetupContext***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{***REMOVED***ButtonEmits,***REMOVED***ButtonProps***REMOVED***}***REMOVED***from***REMOVED***'./button'\n\nexport***REMOVED***const***REMOVED***useButton***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***props:***REMOVED***ButtonProps,\n***REMOVED******REMOVED***emit:***REMOVED***SetupContext<ButtonEmits>['emit']\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***useDeprecated(\n***REMOVED******REMOVED******REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***from:***REMOVED***'type.text',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***replacement:***REMOVED***'link',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***version:***REMOVED***'3.0.0',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***scope:***REMOVED***'props',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ref:***REMOVED***'https://element-plus.org/en-US/component/button.html#button-attributes',\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***computed(()***REMOVED***=>***REMOVED***props.type***REMOVED***===***REMOVED***'text')\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***const***REMOVED***buttonGroupContext***REMOVED***=***REMOVED***inject(buttonGroupContextKey,***REMOVED***undefined)\n***REMOVED******REMOVED***const***REMOVED***globalConfig***REMOVED***=***REMOVED***useGlobalConfig('button')\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***form***REMOVED***}***REMOVED***=***REMOVED***useFormItem()\n***REMOVED******REMOVED***const***REMOVED***_size***REMOVED***=***REMOVED***useFormSize(computed(()***REMOVED***=>***REMOVED***buttonGroupContext?.size))\n***REMOVED******REMOVED***const***REMOVED***_disabled***REMOVED***=***REMOVED***useFormDisabled()\n***REMOVED******REMOVED***const***REMOVED***_ref***REMOVED***=***REMOVED***ref<HTMLButtonElement>()\n***REMOVED******REMOVED***const***REMOVED***slots***REMOVED***=***REMOVED***useSlots()\n\n***REMOVED******REMOVED***const***REMOVED***_type***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.type***REMOVED***||***REMOVED***buttonGroupContext?.type***REMOVED***||***REMOVED***globalConfig.value?.type***REMOVED***||***REMOVED***''\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED***const***REMOVED***autoInsertSpace***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.autoInsertSpace***REMOVED***??***REMOVED***globalConfig.value?.autoInsertSpace***REMOVED***??***REMOVED***false\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED***const***REMOVED***_plain***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.plain***REMOVED***??***REMOVED***globalConfig.value?.plain***REMOVED***??***REMOVED***false\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED***const***REMOVED***_round***REMOVED***=***REMOVED***computed(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***props.round***REMOVED***??***REMOVED***globalConfig.value?.round***REMOVED***??***REMOVED***false\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED***const***REMOVED***_text***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***props.text***REMOVED***??***REMOVED***globalConfig.value?.text***REMOVED***??***REMOVED***false)\n\n***REMOVED******REMOVED***const***REMOVED***_props***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.tag***REMOVED***===***REMOVED***'button')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ariaDisabled:***REMOVED***_disabled.value***REMOVED***||***REMOVED***props.loading,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***disabled:***REMOVED***_disabled.value***REMOVED***||***REMOVED***props.loading,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***autofocus:***REMOVED***props.autofocus,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***type:***REMOVED***props.nativeType,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{}\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***//***REMOVED***add***REMOVED***space***REMOVED***between***REMOVED***two***REMOVED***characters***REMOVED***in***REMOVED***Chinese\n***REMOVED******REMOVED***const***REMOVED***shouldAddSpace***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***defaultSlot***REMOVED***=***REMOVED***slots.default?.()\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(autoInsertSpace.value***REMOVED***&&***REMOVED***defaultSlot?.length***REMOVED***===***REMOVED***1)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***slot***REMOVED***=***REMOVED***defaultSlot[0]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(slot?.type***REMOVED***===***REMOVED***Text)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***text***REMOVED***=***REMOVED***slot.children***REMOVED***as***REMOVED***string\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***/^\\p{Unified_Ideograph}{2}$/u.test(text.trim())\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***false\n***REMOVED******REMOVED***})\n\n***REMOVED******REMOVED***const***REMOVED***handleClick***REMOVED***=***REMOVED***(evt:***REMOVED***MouseEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(_disabled.value***REMOVED***||***REMOVED***props.loading)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***evt.stopPropagation()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(props.nativeType***REMOVED***===***REMOVED***'reset')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***form?.resetFields()\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***emit('click',***REMOVED***evt)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***_disabled,\n***REMOVED******REMOVED******REMOVED******REMOVED***_size,\n***REMOVED******REMOVED******REMOVED******REMOVED***_type,\n***REMOVED******REMOVED******REMOVED******REMOVED***_ref,\n***REMOVED******REMOVED******REMOVED******REMOVED***_props,\n***REMOVED******REMOVED******REMOVED******REMOVED***_plain,\n***REMOVED******REMOVED******REMOVED******REMOVED***_round,\n***REMOVED******REMOVED******REMOVED******REMOVED***_text,\n***REMOVED******REMOVED******REMOVED******REMOVED***shouldAddSpace,\n***REMOVED******REMOVED******REMOVED******REMOVED***handleClick,\n***REMOVED******REMOVED***}\n}\n"],"names":[],"mappings":"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"}