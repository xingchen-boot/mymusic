'use***REMOVED***strict';

Object.defineProperty(exports,***REMOVED***'__esModule',***REMOVED***{***REMOVED***value:***REMOVED***true***REMOVED***});

var***REMOVED***vue***REMOVED***=***REMOVED***require('vue');
var***REMOVED***aria***REMOVED***=***REMOVED***require('../../utils/dom/aria.js');
var***REMOVED***aria$1***REMOVED***=***REMOVED***require('../../constants/aria.js');

const***REMOVED***FOCUSABLE_CHILDREN***REMOVED***=***REMOVED***"_trap-focus-children";
const***REMOVED***TRAP_FOCUS_HANDLER***REMOVED***=***REMOVED***"_trap-focus-handler";
const***REMOVED***FOCUS_STACK***REMOVED***=***REMOVED***[];
const***REMOVED***FOCUS_HANDLER***REMOVED***=***REMOVED***(e)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***if***REMOVED***(FOCUS_STACK.length***REMOVED***===***REMOVED***0)
***REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED***const***REMOVED***focusableElement***REMOVED***=***REMOVED***FOCUS_STACK[FOCUS_STACK.length***REMOVED***-***REMOVED***1][FOCUSABLE_CHILDREN];
***REMOVED******REMOVED***if***REMOVED***(focusableElement.length***REMOVED***>***REMOVED***0***REMOVED***&&***REMOVED***e.code***REMOVED***===***REMOVED***aria$1.EVENT_CODE.tab)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(focusableElement.length***REMOVED***===***REMOVED***1)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(document.activeElement***REMOVED***!==***REMOVED***focusableElement[0])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusableElement[0].focus();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***goingBackward***REMOVED***=***REMOVED***e.shiftKey;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isFirst***REMOVED***=***REMOVED***e.target***REMOVED***===***REMOVED***focusableElement[0];
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isLast***REMOVED***=***REMOVED***e.target***REMOVED***===***REMOVED***focusableElement[focusableElement.length***REMOVED***-***REMOVED***1];
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isFirst***REMOVED***&&***REMOVED***goingBackward)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusableElement[focusableElement.length***REMOVED***-***REMOVED***1].focus();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isLast***REMOVED***&&***REMOVED***!goingBackward)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusableElement[0].focus();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
};
const***REMOVED***TrapFocus***REMOVED***=***REMOVED***{
***REMOVED******REMOVED***beforeMount(el)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***el[FOCUSABLE_CHILDREN]***REMOVED***=***REMOVED***aria.obtainAllFocusableElements(el);
***REMOVED******REMOVED******REMOVED******REMOVED***FOCUS_STACK.push(el);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(FOCUS_STACK.length***REMOVED***<=***REMOVED***1)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.addEventListener("keydown",***REMOVED***FOCUS_HANDLER);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***},
***REMOVED******REMOVED***updated(el)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***vue.nextTick(()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***el[FOCUSABLE_CHILDREN]***REMOVED***=***REMOVED***aria.obtainAllFocusableElements(el);
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***},
***REMOVED******REMOVED***unmounted()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***FOCUS_STACK.shift();
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(FOCUS_STACK.length***REMOVED***===***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***document.removeEventListener("keydown",***REMOVED***FOCUS_HANDLER);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
};

exports.FOCUSABLE_CHILDREN***REMOVED***=***REMOVED***FOCUSABLE_CHILDREN;
exports.TRAP_FOCUS_HANDLER***REMOVED***=***REMOVED***TRAP_FOCUS_HANDLER;
exports["default"]***REMOVED***=***REMOVED***TrapFocus;
//#***REMOVED***sourceMappingURL=index.js.map
