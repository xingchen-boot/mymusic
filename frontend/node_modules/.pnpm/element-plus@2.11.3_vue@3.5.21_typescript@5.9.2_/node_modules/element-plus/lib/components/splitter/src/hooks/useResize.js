'use***REMOVED***strict';

Object.defineProperty(exports,***REMOVED***'__esModule',***REMOVED***{***REMOVED***value:***REMOVED***true***REMOVED***});

var***REMOVED***vue***REMOVED***=***REMOVED***require('vue');
var***REMOVED***useSize***REMOVED***=***REMOVED***require('./useSize.js');
var***REMOVED***shared***REMOVED***=***REMOVED***require('@vue/shared');

function***REMOVED***useResize(panels,***REMOVED***containerSize,***REMOVED***pxSizes,***REMOVED***lazy)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***ptg2px***REMOVED***=***REMOVED***(ptg)***REMOVED***=>***REMOVED***ptg***REMOVED*******REMOVED***containerSize.value***REMOVED***||***REMOVED***0;
***REMOVED******REMOVED***function***REMOVED***getLimitSize(str,***REMOVED***defaultLimit)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(useSize.isPct(str))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***ptg2px(useSize.getPct(str));
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(useSize.isPx(str))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***useSize.getPx(str);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***str***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***str***REMOVED***:***REMOVED***defaultLimit;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***const***REMOVED***lazyOffset***REMOVED***=***REMOVED***vue.ref(0);
***REMOVED******REMOVED***const***REMOVED***movingIndex***REMOVED***=***REMOVED***vue.ref(null);
***REMOVED******REMOVED***let***REMOVED***cachePxSizes***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***let***REMOVED***updatePanelSizes***REMOVED***=***REMOVED***shared.NOOP;
***REMOVED******REMOVED***const***REMOVED***limitSizes***REMOVED***=***REMOVED***vue.computed(()***REMOVED***=>***REMOVED***panels.value.map((item)***REMOVED***=>***REMOVED***[item.min,***REMOVED***item.max]));
***REMOVED******REMOVED***vue.watch(lazy,***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(lazyOffset.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***mouseup***REMOVED***=***REMOVED***new***REMOVED***MouseEvent("mouseup",***REMOVED***{***REMOVED***bubbles:***REMOVED***true***REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***window.dispatchEvent(mouseup);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});
***REMOVED******REMOVED***const***REMOVED***onMoveStart***REMOVED***=***REMOVED***(index)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***lazyOffset.value***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***movingIndex.value***REMOVED***=***REMOVED***{***REMOVED***index,***REMOVED***confirmed:***REMOVED***false***REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***cachePxSizes***REMOVED***=***REMOVED***pxSizes.value;
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***onMoving***REMOVED***=***REMOVED***(index,***REMOVED***offset)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a,***REMOVED***_b;
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***confirmedIndex***REMOVED***=***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***((!movingIndex.value***REMOVED***||***REMOVED***!movingIndex.value.confirmed)***REMOVED***&&***REMOVED***offset***REMOVED***!==***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(offset***REMOVED***>***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***confirmedIndex***REMOVED***=***REMOVED***index;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***movingIndex.value***REMOVED***=***REMOVED***{***REMOVED***index,***REMOVED***confirmed:***REMOVED***true***REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***index;***REMOVED***i***REMOVED***>=***REMOVED***0;***REMOVED***i***REMOVED***-=***REMOVED***1)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(cachePxSizes[i]***REMOVED***>***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***confirmedIndex***REMOVED***=***REMOVED***i;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***movingIndex.value***REMOVED***=***REMOVED***{***REMOVED***index:***REMOVED***i,***REMOVED***confirmed:***REMOVED***true***REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***break;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***mergedIndex***REMOVED***=***REMOVED***(_b***REMOVED***=***REMOVED***confirmedIndex***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***confirmedIndex***REMOVED***:***REMOVED***(_a***REMOVED***=***REMOVED***movingIndex.value)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.index)***REMOVED***!=***REMOVED***null***REMOVED***?***REMOVED***_b***REMOVED***:***REMOVED***index;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***numSizes***REMOVED***=***REMOVED***[...cachePxSizes];
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***nextIndex***REMOVED***=***REMOVED***mergedIndex***REMOVED***+***REMOVED***1;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***startMinSize***REMOVED***=***REMOVED***getLimitSize(limitSizes.value[mergedIndex][0],***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***endMinSize***REMOVED***=***REMOVED***getLimitSize(limitSizes.value[nextIndex][0],***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***startMaxSize***REMOVED***=***REMOVED***getLimitSize(limitSizes.value[mergedIndex][1],***REMOVED***containerSize.value***REMOVED***||***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***endMaxSize***REMOVED***=***REMOVED***getLimitSize(limitSizes.value[nextIndex][1],***REMOVED***containerSize.value***REMOVED***||***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***mergedOffset***REMOVED***=***REMOVED***offset;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(numSizes[mergedIndex]***REMOVED***+***REMOVED***mergedOffset***REMOVED***<***REMOVED***startMinSize)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***mergedOffset***REMOVED***=***REMOVED***startMinSize***REMOVED***-***REMOVED***numSizes[mergedIndex];
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(numSizes[nextIndex]***REMOVED***-***REMOVED***mergedOffset***REMOVED***<***REMOVED***endMinSize)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***mergedOffset***REMOVED***=***REMOVED***numSizes[nextIndex]***REMOVED***-***REMOVED***endMinSize;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(numSizes[mergedIndex]***REMOVED***+***REMOVED***mergedOffset***REMOVED***>***REMOVED***startMaxSize)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***mergedOffset***REMOVED***=***REMOVED***startMaxSize***REMOVED***-***REMOVED***numSizes[mergedIndex];
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(numSizes[nextIndex]***REMOVED***-***REMOVED***mergedOffset***REMOVED***>***REMOVED***endMaxSize)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***mergedOffset***REMOVED***=***REMOVED***numSizes[nextIndex]***REMOVED***-***REMOVED***endMaxSize;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***numSizes[mergedIndex]***REMOVED***+=***REMOVED***mergedOffset;
***REMOVED******REMOVED******REMOVED******REMOVED***numSizes[nextIndex]***REMOVED***-=***REMOVED***mergedOffset;
***REMOVED******REMOVED******REMOVED******REMOVED***lazyOffset.value***REMOVED***=***REMOVED***mergedOffset;
***REMOVED******REMOVED******REMOVED******REMOVED***updatePanelSizes***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***panels.value.forEach((panel,***REMOVED***index2)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***panel.size***REMOVED***=***REMOVED***numSizes[index2];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updatePanelSizes***REMOVED***=***REMOVED***shared.NOOP;
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!lazy.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updatePanelSizes();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***onMoveEnd***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(lazy.value)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***updatePanelSizes();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***lazyOffset.value***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED***movingIndex.value***REMOVED***=***REMOVED***null;
***REMOVED******REMOVED******REMOVED******REMOVED***cachePxSizes***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***};
***REMOVED******REMOVED***const***REMOVED***cacheCollapsedSize***REMOVED***=***REMOVED***[];
***REMOVED******REMOVED***const***REMOVED***onCollapse***REMOVED***=***REMOVED***(index,***REMOVED***type)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!cacheCollapsedSize.length)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cacheCollapsedSize.push(...pxSizes.value);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentSizes***REMOVED***=***REMOVED***pxSizes.value;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentIndex***REMOVED***=***REMOVED***type***REMOVED***===***REMOVED***"start"***REMOVED***?***REMOVED***index***REMOVED***:***REMOVED***index***REMOVED***+***REMOVED***1;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetIndex***REMOVED***=***REMOVED***type***REMOVED***===***REMOVED***"start"***REMOVED***?***REMOVED***index***REMOVED***+***REMOVED***1***REMOVED***:***REMOVED***index;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentSize***REMOVED***=***REMOVED***currentSizes[currentIndex];
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetSize***REMOVED***=***REMOVED***currentSizes[targetIndex];
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(currentSize***REMOVED***!==***REMOVED***0***REMOVED***&&***REMOVED***targetSize***REMOVED***!==***REMOVED***0)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentSizes[currentIndex]***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentSizes[targetIndex]***REMOVED***+=***REMOVED***currentSize;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cacheCollapsedSize[index]***REMOVED***=***REMOVED***currentSize;
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***totalSize***REMOVED***=***REMOVED***currentSize***REMOVED***+***REMOVED***targetSize;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targetCacheCollapsedSize***REMOVED***=***REMOVED***cacheCollapsedSize[index];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***currentCacheCollapsedSize***REMOVED***=***REMOVED***totalSize***REMOVED***-***REMOVED***targetCacheCollapsedSize;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentSizes[targetIndex]***REMOVED***=***REMOVED***targetCacheCollapsedSize;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***currentSizes[currentIndex]***REMOVED***=***REMOVED***currentCacheCollapsedSize;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***panels.value.forEach((panel,***REMOVED***index2)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***panel.size***REMOVED***=***REMOVED***currentSizes[index2];
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***};
***REMOVED******REMOVED***return***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***lazyOffset,
***REMOVED******REMOVED******REMOVED******REMOVED***onMoveStart,
***REMOVED******REMOVED******REMOVED******REMOVED***onMoving,
***REMOVED******REMOVED******REMOVED******REMOVED***onMoveEnd,
***REMOVED******REMOVED******REMOVED******REMOVED***movingIndex,
***REMOVED******REMOVED******REMOVED******REMOVED***onCollapse
***REMOVED******REMOVED***};
}

exports.useResize***REMOVED***=***REMOVED***useResize;
//#***REMOVED***sourceMappingURL=useResize.js.map
