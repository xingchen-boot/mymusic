{"version":3,"file":"method.js","sources":["../../../../../../packages/components/message/src/method.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***createVNode,***REMOVED***isVNode,***REMOVED***render***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{\n***REMOVED******REMOVED***debugWarn,\n***REMOVED******REMOVED***hasOwn,\n***REMOVED******REMOVED***isBoolean,\n***REMOVED******REMOVED***isClient,\n***REMOVED******REMOVED***isElement,\n***REMOVED******REMOVED***isFunction,\n***REMOVED******REMOVED***isNumber,\n***REMOVED******REMOVED***isString,\n}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***messageConfig***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/config-provider'\nimport***REMOVED***MessageConstructor***REMOVED***from***REMOVED***'./message.vue'\nimport***REMOVED***{\n***REMOVED******REMOVED***MESSAGE_DEFAULT_PLACEMENT,\n***REMOVED******REMOVED***messageDefaults,\n***REMOVED******REMOVED***messagePlacement,\n***REMOVED******REMOVED***messageTypes,\n}***REMOVED***from***REMOVED***'./message'\nimport***REMOVED***{***REMOVED***getOrCreatePlacementInstances,***REMOVED***placementInstances***REMOVED***}***REMOVED***from***REMOVED***'./instance'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***MessageContext***REMOVED***}***REMOVED***from***REMOVED***'./instance'\nimport***REMOVED***type***REMOVED***{***REMOVED***AppContext***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***type***REMOVED***{\n***REMOVED******REMOVED***Message,\n***REMOVED******REMOVED***MessageFn,\n***REMOVED******REMOVED***MessageHandler,\n***REMOVED******REMOVED***MessageOptions,\n***REMOVED******REMOVED***MessageParams,\n***REMOVED******REMOVED***MessageParamsNormalized,\n***REMOVED******REMOVED***MessagePlacement,\n***REMOVED******REMOVED***MessageType,\n}***REMOVED***from***REMOVED***'./message'\n\nlet***REMOVED***seed***REMOVED***=***REMOVED***1\n\n//***REMOVED***TODO:***REMOVED***Since***REMOVED***Notify.ts***REMOVED***is***REMOVED***basically***REMOVED***the***REMOVED***same***REMOVED***like***REMOVED***this***REMOVED***file.***REMOVED***So***REMOVED***we***REMOVED***could***REMOVED***do***REMOVED***some***REMOVED***encapsulation***REMOVED***against***REMOVED***them***REMOVED***to***REMOVED***reduce***REMOVED***code***REMOVED***duplication.\n\nconst***REMOVED***normalizeAppendTo***REMOVED***=***REMOVED***(normalized:***REMOVED***MessageOptions)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***appendTo***REMOVED***=***REMOVED***normalized.appendTo\n***REMOVED******REMOVED***if***REMOVED***(!appendTo)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.appendTo***REMOVED***=***REMOVED***document.body\n***REMOVED******REMOVED***}***REMOVED***else***REMOVED***if***REMOVED***(isString(normalized.appendTo))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***appendTo***REMOVED***=***REMOVED***document.querySelector<HTMLElement>(normalized.appendTo)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***should***REMOVED***fallback***REMOVED***to***REMOVED***default***REMOVED***value***REMOVED***with***REMOVED***a***REMOVED***warning\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!isElement(appendTo))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***debugWarn(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'ElMessage',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'the***REMOVED***appendTo***REMOVED***option***REMOVED***is***REMOVED***not***REMOVED***an***REMOVED***HTMLElement.***REMOVED***Falling***REMOVED***back***REMOVED***to***REMOVED***document.body.'\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***appendTo***REMOVED***=***REMOVED***document.body\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.appendTo***REMOVED***=***REMOVED***appendTo\n***REMOVED******REMOVED***}\n}\n\nconst***REMOVED***normalizePlacement***REMOVED***=***REMOVED***(normalized:***REMOVED***MessageOptions)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***//***REMOVED***if***REMOVED***placement***REMOVED***is***REMOVED***not***REMOVED***passed***REMOVED***and***REMOVED***global***REMOVED***has***REMOVED***config,***REMOVED***use***REMOVED***global***REMOVED***config\n***REMOVED******REMOVED***if***REMOVED***(\n***REMOVED******REMOVED******REMOVED******REMOVED***!normalized.placement***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED***isString(messageConfig.placement)***REMOVED***&&\n***REMOVED******REMOVED******REMOVED******REMOVED***messageConfig.placement\n***REMOVED******REMOVED***)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.placement***REMOVED***=***REMOVED***messageConfig.placement***REMOVED***as\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***MessagePlacement\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***undefined\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***//***REMOVED***if***REMOVED***placement***REMOVED***is***REMOVED***not***REMOVED***passed***REMOVED***and***REMOVED***global***REMOVED***has***REMOVED***no***REMOVED***config,***REMOVED***use***REMOVED***default***REMOVED***config\n***REMOVED******REMOVED***if***REMOVED***(!normalized.placement)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.placement***REMOVED***=***REMOVED***MESSAGE_DEFAULT_PLACEMENT\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***//***REMOVED***if***REMOVED***placement***REMOVED***is***REMOVED***not***REMOVED***valid,***REMOVED***use***REMOVED***default***REMOVED***config\n***REMOVED******REMOVED***if***REMOVED***(!messagePlacement.includes(normalized.placement!))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***debugWarn(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***'ElMessage',\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***`Invalid***REMOVED***placement:***REMOVED***${normalized.placement}.***REMOVED***Falling***REMOVED***back***REMOVED***to***REMOVED***'${MESSAGE_DEFAULT_PLACEMENT}'.`\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.placement***REMOVED***=***REMOVED***MESSAGE_DEFAULT_PLACEMENT\n***REMOVED******REMOVED***}\n}\n\nconst***REMOVED***normalizeOptions***REMOVED***=***REMOVED***(params?:***REMOVED***MessageParams)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***options:***REMOVED***MessageOptions***REMOVED***=\n***REMOVED******REMOVED******REMOVED******REMOVED***!params***REMOVED***||***REMOVED***isString(params)***REMOVED***||***REMOVED***isVNode(params)***REMOVED***||***REMOVED***isFunction(params)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***{***REMOVED***message:***REMOVED***params***REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***params\n\n***REMOVED******REMOVED***const***REMOVED***normalized:***REMOVED***MessageOptions***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***...messageDefaults,\n***REMOVED******REMOVED******REMOVED******REMOVED***...options,\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***normalizeAppendTo(normalized)\n***REMOVED******REMOVED***normalizePlacement(normalized)\n\n***REMOVED******REMOVED***//***REMOVED***When***REMOVED***grouping***REMOVED***is***REMOVED***configured***REMOVED***globally,\n***REMOVED******REMOVED***//***REMOVED***if***REMOVED***grouping***REMOVED***is***REMOVED***manually***REMOVED***set***REMOVED***when***REMOVED***calling***REMOVED***message***REMOVED***individually***REMOVED***and***REMOVED***it***REMOVED***is***REMOVED***not***REMOVED***equal***REMOVED***to***REMOVED***the***REMOVED***default***REMOVED***value,\n***REMOVED******REMOVED***//***REMOVED***the***REMOVED***global***REMOVED***configuration***REMOVED***cannot***REMOVED***override***REMOVED***the***REMOVED***current***REMOVED***setting.***REMOVED***default***REMOVED***=>***REMOVED***false\n***REMOVED******REMOVED***if***REMOVED***(isBoolean(messageConfig.grouping)***REMOVED***&&***REMOVED***!normalized.grouping)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.grouping***REMOVED***=***REMOVED***messageConfig.grouping\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(isNumber(messageConfig.duration)***REMOVED***&&***REMOVED***normalized.duration***REMOVED***===***REMOVED***3000)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.duration***REMOVED***=***REMOVED***messageConfig.duration\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(isNumber(messageConfig.offset)***REMOVED***&&***REMOVED***normalized.offset***REMOVED***===***REMOVED***16)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.offset***REMOVED***=***REMOVED***messageConfig.offset\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(isBoolean(messageConfig.showClose)***REMOVED***&&***REMOVED***!normalized.showClose)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.showClose***REMOVED***=***REMOVED***messageConfig.showClose\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***if***REMOVED***(isBoolean(messageConfig.plain)***REMOVED***&&***REMOVED***!normalized.plain)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.plain***REMOVED***=***REMOVED***messageConfig.plain\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***normalized***REMOVED***as***REMOVED***MessageParamsNormalized\n}\n\nconst***REMOVED***closeMessage***REMOVED***=***REMOVED***(instance:***REMOVED***MessageContext)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***placement***REMOVED***=***REMOVED***instance.props.placement***REMOVED***||***REMOVED***MESSAGE_DEFAULT_PLACEMENT\n***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***placementInstances[placement]\n\n***REMOVED******REMOVED***const***REMOVED***idx***REMOVED***=***REMOVED***instances.indexOf(instance)\n***REMOVED******REMOVED***if***REMOVED***(idx***REMOVED***===***REMOVED***-1)***REMOVED***return\n***REMOVED******REMOVED***instances.splice(idx,***REMOVED***1)\n***REMOVED******REMOVED***const***REMOVED***{***REMOVED***handler***REMOVED***}***REMOVED***=***REMOVED***instance\n***REMOVED******REMOVED***handler.close()\n}\n\nconst***REMOVED***createMessage***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***{***REMOVED***appendTo,***REMOVED***...options***REMOVED***}:***REMOVED***MessageParamsNormalized,\n***REMOVED******REMOVED***context?:***REMOVED***AppContext***REMOVED***|***REMOVED***null\n):***REMOVED***MessageContext***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***id***REMOVED***=***REMOVED***`message_${seed++}`\n***REMOVED******REMOVED***const***REMOVED***userOnClose***REMOVED***=***REMOVED***options.onClose\n\n***REMOVED******REMOVED***const***REMOVED***container***REMOVED***=***REMOVED***document.createElement('div')\n\n***REMOVED******REMOVED***const***REMOVED***props***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***...options,\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***now***REMOVED***the***REMOVED***zIndex***REMOVED***will***REMOVED***be***REMOVED***used***REMOVED***inside***REMOVED***the***REMOVED***message.vue***REMOVED***component***REMOVED***instead***REMOVED***of***REMOVED***here.\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***zIndex:***REMOVED***nextIndex()***REMOVED***+***REMOVED***options.zIndex\n***REMOVED******REMOVED******REMOVED******REMOVED***id,\n***REMOVED******REMOVED******REMOVED******REMOVED***onClose:***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***userOnClose?.()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***closeMessage(instance)\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***clean***REMOVED***message***REMOVED***element***REMOVED***preventing***REMOVED***mem***REMOVED***leak\n***REMOVED******REMOVED******REMOVED******REMOVED***onDestroy:***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***since***REMOVED***the***REMOVED***element***REMOVED***is***REMOVED***destroy,***REMOVED***then***REMOVED***the***REMOVED***VNode***REMOVED***should***REMOVED***be***REMOVED***collected***REMOVED***by***REMOVED***GC***REMOVED***as***REMOVED***well\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***we***REMOVED***do***REMOVED***not***REMOVED***want***REMOVED***cause***REMOVED***any***REMOVED***mem***REMOVED***leak***REMOVED***because***REMOVED***we***REMOVED***have***REMOVED***returned***REMOVED***vm***REMOVED***as***REMOVED***a***REMOVED***reference***REMOVED***to***REMOVED***users\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***so***REMOVED***that***REMOVED***we***REMOVED***manually***REMOVED***set***REMOVED***it***REMOVED***to***REMOVED***false.\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***render(null,***REMOVED***container)\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***const***REMOVED***vnode***REMOVED***=***REMOVED***createVNode(\n***REMOVED******REMOVED******REMOVED******REMOVED***MessageConstructor,\n***REMOVED******REMOVED******REMOVED******REMOVED***props,\n***REMOVED******REMOVED******REMOVED******REMOVED***isFunction(props.message)***REMOVED***||***REMOVED***isVNode(props.message)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***default:***REMOVED***isFunction(props.message)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***props.message\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***()***REMOVED***=>***REMOVED***props.message,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***null\n***REMOVED******REMOVED***)\n***REMOVED******REMOVED***vnode.appContext***REMOVED***=***REMOVED***context***REMOVED***||***REMOVED***message._context\n\n***REMOVED******REMOVED***render(vnode,***REMOVED***container)\n***REMOVED******REMOVED***//***REMOVED***instances***REMOVED***will***REMOVED***remove***REMOVED***this***REMOVED***item***REMOVED***when***REMOVED***close***REMOVED***function***REMOVED***gets***REMOVED***called.***REMOVED***So***REMOVED***we***REMOVED***do***REMOVED***not***REMOVED***need***REMOVED***to***REMOVED***worry***REMOVED***about***REMOVED***it.\n***REMOVED******REMOVED***appendTo.appendChild(container.firstElementChild!)\n\n***REMOVED******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***vnode.component!\n\n***REMOVED******REMOVED***const***REMOVED***handler:***REMOVED***MessageHandler***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***instead***REMOVED***of***REMOVED***calling***REMOVED***the***REMOVED***onClose***REMOVED***function***REMOVED***directly,***REMOVED***setting***REMOVED***this***REMOVED***value***REMOVED***so***REMOVED***that***REMOVED***we***REMOVED***can***REMOVED***have***REMOVED***the***REMOVED***full***REMOVED***lifecycle\n***REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***for***REMOVED***out***REMOVED***component,***REMOVED***so***REMOVED***that***REMOVED***all***REMOVED***closing***REMOVED***steps***REMOVED***will***REMOVED***not***REMOVED***be***REMOVED***skipped.\n***REMOVED******REMOVED******REMOVED******REMOVED***close:***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***vm.exposed!.close()\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***instance:***REMOVED***MessageContext***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***id,\n***REMOVED******REMOVED******REMOVED******REMOVED***vnode,\n***REMOVED******REMOVED******REMOVED******REMOVED***vm,\n***REMOVED******REMOVED******REMOVED******REMOVED***handler,\n***REMOVED******REMOVED******REMOVED******REMOVED***props:***REMOVED***(vnode.component***REMOVED***as***REMOVED***any).props,\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***return***REMOVED***instance\n}\n\nconst***REMOVED***message:***REMOVED***MessageFn***REMOVED***&\n***REMOVED******REMOVED***Partial<Message>***REMOVED***&***REMOVED***{***REMOVED***_context:***REMOVED***AppContext***REMOVED***|***REMOVED***null***REMOVED***}***REMOVED***=***REMOVED***(\n***REMOVED******REMOVED***options***REMOVED***=***REMOVED***{},\n***REMOVED******REMOVED***context\n)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!isClient)***REMOVED***return***REMOVED***{***REMOVED***close:***REMOVED***()***REMOVED***=>***REMOVED***undefined***REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***normalized***REMOVED***=***REMOVED***normalizeOptions(options)\n***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***getOrCreatePlacementInstances(\n***REMOVED******REMOVED******REMOVED******REMOVED***normalized.placement***REMOVED***||***REMOVED***MESSAGE_DEFAULT_PLACEMENT\n***REMOVED******REMOVED***)\n\n***REMOVED******REMOVED***if***REMOVED***(normalized.grouping***REMOVED***&&***REMOVED***instances.length)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***instances.find(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***({***REMOVED***vnode:***REMOVED***vm***REMOVED***})***REMOVED***=>***REMOVED***vm.props?.message***REMOVED***===***REMOVED***normalized.message\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(instance)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.props.repeatNum***REMOVED***+=***REMOVED***1\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.props.type***REMOVED***=***REMOVED***normalized.type\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***instance.handler\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***if***REMOVED***(isNumber(messageConfig.max)***REMOVED***&&***REMOVED***instances.length***REMOVED***>=***REMOVED***messageConfig.max)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{***REMOVED***close:***REMOVED***()***REMOVED***=>***REMOVED***undefined***REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***const***REMOVED***instance***REMOVED***=***REMOVED***createMessage(normalized,***REMOVED***context)\n\n***REMOVED******REMOVED***instances.push(instance)\n***REMOVED******REMOVED***return***REMOVED***instance.handler\n}\n\nmessageTypes.forEach((type)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***message[type]***REMOVED***=***REMOVED***(options***REMOVED***=***REMOVED***{},***REMOVED***appContext)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***normalized***REMOVED***=***REMOVED***normalizeOptions(options)\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***message({***REMOVED***...normalized,***REMOVED***type***REMOVED***},***REMOVED***appContext)\n***REMOVED******REMOVED***}\n})\n\nexport***REMOVED***function***REMOVED***closeAll(type?:***REMOVED***MessageType):***REMOVED***void***REMOVED***{\n***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***placement***REMOVED***in***REMOVED***placementInstances)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(placementInstances,***REMOVED***placement))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Create***REMOVED***a***REMOVED***copy***REMOVED***of***REMOVED***instances***REMOVED***to***REMOVED***avoid***REMOVED***modification***REMOVED***during***REMOVED***iteration\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***instances:***REMOVED***MessageContext[]***REMOVED***=***REMOVED***[...placementInstances[placement]]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(const***REMOVED***instance***REMOVED***of***REMOVED***instances)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!type***REMOVED***||***REMOVED***type***REMOVED***===***REMOVED***instance.props.type)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***instance.handler.close()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n}\n\nexport***REMOVED***function***REMOVED***closeAllByPlacement(placement:***REMOVED***MessagePlacement)***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!placementInstances[placement])***REMOVED***return\n***REMOVED******REMOVED***//***REMOVED***Create***REMOVED***a***REMOVED***copy***REMOVED***of***REMOVED***instances***REMOVED***to***REMOVED***avoid***REMOVED***modification***REMOVED***during***REMOVED***iteration\n***REMOVED******REMOVED***const***REMOVED***instances***REMOVED***=***REMOVED***[...placementInstances[placement]]\n***REMOVED******REMOVED***instances.forEach((instance)***REMOVED***=>***REMOVED***instance.handler.close())\n}\n\nmessage.closeAll***REMOVED***=***REMOVED***closeAll\nmessage.closeAllByPlacement***REMOVED***=***REMOVED***closeAllByPlacement\nmessage._context***REMOVED***=***REMOVED***null\n\nexport***REMOVED***default***REMOVED***message***REMOVED***as***REMOVED***Message\n"],"names":["isString","isElement","messageConfig","MESSAGE_DEFAULT_PLACEMENT","messagePlacement","debugWarn","isVNode","isFunction","messageDefaults","isBoolean","isNumber","instance","placementInstances","render","createVNode","MessageConstructor","isClient","getOrCreatePlacementInstances","messageTypes","hasOwn"],"mappings":"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"}