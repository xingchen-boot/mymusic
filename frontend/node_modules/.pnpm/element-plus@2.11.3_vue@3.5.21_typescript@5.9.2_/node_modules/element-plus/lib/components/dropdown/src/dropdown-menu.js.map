{"version":3,"file":"dropdown-menu.js","sources":["../../../../../../packages/components/dropdown/src/dropdown-menu.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<ul\n***REMOVED******REMOVED******REMOVED******REMOVED***:ref=\"dropdownListWrapperRef\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:class=\"dropdownKls\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:style=\"rovingFocusGroupRootStyle\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:tabindex=\"-1\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:role=\"role\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:aria-labelledby=\"triggerId\"\n***REMOVED******REMOVED******REMOVED******REMOVED***@blur=\"onBlur\"\n***REMOVED******REMOVED******REMOVED******REMOVED***@focus=\"onFocus\"\n***REMOVED******REMOVED******REMOVED******REMOVED***@keydown.self=\"handleKeydown\"\n***REMOVED******REMOVED******REMOVED******REMOVED***@mousedown.self=\"onMousedown\"\n***REMOVED******REMOVED***>\n***REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***/>\n***REMOVED******REMOVED***</ul>\n</template>\n\n<script***REMOVED***lang=\"ts\">\nimport***REMOVED***{***REMOVED***computed,***REMOVED***defineComponent,***REMOVED***inject,***REMOVED***unref***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***composeEventHandlers,***REMOVED***composeRefs***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***EVENT_CODE***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/constants'\nimport***REMOVED***{***REMOVED***FOCUS_TRAP_INJECTION_KEY***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/focus-trap'\nimport***REMOVED***{\n***REMOVED******REMOVED***ROVING_FOCUS_COLLECTION_INJECTION_KEY,\n***REMOVED******REMOVED***ROVING_FOCUS_GROUP_INJECTION_KEY,\n***REMOVED******REMOVED***focusFirst,\n}***REMOVED***from***REMOVED***'@element-plus/components/roving-focus-group'\nimport***REMOVED***{***REMOVED***useNamespace***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/hooks'\nimport***REMOVED***{***REMOVED***DROPDOWN_INJECTION_KEY***REMOVED***}***REMOVED***from***REMOVED***'./tokens'\nimport***REMOVED***{\n***REMOVED******REMOVED***DROPDOWN_COLLECTION_INJECTION_KEY,\n***REMOVED******REMOVED***FIRST_LAST_KEYS,\n***REMOVED******REMOVED***LAST_KEYS,\n***REMOVED******REMOVED***dropdownMenuProps,\n}***REMOVED***from***REMOVED***'./dropdown'\nimport***REMOVED***{***REMOVED***useDropdown***REMOVED***}***REMOVED***from***REMOVED***'./useDropdown'\n\nexport***REMOVED***default***REMOVED***defineComponent({\n***REMOVED******REMOVED***name:***REMOVED***'ElDropdownMenu',\n***REMOVED******REMOVED***props:***REMOVED***dropdownMenuProps,\n***REMOVED******REMOVED***setup(props)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('dropdown')\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***_elDropdownSize***REMOVED***}***REMOVED***=***REMOVED***useDropdown()\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***size***REMOVED***=***REMOVED***_elDropdownSize.value\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***focusTrapRef,***REMOVED***onKeydown***REMOVED***}***REMOVED***=***REMOVED***inject(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***FOCUS_TRAP_INJECTION_KEY,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***undefined\n***REMOVED******REMOVED******REMOVED******REMOVED***)!\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***contentRef,***REMOVED***role,***REMOVED***triggerId***REMOVED***}***REMOVED***=***REMOVED***inject(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***DROPDOWN_INJECTION_KEY,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***undefined\n***REMOVED******REMOVED******REMOVED******REMOVED***)!\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***collectionRef:***REMOVED***dropdownCollectionRef,***REMOVED***getItems***REMOVED***}***REMOVED***=***REMOVED***inject(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***DROPDOWN_COLLECTION_INJECTION_KEY,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***undefined\n***REMOVED******REMOVED******REMOVED******REMOVED***)!\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rovingFocusGroupRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rovingFocusGroupRootStyle,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tabIndex,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onBlur,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onFocus,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onMousedown,\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***=***REMOVED***inject(ROVING_FOCUS_GROUP_INJECTION_KEY,***REMOVED***undefined)!\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***collectionRef:***REMOVED***rovingFocusGroupCollectionRef***REMOVED***}***REMOVED***=***REMOVED***inject(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***ROVING_FOCUS_COLLECTION_INJECTION_KEY,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***undefined\n***REMOVED******REMOVED******REMOVED******REMOVED***)!\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***dropdownKls***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[ns.b('menu'),***REMOVED***ns.bm('menu',***REMOVED***size?.value)]\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***dropdownListWrapperRef***REMOVED***=***REMOVED***composeRefs(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contentRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dropdownCollectionRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusTrapRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rovingFocusGroupRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rovingFocusGroupCollectionRef\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***composedKeydown***REMOVED***=***REMOVED***composeEventHandlers(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(e:***REMOVED***KeyboardEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***props.onKeydown?.(e)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(e)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***currentTarget,***REMOVED***code,***REMOVED***target***REMOVED***}***REMOVED***=***REMOVED***e\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isKeydownContained***REMOVED***=***REMOVED***(currentTarget***REMOVED***as***REMOVED***Node).contains(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***target***REMOVED***as***REMOVED***Node\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isKeydownContained)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***TODO:***REMOVED***implement***REMOVED***typeahead***REMOVED***search\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(EVENT_CODE.tab***REMOVED***===***REMOVED***code)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.stopImmediatePropagation()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***e.preventDefault()\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(target***REMOVED***!==***REMOVED***unref(contentRef)***REMOVED***||***REMOVED***!FIRST_LAST_KEYS.includes(code))\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***items***REMOVED***=***REMOVED***getItems<{***REMOVED***disabled:***REMOVED***boolean***REMOVED***}>().filter(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(item)***REMOVED***=>***REMOVED***!item.disabled\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***targets***REMOVED***=***REMOVED***items.map((item)***REMOVED***=>***REMOVED***item.ref!)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(LAST_KEYS.includes(code))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***targets.reverse()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***focusFirst(targets)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***handleKeydown***REMOVED***=***REMOVED***(e:***REMOVED***KeyboardEvent)***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***composedKeydown(e)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onKeydown(e)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***size,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***rovingFocusGroupRootStyle,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***tabIndex,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dropdownKls,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***role,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***triggerId,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dropdownListWrapperRef,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***handleKeydown,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onBlur,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onFocus,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onMousedown,\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***},\n})\n</script>\n"],"names":["defineComponent","dropdownMenuProps","useNamespace","useDropdown","inject","FOCUS_TRAP_INJECTION_KEY","DROPDOWN_INJECTION_KEY","DROPDOWN_COLLECTION_INJECTION_KEY","ROVING_FOCUS_GROUP_INJECTION_KEY","ROVING_FOCUS_COLLECTION_INJECTION_KEY","computed","composeRefs","composeEventHandlers","EVENT_CODE","unref","FIRST_LAST_KEYS","LAST_KEYS","focusFirst","_openBlock","_createElementBlock","_normalizeClass","_normalizeStyle","_withModifiers","_renderSlot","_export_sfc"],"mappings":";;;;;;;;;;;;;;;;;;AAqCA,MAAK,YAAaA,mBAAa,CAAA;AAAA,EAC7B,IAAM,EAAA,gBAAA;AAAA,EACN,KAAO,EAAAC,0BAAA;AAAA,EACP,MAAM,KAAO,EAAA;AACX,IAAM,MAAA,EAAA,GAAKC,mBAAa,UAAU,CAAA,CAAA;AAClC,IAAM,MAAA,EAAE,eAAgB,EAAA,GAAIC,uBAAY,EAAA,CAAA;AACxC,IAAA,MAAM,OAAO,eAAgB,CAAA,KAAA,CAAA;AAE7B,IAAM,MAAA,EAAE,YAAc,EAAA,SAAA,EAAc,GAAAC,UAAA,CAAAC,+BAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAAA,IAClC,MAAA,EAAA,UAAA,EAAA,IAAA,EAAA,SAAA,EAAA,GAAAD,UAAA,CAAAE,+BAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAAA,IACA,MAAA,EAAA,aAAA,EAAA,qBAAA,EAAA,QAAA,EAAA,GAAAF,UAAA,CAAAG,0CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAAA,IACF,MAAA;AAEA,MAAA,mBAA0B;AAAc,MACtC,yBAAA;AAAA,MACA,QAAA;AAAA,MACF,MAAA;AAEA,MAAA,OAAQ;AAAmD,MACzD,WAAA;AAAA,KACA,GAAAH,UAAA,CAAAI,yCAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAAA,IACF,MAAA,EAAA,aAAA,EAAA,6BAAA,EAAA,GAAAJ,UAAA,CAAAK,sDAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAEA,IAAM,MAAA,WAAA,GAAAC,YAAA,CAAA,MAAA;AAAA,MACJ,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,MAAA,EAAA,IAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AAAA,KACA,CAAA,CAAA;AAAA,IACA,MAAA,sBAAA,GAAAC,gBAAA,CAAA,UAAA,EAAA,qBAAA,EAAA,YAAA,EAAA,mBAAA,EAAA,6BAAA,CAAA,CAAA;AAAA,IACA,MAAA,eAAA,GAAAC,0BAAA,CAAA,CAAA,CAAA,KAAA;AAAA,MACA,IAAA,EAAA,CAAA;AAAA,MACA,CAAA,EAAA,GAAA,KAAA,CAAA,SAAA,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AAAA,KACF,EAAA,CAAI,CAAO,KAAA;AAEX,MAAM,MAAE,EAAe,aAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,CAAA,CAAA;AAAkC,MACvD,aAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AAIF,MAAM,IAAAC,eAAA,CAAA,GAAc,SAAS,EAAM;AACjC,QAAO,CAAA,CAAA,wBAAqB,EAAA,CAAA;AAAoB,OACjD;AAED,MAAA,CAAA,CAAA,cAA+B,EAAA,CAAA;AAAA,MAC7B,IAAA,MAAA,KAAAC,SAAA,CAAA,UAAA,CAAA,IAAA,CAAAC,wBAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AAAA,QACA,OAAA;AAAA,MACA,MAAA,KAAA,GAAA,QAAA,EAAA,CAAA,MAAA,CAAA,CAAA,IAAA,KAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA;AAAA,MACA,MAAA,OAAA,GAAA,KAAA,CAAA,GAAA,CAAA,CAAA,IAAA,KAAA,IAAA,CAAA,GAAA,CAAA,CAAA;AAAA,MACA,IAAAC,kBAAA,CAAA,QAAA,CAAA,IAAA,CAAA,EAAA;AAAA,QACF,OAAA,CAAA,OAAA,EAAA,CAAA;AAEA,OAAA;AAAwB,MACtBC,gBAAsB,CAAA,OAAA,CAAA,CAAA;AACpB,KAAA,CAAA,CAAA;AAAmB,IACrB,MAAA,aAAA,GAAA,CAAA,CAAA,KAAA;AAAA,MACA,eAAO,CAAA,CAAA,CAAA,CAAA;AACL,MAAA,SAAQ,CAAA,CAAA,CAAA,CAAA;AACR,KAAA,CAAA;AAAmD,IACjD,OAAA;AAAA,MACF,IAAA;AAEA,MAAA,yBAAwB;AAAA,MAExB,QAAA;AAEA,MAAI,WAAA;AACF,MAAA,IAAA;AAA2B,MAC7B,SAAA;AAEA,MAAA,sBAAiB;AAEjB,MAAA;AACE,MAAA,MAAA;AACF,MAAM,OAAA;AAA0C,MAC9C,WAAU;AAAM,KAClB,CAAA;AACA,GAAA;AACA,CAAI,CAAA,CAAA;AACc,SAClB,WAAA,CAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,EAAA,OAAAC,aAAW,EAAO,EAAAC,sBAAA,CAAA,IAAA,EAAA;AAAA,IACpB,GAAA,EAAA,IAAA,CAAA,sBAAA;AAAA,IACF,KAAA,EAAAC,kBAAA,CAAA,IAAA,CAAA,WAAA,CAAA;AAEA,IAAM,KAAA,EAAAC,kBAAgB,CAAC,IAAqB,CAAA,yBAAA,CAAA;AAC1C,IAAA,QAAA,EAAA,CAAA,CAAA;AACA,IAAA,IAAA,EAAA,IAAA,CAAA,IAAW;AAAA,IACb,iBAAA,EAAA,IAAA,CAAA,SAAA;AAEA,IAAO,MAAA,EAAA,IAAA,CAAA,MAAA;AAAA,IACL,OAAA,EAAA,IAAA,CAAA,OAAA;AAAA,IACA,SAAA,EAAAC,iBAAA,CAAA,IAAA,CAAA,aAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AAAA,IACA,WAAA,EAAAA,iBAAA,CAAA,IAAA,CAAA,WAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AAAA,GACA,EAAA;AAAA,IACAC,cAAA,CAAA,IAAA,CAAA,MAAA,EAAA,SAAA,CAAA;AAAA,GACA,EAAA,EAAA,EAAA,CAAA,MAAA,EAAA,iBAAA,EAAA,QAAA,EAAA,SAAA,EAAA,WAAA,EAAA,aAAA,CAAA,CAAA,CAAA;AAAA,CACA;AACA,mBACA,gBAAAC,iCAAA,CAAA,SAAA,EAAA,CAAA,CAAA,QAAA,EAAA,WAAA,CAAA,EAAA,CAAA,QAAA,EAAA,mBAAA,CAAA,CAAA,CAAA;;;;"}