{"version":3,"file":"color.js","sources":["../../../../../../../packages/components/color-picker-panel/src/utils/color.ts"],"sourcesContent":["import***REMOVED***{***REMOVED***TinyColor***REMOVED***}***REMOVED***from***REMOVED***'@ctrl/tinycolor'\nimport***REMOVED***{***REMOVED***hasOwn***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***ColorFormats***REMOVED***}***REMOVED***from***REMOVED***'@ctrl/tinycolor'\n\ninterface***REMOVED***ColorOptions***REMOVED***{\n***REMOVED******REMOVED***enableAlpha:***REMOVED***boolean\n***REMOVED******REMOVED***format:***REMOVED***string\n***REMOVED******REMOVED***value?:***REMOVED***string***REMOVED***|***REMOVED***null\n}\n\nexport***REMOVED***default***REMOVED***class***REMOVED***Color***REMOVED***{\n***REMOVED******REMOVED***private***REMOVED***_hue***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED***private***REMOVED***_saturation***REMOVED***=***REMOVED***100\n***REMOVED******REMOVED***private***REMOVED***_value***REMOVED***=***REMOVED***100\n***REMOVED******REMOVED***private***REMOVED***_alpha***REMOVED***=***REMOVED***100\n***REMOVED******REMOVED***private***REMOVED***_tiny***REMOVED***=***REMOVED***new***REMOVED***TinyColor()\n***REMOVED******REMOVED***private***REMOVED***_isValid***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED***public***REMOVED***enableAlpha***REMOVED***=***REMOVED***false\n***REMOVED******REMOVED***public***REMOVED***format***REMOVED***=***REMOVED***''\n***REMOVED******REMOVED***public***REMOVED***value***REMOVED***=***REMOVED***''\n***REMOVED******REMOVED***public***REMOVED***selected?:***REMOVED***boolean\n\n***REMOVED******REMOVED***constructor(options:***REMOVED***Partial<ColorOptions>***REMOVED***=***REMOVED***{})***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(const***REMOVED***option***REMOVED***in***REMOVED***options)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(options,***REMOVED***option))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this[option]***REMOVED***=***REMOVED***options[option]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(options.value)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.fromString(options.value)\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.doOnChange()\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***set(prop:***REMOVED***{***REMOVED***[key:***REMOVED***string]:***REMOVED***any***REMOVED***}***REMOVED***|***REMOVED***any,***REMOVED***value?:***REMOVED***number)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(arguments.length***REMOVED***===***REMOVED***1***REMOVED***&&***REMOVED***typeof***REMOVED***prop***REMOVED***===***REMOVED***'object')***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***for***REMOVED***(const***REMOVED***p***REMOVED***in***REMOVED***prop)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(hasOwn(prop,***REMOVED***p))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.set(p,***REMOVED***prop[p])\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***;(this***REMOVED***as***REMOVED***any)[`_${prop}`]***REMOVED***=***REMOVED***value\n***REMOVED******REMOVED******REMOVED******REMOVED***this._isValid***REMOVED***=***REMOVED***true\n***REMOVED******REMOVED******REMOVED******REMOVED***this.doOnChange()\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***get(prop:***REMOVED***string)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(['hue',***REMOVED***'saturation',***REMOVED***'value',***REMOVED***'alpha'].includes(prop))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***Math.round((this***REMOVED***as***REMOVED***any)[`_${prop}`])\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***(this***REMOVED***as***REMOVED***any)[`_${prop}`]\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***toRgb()***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this._isValid***REMOVED***?***REMOVED***this._tiny.toRgb()***REMOVED***:***REMOVED***{***REMOVED***r:***REMOVED***255,***REMOVED***g:***REMOVED***255,***REMOVED***b:***REMOVED***255,***REMOVED***a:***REMOVED***0***REMOVED***}\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***fromString(value:***REMOVED***string)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***color***REMOVED***=***REMOVED***new***REMOVED***TinyColor(value)\n***REMOVED******REMOVED******REMOVED******REMOVED***this._isValid***REMOVED***=***REMOVED***color.isValid\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(color.isValid)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***h,***REMOVED***s,***REMOVED***v,***REMOVED***a***REMOVED***}***REMOVED***=***REMOVED***color.toHsv()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._hue***REMOVED***=***REMOVED***h\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._saturation***REMOVED***=***REMOVED***s***REMOVED*******REMOVED***100\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._value***REMOVED***=***REMOVED***v***REMOVED*******REMOVED***100\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._alpha***REMOVED***=***REMOVED***a***REMOVED*******REMOVED***100\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._hue***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._saturation***REMOVED***=***REMOVED***100\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._value***REMOVED***=***REMOVED***100\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this._alpha***REMOVED***=***REMOVED***100\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***this.doOnChange()\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***compare(color:***REMOVED***this)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***compareColor***REMOVED***=***REMOVED***new***REMOVED***TinyColor({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***h:***REMOVED***color._hue,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***s:***REMOVED***color._saturation***REMOVED***/***REMOVED***100,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***v:***REMOVED***color._value***REMOVED***/***REMOVED***100,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***a:***REMOVED***color._alpha***REMOVED***/***REMOVED***100,\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this._tiny.equals(compareColor)\n***REMOVED******REMOVED***}\n\n***REMOVED******REMOVED***doOnChange()***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***_hue,***REMOVED***_saturation,***REMOVED***_value,***REMOVED***_alpha,***REMOVED***format,***REMOVED***enableAlpha***REMOVED***}***REMOVED***=***REMOVED***this\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***_format***REMOVED***=***REMOVED***format***REMOVED***||***REMOVED***(enableAlpha***REMOVED***?***REMOVED***'rgb'***REMOVED***:***REMOVED***'hex')\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(format***REMOVED***===***REMOVED***'hex'***REMOVED***&&***REMOVED***enableAlpha)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***_format***REMOVED***=***REMOVED***'hex8'\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***this._tiny***REMOVED***=***REMOVED***new***REMOVED***TinyColor({\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***h:***REMOVED***_hue,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***s:***REMOVED***_saturation***REMOVED***/***REMOVED***100,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***v:***REMOVED***_value***REMOVED***/***REMOVED***100,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***a:***REMOVED***_alpha***REMOVED***/***REMOVED***100,\n***REMOVED******REMOVED******REMOVED******REMOVED***})\n***REMOVED******REMOVED******REMOVED******REMOVED***this.value***REMOVED***=***REMOVED***this._isValid\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***this._tiny.toString(_format***REMOVED***as***REMOVED***ColorFormats)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***''\n***REMOVED******REMOVED***}\n}\n"],"names":["TinyColor","hasOwn"],"mappings":"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"}