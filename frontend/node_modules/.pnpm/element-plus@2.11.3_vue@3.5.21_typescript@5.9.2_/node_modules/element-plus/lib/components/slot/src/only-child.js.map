{"version":3,"file":"only-child.js","sources":["../../../../../../packages/components/slot/src/only-child.tsx"],"sourcesContent":["import***REMOVED***{\n***REMOVED******REMOVED***Comment,\n***REMOVED******REMOVED***Fragment,\n***REMOVED******REMOVED***Text,\n***REMOVED******REMOVED***cloneVNode,\n***REMOVED******REMOVED***defineComponent,\n***REMOVED******REMOVED***inject,\n***REMOVED******REMOVED***withDirectives,\n}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***NOOP,***REMOVED***debugWarn,***REMOVED***isObject***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{\n***REMOVED******REMOVED***FORWARD_REF_INJECTION_KEY,\n***REMOVED******REMOVED***useForwardRefDirective,\n***REMOVED******REMOVED***useNamespace,\n}***REMOVED***from***REMOVED***'@element-plus/hooks'\n\nimport***REMOVED***type***REMOVED***{***REMOVED***Ref,***REMOVED***VNode***REMOVED***}***REMOVED***from***REMOVED***'vue'\n\nconst***REMOVED***NAME***REMOVED***=***REMOVED***'ElOnlyChild'\n\nexport***REMOVED***const***REMOVED***OnlyChild***REMOVED***=***REMOVED***defineComponent({\n***REMOVED******REMOVED***name:***REMOVED***NAME,\n***REMOVED******REMOVED***setup(_,***REMOVED***{***REMOVED***slots,***REMOVED***attrs***REMOVED***})***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***forwardRefInjection***REMOVED***=***REMOVED***inject(FORWARD_REF_INJECTION_KEY)\n***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***forwardRefDirective***REMOVED***=***REMOVED***useForwardRefDirective(\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***forwardRefInjection?.setForwardRef***REMOVED***??***REMOVED***NOOP\n***REMOVED******REMOVED******REMOVED******REMOVED***)\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***defaultSlot***REMOVED***=***REMOVED***slots.default?.(attrs)\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!defaultSlot)***REMOVED***return***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***[firstLegitNode,***REMOVED***length]***REMOVED***=***REMOVED***findFirstLegitChild(defaultSlot)\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!firstLegitNode)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***debugWarn(NAME,***REMOVED***'no***REMOVED***valid***REMOVED***child***REMOVED***node***REMOVED***found')\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***null\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(length***REMOVED***>***REMOVED***1)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***debugWarn(NAME,***REMOVED***'requires***REMOVED***exact***REMOVED***only***REMOVED***one***REMOVED***valid***REMOVED***child.')\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***withDirectives(cloneVNode(firstLegitNode!,***REMOVED***attrs),***REMOVED***[\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***[forwardRefDirective],\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***])\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***},\n})\n\nfunction***REMOVED***findFirstLegitChild(\n***REMOVED******REMOVED***node:***REMOVED***VNode[]***REMOVED***|***REMOVED***undefined\n):***REMOVED***[VNode***REMOVED***|***REMOVED***null,***REMOVED***number]***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(!node)***REMOVED***return***REMOVED***[null,***REMOVED***0]\n***REMOVED******REMOVED***const***REMOVED***children***REMOVED***=***REMOVED***node***REMOVED***as***REMOVED***VNode[]\n***REMOVED******REMOVED***const***REMOVED***len***REMOVED***=***REMOVED***children.filter((c)***REMOVED***=>***REMOVED***c.type***REMOVED***!==***REMOVED***Comment).length\n\n***REMOVED******REMOVED***for***REMOVED***(const***REMOVED***child***REMOVED***of***REMOVED***children)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***/**\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***when***REMOVED***user***REMOVED***uses***REMOVED***h(Fragment,***REMOVED***[text])***REMOVED***to***REMOVED***render***REMOVED***plain***REMOVED***string,\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***this***REMOVED***switch***REMOVED***case***REMOVED***just***REMOVED***cannot***REMOVED***handle,***REMOVED***when***REMOVED***the***REMOVED***value***REMOVED***is***REMOVED***primitives\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***we***REMOVED***should***REMOVED***just***REMOVED***return***REMOVED***the***REMOVED***wrapped***REMOVED***string\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(isObject(child))***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***switch***REMOVED***(child.type)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***Comment:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***continue\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***Text:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***'svg':\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[wrapTextContent(child),***REMOVED***len]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***case***REMOVED***Fragment:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***findFirstLegitChild(child.children***REMOVED***as***REMOVED***VNode[])\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***default:\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[child,***REMOVED***len]\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***[wrapTextContent(child),***REMOVED***len]\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***return***REMOVED***[null,***REMOVED***0]\n}\n\nfunction***REMOVED***wrapTextContent(s:***REMOVED***string***REMOVED***|***REMOVED***VNode)***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***ns***REMOVED***=***REMOVED***useNamespace('only-child')\n***REMOVED******REMOVED***return***REMOVED***<span***REMOVED***class={ns.e('content')}>{s}</span>\n}\n\nexport***REMOVED***type***REMOVED***OnlyChildExpose***REMOVED***=***REMOVED***{\n***REMOVED******REMOVED***forwardRef:***REMOVED***Ref<HTMLElement>\n}\n"],"names":["NAME","OnlyChild","defineComponent","name","slots","attrs","forwardRefInjection","inject","FORWARD_REF_INJECTION_KEY","forwardRefDirective","useForwardRefDirective","setForwardRef","NOOP","defaultSlot","debugWarn","findFirstLegitChild","Comment","children","len","filter","child","Text","Fragment","wrapTextContent","useNamespace"],"mappings":";;;;;;;;;AAkBA,MAAMA,IAAI,GAAG,aAAb,CAAA;AAEaC,MAAAA,SAAS,GAAGC,mBAAe,CAAC;AACvCC,EAAAA,IAAI,EAAEH,IADiC;;IAElC,KAAA;IAAMI,KAAF;AAASC,GAAAA,EAAAA;AAAT,IAAkB,IAAA,EAAA,CAAA;AACzB,IAAA,MAAMC,mBAAmB,GAAGC,UAAM,CAACC,+BAAD,CAAlC,CAAA;IACA,MAAMC,mBAAmB,GAAGC,4BAAsB,CAChDJ,yBAAqBK,IAAAA,IAAAA,GAAiBC,KAAAA,CADU,GAAlD,mBAAA,CAAA,aAAA,KAAA,IAAA,GAAA,EAAA,GAAAA,WAAA,CAAA,CAAA;AAGA,IAAA,OAAO,MAAM;AACX,MAAA,IAAA;AACA,MAAA,MAAKC,WAAa,GAAA,CAAA,GAAA,GAAA,KAAA,CAAA,OAAA,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA,KAAA,CAAA,CAAA;MAClB,IAAM,CAAA;;MAEN,qBAAqB,EAAA,MAAA,CAAA,GAAA,mBAAA,CAAA,WAAA,CAAA,CAAA;AACnBC,MAAAA,IAAAA,CAAAA,cAAgB,EAAA;AAEjB,QAAA,OAAA,IAAA,CAAA;;;AAKD,KAAA,CAAA;;AAIH,CAAA,EAAA;;AAxBsC,EAAlC,IAAA,CAAA,IAAA;;AA2BP,EAASC,MAAAA,QAAAA,GAAAA,IAAAA,CAAAA;EAGP,SAAA,GAAW,QAAO,CAAA,MAAP,CAAA,CAAA,CAAA,KAAA,CAAA,CAAA,IAAA,KAAAC,WAAA,CAAA,CAAA,MAAA,CAAA;EACX,KAAMC,MAAAA,SAAN,QAAA,EAAA;AACA,IAAA,IAAMC,eAAc,CAAA,KAAA,CAACC;;AAErB,QAAWC,KAAAA,WAASH;AAClB,UAAA,SAAA;AACJ,QAAA,KAAAI,QAAA,CAAA;AACA,QAAA,KAAA,KAAA;AACA,UAAA,OAAA,CAAA,eAAA,CAAA,KAAA,CAAA,EAAA,GAAA,CAAA,CAAA;AACA,QAAA,KAAAC,YAAA;AACI,UAAY,OAACF,mBAAQ,CAAA,KAAA,CAAA,QAAA,CAAA,CAAA;QACXA;AACN,UAAA,OAAA,CAAA,KAAA,EAAA,GAAA,CAAA,CAAA;AACE,OAAA;;AACF,IAAA,OAAA,CAAA,eAAA,CAAA,KAAA,CAAA,EAAA,GAAA,CAAA,CAAA;AACA,GAAA;AACE,EAAA,OAAA,CAAA,IAAA,EAAA,CAAO,CAACG,CAAe;;AACzB,SAAA,eAAA,CAAA,CAAA,EAAA;AACE,EAAA,MAAA,EAAA,GAAAC,oBAA0B,CAAA,YAAM,CAAA,CAAA;;AAClC,IAAA,OAAA,EAAA,EAAA,CAAA,CAAA,CAAA,SAAA,CAAA;AACE,GAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AATJ;;;;"}