{"version":3,"file":"countdown2.js","sources":["../../../../../../packages/components/countdown/src/countdown.vue"],"sourcesContent":["<template>\n***REMOVED******REMOVED***<el-statistic\n***REMOVED******REMOVED******REMOVED******REMOVED***:value=\"rawValue\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:title=\"title\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:prefix=\"prefix\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:suffix=\"suffix\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:value-style=\"valueStyle\"\n***REMOVED******REMOVED******REMOVED******REMOVED***:formatter=\"formatter\"\n***REMOVED******REMOVED***>\n***REMOVED******REMOVED******REMOVED******REMOVED***<template***REMOVED***v-for=\"(_,***REMOVED***name)***REMOVED***in***REMOVED***$slots\"***REMOVED***#[name]>\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<slot***REMOVED***:name=\"name\"***REMOVED***/>\n***REMOVED******REMOVED******REMOVED******REMOVED***</template>\n***REMOVED******REMOVED***</el-statistic>\n</template>\n\n<script***REMOVED***lang=\"ts\"***REMOVED***setup>\nimport***REMOVED***{***REMOVED***computed,***REMOVED***onBeforeUnmount,***REMOVED***onMounted,***REMOVED***ref,***REMOVED***watch***REMOVED***}***REMOVED***from***REMOVED***'vue'\nimport***REMOVED***{***REMOVED***ElStatistic***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/components/statistic'\nimport***REMOVED***{***REMOVED***cAF,***REMOVED***rAF***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/utils'\nimport***REMOVED***{***REMOVED***CHANGE_EVENT***REMOVED***}***REMOVED***from***REMOVED***'@element-plus/constants'\nimport***REMOVED***{***REMOVED***countdownEmits,***REMOVED***countdownProps***REMOVED***}***REMOVED***from***REMOVED***'./countdown'\nimport***REMOVED***{***REMOVED***formatTime,***REMOVED***getTime***REMOVED***}***REMOVED***from***REMOVED***'./utils'\n\ndefineOptions({\n***REMOVED******REMOVED***name:***REMOVED***'ElCountdown',\n})\n\nconst***REMOVED***props***REMOVED***=***REMOVED***defineProps(countdownProps)\nconst***REMOVED***emit***REMOVED***=***REMOVED***defineEmits(countdownEmits)\n\nlet***REMOVED***timer:***REMOVED***ReturnType<typeof***REMOVED***rAF>***REMOVED***|***REMOVED***undefined\nconst***REMOVED***rawValue***REMOVED***=***REMOVED***ref<number>(0)\nconst***REMOVED***displayValue***REMOVED***=***REMOVED***computed(()***REMOVED***=>***REMOVED***formatTime(rawValue.value,***REMOVED***props.format))\n\nconst***REMOVED***formatter***REMOVED***=***REMOVED***(val:***REMOVED***number)***REMOVED***=>***REMOVED***formatTime(val,***REMOVED***props.format)\n\nconst***REMOVED***stopTimer***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***if***REMOVED***(timer)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***cAF(timer)\n***REMOVED******REMOVED******REMOVED******REMOVED***timer***REMOVED***=***REMOVED***undefined\n***REMOVED******REMOVED***}\n}\n\nconst***REMOVED***startTimer***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***const***REMOVED***timestamp***REMOVED***=***REMOVED***getTime(props.value)\n***REMOVED******REMOVED***const***REMOVED***frameFunc***REMOVED***=***REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED***let***REMOVED***diff***REMOVED***=***REMOVED***timestamp***REMOVED***-***REMOVED***Date.now()\n***REMOVED******REMOVED******REMOVED******REMOVED***emit(CHANGE_EVENT,***REMOVED***diff)\n***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(diff***REMOVED***<=***REMOVED***0)***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***diff***REMOVED***=***REMOVED***0\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stopTimer()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***emit('finish')\n***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***timer***REMOVED***=***REMOVED***rAF(frameFunc)\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED******REMOVED******REMOVED***rawValue.value***REMOVED***=***REMOVED***diff\n***REMOVED******REMOVED***}\n***REMOVED******REMOVED***timer***REMOVED***=***REMOVED***rAF(frameFunc)\n}\n\nonMounted(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***rawValue.value***REMOVED***=***REMOVED***getTime(props.value)***REMOVED***-***REMOVED***Date.now()\n\n***REMOVED******REMOVED***watch(\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***[props.value,***REMOVED***props.format],\n***REMOVED******REMOVED******REMOVED******REMOVED***()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***stopTimer()\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***startTimer()\n***REMOVED******REMOVED******REMOVED******REMOVED***},\n***REMOVED******REMOVED******REMOVED******REMOVED***{\n***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***immediate:***REMOVED***true,\n***REMOVED******REMOVED******REMOVED******REMOVED***}\n***REMOVED******REMOVED***)\n})\n\nonBeforeUnmount(()***REMOVED***=>***REMOVED***{\n***REMOVED******REMOVED***stopTimer()\n})\n\ndefineExpose({\n***REMOVED******REMOVED***/**\n***REMOVED******REMOVED******REMOVED*******REMOVED***@description***REMOVED***current***REMOVED***display***REMOVED***value\n***REMOVED******REMOVED******REMOVED****/\n***REMOVED******REMOVED***displayValue,\n})\n</script>\n"],"names":["ref","computed","formatTime","cAF","getTime","CHANGE_EVENT","rAF","onMounted","watch","onBeforeUnmount","_openBlock","_createBlock","_unref","ElStatistic"],"mappings":";;;;;;;;;;;;uCAuBc,CAAA;AAAA,EACZ,IAAM,EAAA,aAAA;AACR,CAAA,CAAA,CAAA;;;;;;;AAKA,IAAI,IAAA,KAAA,CAAA;AACJ,IAAM,MAAA,QAAA,GAAWA,QAAY,CAAC,CAAA,CAAA;AAC9B,IAAM,MAAA,YAAA,GAAeC,aAAS,MAAMC,gBAAA,CAAW,SAAS,KAAO,EAAA,KAAA,CAAM,MAAM,CAAC,CAAA,CAAA;AAE5E,IAAA,MAAM,YAAY,CAAC,GAAA,KAAgBA,gBAAW,CAAA,GAAA,EAAK,MAAM,MAAM,CAAA,CAAA;AAE/D,IAAA,MAAM,YAAY,MAAM;AACtB,MAAA,IAAI,KAAO,EAAA;AACT,QAAAC,OAAA,CAAI,KAAK,CAAA,CAAA;AACT,QAAQ,KAAA,GAAA,KAAA,CAAA,CAAA;AAAA,OACV;AAAA,KACF,CAAA;AAEA,IAAA,MAAM,aAAa,MAAM;AACvB,MAAM,MAAA,SAAA,GAAYC,aAAQ,CAAA,KAAA,CAAM,KAAK,CAAA,CAAA;AACrC,MAAA,MAAM,YAAY,MAAM;AACtB,QAAI,IAAA,IAAA,GAAO,SAAY,GAAA,IAAA,CAAK,GAAI,EAAA,CAAA;AAChC,QAAA,IAAA,CAAKC,oBAAc,IAAI,CAAA,CAAA;AACvB,QAAA,IAAI,QAAQ,CAAG,EAAA;AACb,UAAO,IAAA,GAAA,CAAA,CAAA;AACP,UAAU,SAAA,EAAA,CAAA;AACV,UAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAAA,SACR,MAAA;AACL,UAAA,KAAA,GAAQC,QAAI,SAAS,CAAA,CAAA;AAAA,SACvB;AACA,QAAA,QAAA,CAAS,KAAQ,GAAA,IAAA,CAAA;AAAA,OACnB,CAAA;AACA,MAAA,KAAA,GAAQA,QAAI,SAAS,CAAA,CAAA;AAAA,KACvB,CAAA;AAEA,IAAAC,aAAA,CAAU,MAAM;AACd,MAAA,QAAA,CAAS,QAAQH,aAAQ,CAAA,KAAA,CAAM,KAAK,CAAA,GAAI,KAAK,GAAI,EAAA,CAAA;AAEjD,MAAAI,SAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,MAAA,CAAA,EAAA,MAAA;AAAA,QACE,SAAa,EAAA,CAAA;AAAmB,QAChC,UAAM,EAAA,CAAA;AACJ,OAAU,EAAA;AACV,QAAW,SAAA,EAAA,IAAA;AAAA,OACb,CAAA,CAAA;AAAA,KACA,CAAA,CAAA;AAAA,IAAAC,mBACa,CAAA,MAAA;AAAA,MACb,SAAA,EAAA,CAAA;AAAA,KACF,CAAA,CAAA;AAAA,IACF,MAAC,CAAA;AAED,MAAA,YAAA;AACE,KAAU,CAAA,CAAA;AAAA,IACZ,OAAC,CAAA,IAAA,EAAA,MAAA,KAAA;AAED,MAAa,OAAAC,aAAA,EAAA,EAAAC,eAAA,CAAAC,SAAA,CAAAC,iBAAA,CAAA,EAAA;AAAA,QAAA,KAAA,EAAA,QAAA,CAAA,KAAA;AAAA,QAAA,KAAA,EAAA,IAAA,CAAA,KAAA;AAAA,QAAA,MAAA,EAAA,IAAA,CAAA,MAAA;AAAA,QAIX,MAAA,EAAA,IAAA,CAAA,MAAA;AAAA,QACD,aAAA,EAAA,IAAA,CAAA,UAAA;;;;;;;;;;;;;;;;;;;;;"}