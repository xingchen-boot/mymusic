'use***REMOVED***strict';

Object.defineProperty(exports,***REMOVED***'__esModule',***REMOVED***{***REMOVED***value:***REMOVED***true***REMOVED***});

var***REMOVED***types***REMOVED***=***REMOVED***require('../../../utils/types.js');
var***REMOVED***shared***REMOVED***=***REMOVED***require('@vue/shared');

let***REMOVED***uid***REMOVED***=***REMOVED***0;
const***REMOVED***calculatePathNodes***REMOVED***=***REMOVED***(node)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***nodes***REMOVED***=***REMOVED***[node];
***REMOVED******REMOVED***let***REMOVED***{***REMOVED***parent***REMOVED***}***REMOVED***=***REMOVED***node;
***REMOVED******REMOVED***while***REMOVED***(parent)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***nodes.unshift(parent);
***REMOVED******REMOVED******REMOVED******REMOVED***parent***REMOVED***=***REMOVED***parent.parent;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***nodes;
};
class***REMOVED***Node***REMOVED***{
***REMOVED******REMOVED***constructor(data,***REMOVED***config,***REMOVED***parent,***REMOVED***root***REMOVED***=***REMOVED***false)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.data***REMOVED***=***REMOVED***data;
***REMOVED******REMOVED******REMOVED******REMOVED***this.config***REMOVED***=***REMOVED***config;
***REMOVED******REMOVED******REMOVED******REMOVED***this.parent***REMOVED***=***REMOVED***parent;
***REMOVED******REMOVED******REMOVED******REMOVED***this.root***REMOVED***=***REMOVED***root;
***REMOVED******REMOVED******REMOVED******REMOVED***this.uid***REMOVED***=***REMOVED***uid++;
***REMOVED******REMOVED******REMOVED******REMOVED***this.checked***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***this.indeterminate***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***this.loading***REMOVED***=***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***value:***REMOVED***valueKey,***REMOVED***label:***REMOVED***labelKey,***REMOVED***children:***REMOVED***childrenKey***REMOVED***}***REMOVED***=***REMOVED***config;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***childrenData***REMOVED***=***REMOVED***data[childrenKey];
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***pathNodes***REMOVED***=***REMOVED***calculatePathNodes(this);
***REMOVED******REMOVED******REMOVED******REMOVED***this.level***REMOVED***=***REMOVED***root***REMOVED***?***REMOVED***0***REMOVED***:***REMOVED***parent***REMOVED***?***REMOVED***parent.level***REMOVED***+***REMOVED***1***REMOVED***:***REMOVED***1;
***REMOVED******REMOVED******REMOVED******REMOVED***this.value***REMOVED***=***REMOVED***data[valueKey];
***REMOVED******REMOVED******REMOVED******REMOVED***this.label***REMOVED***=***REMOVED***data[labelKey];
***REMOVED******REMOVED******REMOVED******REMOVED***this.pathNodes***REMOVED***=***REMOVED***pathNodes;
***REMOVED******REMOVED******REMOVED******REMOVED***this.pathValues***REMOVED***=***REMOVED***pathNodes.map((node)***REMOVED***=>***REMOVED***node.value);
***REMOVED******REMOVED******REMOVED******REMOVED***this.pathLabels***REMOVED***=***REMOVED***pathNodes.map((node)***REMOVED***=>***REMOVED***node.label);
***REMOVED******REMOVED******REMOVED******REMOVED***this.childrenData***REMOVED***=***REMOVED***childrenData;
***REMOVED******REMOVED******REMOVED******REMOVED***this.children***REMOVED***=***REMOVED***(childrenData***REMOVED***||***REMOVED***[]).map((child)***REMOVED***=>***REMOVED***new***REMOVED***Node(child,***REMOVED***config,***REMOVED***this));
***REMOVED******REMOVED******REMOVED******REMOVED***this.loaded***REMOVED***=***REMOVED***!config.lazy***REMOVED***||***REMOVED***this.isLeaf***REMOVED***||***REMOVED***!types.isEmpty(childrenData);
***REMOVED******REMOVED******REMOVED******REMOVED***this.text***REMOVED***=***REMOVED***"";
***REMOVED******REMOVED***}
***REMOVED******REMOVED***get***REMOVED***isDisabled()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***data,***REMOVED***parent,***REMOVED***config***REMOVED***}***REMOVED***=***REMOVED***this;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***disabled,***REMOVED***checkStrictly***REMOVED***}***REMOVED***=***REMOVED***config;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isDisabled***REMOVED***=***REMOVED***shared.isFunction(disabled)***REMOVED***?***REMOVED***disabled(data,***REMOVED***this)***REMOVED***:***REMOVED***!!data[disabled];
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***isDisabled***REMOVED***||***REMOVED***!checkStrictly***REMOVED***&&***REMOVED***!!(parent***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***parent.isDisabled);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***get***REMOVED***isLeaf()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***data,***REMOVED***config,***REMOVED***childrenData,***REMOVED***loaded***REMOVED***}***REMOVED***=***REMOVED***this;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***lazy,***REMOVED***leaf***REMOVED***}***REMOVED***=***REMOVED***config;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***isLeaf***REMOVED***=***REMOVED***shared.isFunction(leaf)***REMOVED***?***REMOVED***leaf(data,***REMOVED***this)***REMOVED***:***REMOVED***data[leaf];
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***types.isUndefined(isLeaf)***REMOVED***?***REMOVED***lazy***REMOVED***&&***REMOVED***!loaded***REMOVED***?***REMOVED***false***REMOVED***:***REMOVED***!(shared.isArray(childrenData)***REMOVED***&&***REMOVED***childrenData.length)***REMOVED***:***REMOVED***!!isLeaf;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***get***REMOVED***valueByOption()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***this.config.emitPath***REMOVED***?***REMOVED***this.pathValues***REMOVED***:***REMOVED***this.value;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***appendChild(childData)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***childrenData,***REMOVED***children***REMOVED***}***REMOVED***=***REMOVED***this;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***node***REMOVED***=***REMOVED***new***REMOVED***Node(childData,***REMOVED***this.config,***REMOVED***this);
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(shared.isArray(childrenData))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***childrenData.push(childData);
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.childrenData***REMOVED***=***REMOVED***[childData];
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***children.push(node);
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***node;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***calcText(allLevels,***REMOVED***separator)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***text***REMOVED***=***REMOVED***allLevels***REMOVED***?***REMOVED***this.pathLabels.join(separator)***REMOVED***:***REMOVED***this.label;
***REMOVED******REMOVED******REMOVED******REMOVED***this.text***REMOVED***=***REMOVED***text;
***REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***text;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***broadcast(checked)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***this.children.forEach((child)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(child)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***child.broadcast(checked);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a***REMOVED***=***REMOVED***child.onParentCheck)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.call(child,***REMOVED***checked);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED***}
***REMOVED******REMOVED***emit()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***var***REMOVED***_a;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***parent***REMOVED***}***REMOVED***=***REMOVED***this;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parent)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***(_a***REMOVED***=***REMOVED***parent.onChildCheck)***REMOVED***==***REMOVED***null***REMOVED***?***REMOVED***void***REMOVED***0***REMOVED***:***REMOVED***_a.call(parent);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parent.emit();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***onParentCheck(checked)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!this.isDisabled)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.setCheckState(checked);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
***REMOVED******REMOVED***onChildCheck()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***children***REMOVED***}***REMOVED***=***REMOVED***this;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***validChildren***REMOVED***=***REMOVED***children.filter((child)***REMOVED***=>***REMOVED***!child.isDisabled);
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***checked***REMOVED***=***REMOVED***validChildren.length***REMOVED***?***REMOVED***validChildren.every((child)***REMOVED***=>***REMOVED***child.checked)***REMOVED***:***REMOVED***false;
***REMOVED******REMOVED******REMOVED******REMOVED***this.setCheckState(checked);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***setCheckState(checked)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***totalNum***REMOVED***=***REMOVED***this.children.length;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***checkedNum***REMOVED***=***REMOVED***this.children.reduce((c,***REMOVED***p)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***num***REMOVED***=***REMOVED***p.checked***REMOVED***?***REMOVED***1***REMOVED***:***REMOVED***p.indeterminate***REMOVED***?***REMOVED***0.5***REMOVED***:***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***c***REMOVED***+***REMOVED***num;
***REMOVED******REMOVED******REMOVED******REMOVED***},***REMOVED***0);
***REMOVED******REMOVED******REMOVED******REMOVED***this.checked***REMOVED***=***REMOVED***this.loaded***REMOVED***&&***REMOVED***this.children.filter((child)***REMOVED***=>***REMOVED***!child.isDisabled).every((child)***REMOVED***=>***REMOVED***child.loaded***REMOVED***&&***REMOVED***child.checked)***REMOVED***&&***REMOVED***checked;
***REMOVED******REMOVED******REMOVED******REMOVED***this.indeterminate***REMOVED***=***REMOVED***this.loaded***REMOVED***&&***REMOVED***checkedNum***REMOVED***!==***REMOVED***totalNum***REMOVED***&&***REMOVED***checkedNum***REMOVED***>***REMOVED***0;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***doCheck(checked)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(this.checked***REMOVED***===***REMOVED***checked)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***{***REMOVED***checkStrictly,***REMOVED***multiple***REMOVED***}***REMOVED***=***REMOVED***this.config;
***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(checkStrictly***REMOVED***||***REMOVED***!multiple)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.checked***REMOVED***=***REMOVED***checked;
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.broadcast(checked);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.setCheckState(checked);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***this.emit();
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***}
}

exports["default"]***REMOVED***=***REMOVED***Node;
//#***REMOVED***sourceMappingURL=node.js.map
