var***REMOVED***debounce***REMOVED***=***REMOVED***require('./debounce'),
***REMOVED******REMOVED******REMOVED******REMOVED***isObject***REMOVED***=***REMOVED***require('./isObject');

/*****REMOVED***Error***REMOVED***message***REMOVED***constants.***REMOVED****/
var***REMOVED***FUNC_ERROR_TEXT***REMOVED***=***REMOVED***'Expected***REMOVED***a***REMOVED***function';

/**
***REMOVED*******REMOVED***Creates***REMOVED***a***REMOVED***throttled***REMOVED***function***REMOVED***that***REMOVED***only***REMOVED***invokes***REMOVED***`func`***REMOVED***at***REMOVED***most***REMOVED***once***REMOVED***per
***REMOVED*******REMOVED***every***REMOVED***`wait`***REMOVED***milliseconds.***REMOVED***The***REMOVED***throttled***REMOVED***function***REMOVED***comes***REMOVED***with***REMOVED***a***REMOVED***`cancel`
***REMOVED*******REMOVED***method***REMOVED***to***REMOVED***cancel***REMOVED***delayed***REMOVED***`func`***REMOVED***invocations***REMOVED***and***REMOVED***a***REMOVED***`flush`***REMOVED***method***REMOVED***to
***REMOVED*******REMOVED***immediately***REMOVED***invoke***REMOVED***them.***REMOVED***Provide***REMOVED***`options`***REMOVED***to***REMOVED***indicate***REMOVED***whether***REMOVED***`func`
***REMOVED*******REMOVED***should***REMOVED***be***REMOVED***invoked***REMOVED***on***REMOVED***the***REMOVED***leading***REMOVED***and/or***REMOVED***trailing***REMOVED***edge***REMOVED***of***REMOVED***the***REMOVED***`wait`
***REMOVED*******REMOVED***timeout.***REMOVED***The***REMOVED***`func`***REMOVED***is***REMOVED***invoked***REMOVED***with***REMOVED***the***REMOVED***last***REMOVED***arguments***REMOVED***provided***REMOVED***to***REMOVED***the
***REMOVED*******REMOVED***throttled***REMOVED***function.***REMOVED***Subsequent***REMOVED***calls***REMOVED***to***REMOVED***the***REMOVED***throttled***REMOVED***function***REMOVED***return***REMOVED***the
***REMOVED*******REMOVED***result***REMOVED***of***REMOVED***the***REMOVED***last***REMOVED***`func`***REMOVED***invocation.
***REMOVED****
***REMOVED*******REMOVED*****Note:*****REMOVED***If***REMOVED***`leading`***REMOVED***and***REMOVED***`trailing`***REMOVED***options***REMOVED***are***REMOVED***`true`,***REMOVED***`func`***REMOVED***is
***REMOVED*******REMOVED***invoked***REMOVED***on***REMOVED***the***REMOVED***trailing***REMOVED***edge***REMOVED***of***REMOVED***the***REMOVED***timeout***REMOVED***only***REMOVED***if***REMOVED***the***REMOVED***throttled***REMOVED***function
***REMOVED*******REMOVED***is***REMOVED***invoked***REMOVED***more***REMOVED***than***REMOVED***once***REMOVED***during***REMOVED***the***REMOVED***`wait`***REMOVED***timeout.
***REMOVED****
***REMOVED*******REMOVED***If***REMOVED***`wait`***REMOVED***is***REMOVED***`0`***REMOVED***and***REMOVED***`leading`***REMOVED***is***REMOVED***`false`,***REMOVED***`func`***REMOVED***invocation***REMOVED***is***REMOVED***deferred
***REMOVED*******REMOVED***until***REMOVED***to***REMOVED***the***REMOVED***next***REMOVED***tick,***REMOVED***similar***REMOVED***to***REMOVED***`setTimeout`***REMOVED***with***REMOVED***a***REMOVED***timeout***REMOVED***of***REMOVED***`0`.
***REMOVED****
***REMOVED*******REMOVED***See***REMOVED***[David***REMOVED***Corbacho's***REMOVED***article](https://css-tricks.com/debouncing-throttling-explained-examples/)
***REMOVED*******REMOVED***for***REMOVED***details***REMOVED***over***REMOVED***the***REMOVED***differences***REMOVED***between***REMOVED***`_.throttle`***REMOVED***and***REMOVED***`_.debounce`.
***REMOVED****
***REMOVED*******REMOVED***@static
***REMOVED*******REMOVED***@memberOf***REMOVED***_
***REMOVED*******REMOVED***@since***REMOVED***0.1.0
***REMOVED*******REMOVED***@category***REMOVED***Function
***REMOVED*******REMOVED***@param***REMOVED***{Function}***REMOVED***func***REMOVED***The***REMOVED***function***REMOVED***to***REMOVED***throttle.
***REMOVED*******REMOVED***@param***REMOVED***{number}***REMOVED***[wait=0]***REMOVED***The***REMOVED***number***REMOVED***of***REMOVED***milliseconds***REMOVED***to***REMOVED***throttle***REMOVED***invocations***REMOVED***to.
***REMOVED*******REMOVED***@param***REMOVED***{Object}***REMOVED***[options={}]***REMOVED***The***REMOVED***options***REMOVED***object.
***REMOVED*******REMOVED***@param***REMOVED***{boolean}***REMOVED***[options.leading=true]
***REMOVED*******REMOVED******REMOVED***Specify***REMOVED***invoking***REMOVED***on***REMOVED***the***REMOVED***leading***REMOVED***edge***REMOVED***of***REMOVED***the***REMOVED***timeout.
***REMOVED*******REMOVED***@param***REMOVED***{boolean}***REMOVED***[options.trailing=true]
***REMOVED*******REMOVED******REMOVED***Specify***REMOVED***invoking***REMOVED***on***REMOVED***the***REMOVED***trailing***REMOVED***edge***REMOVED***of***REMOVED***the***REMOVED***timeout.
***REMOVED*******REMOVED***@returns***REMOVED***{Function}***REMOVED***Returns***REMOVED***the***REMOVED***new***REMOVED***throttled***REMOVED***function.
***REMOVED*******REMOVED***@example
***REMOVED****
***REMOVED*******REMOVED***//***REMOVED***Avoid***REMOVED***excessively***REMOVED***updating***REMOVED***the***REMOVED***position***REMOVED***while***REMOVED***scrolling.
***REMOVED*******REMOVED***jQuery(window).on('scroll',***REMOVED***_.throttle(updatePosition,***REMOVED***100));
***REMOVED****
***REMOVED*******REMOVED***//***REMOVED***Invoke***REMOVED***`renewToken`***REMOVED***when***REMOVED***the***REMOVED***click***REMOVED***event***REMOVED***is***REMOVED***fired,***REMOVED***but***REMOVED***not***REMOVED***more***REMOVED***than***REMOVED***once***REMOVED***every***REMOVED***5***REMOVED***minutes.
***REMOVED*******REMOVED***var***REMOVED***throttled***REMOVED***=***REMOVED***_.throttle(renewToken,***REMOVED***300000,***REMOVED***{***REMOVED***'trailing':***REMOVED***false***REMOVED***});
***REMOVED*******REMOVED***jQuery(element).on('click',***REMOVED***throttled);
***REMOVED****
***REMOVED*******REMOVED***//***REMOVED***Cancel***REMOVED***the***REMOVED***trailing***REMOVED***throttled***REMOVED***invocation.
***REMOVED*******REMOVED***jQuery(window).on('popstate',***REMOVED***throttled.cancel);
***REMOVED****/
function***REMOVED***throttle(func,***REMOVED***wait,***REMOVED***options)***REMOVED***{
***REMOVED******REMOVED***var***REMOVED***leading***REMOVED***=***REMOVED***true,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***trailing***REMOVED***=***REMOVED***true;

***REMOVED******REMOVED***if***REMOVED***(typeof***REMOVED***func***REMOVED***!=***REMOVED***'function')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***TypeError(FUNC_ERROR_TEXT);
***REMOVED******REMOVED***}
***REMOVED******REMOVED***if***REMOVED***(isObject(options))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***leading***REMOVED***=***REMOVED***'leading'***REMOVED***in***REMOVED***options***REMOVED***?***REMOVED***!!options.leading***REMOVED***:***REMOVED***leading;
***REMOVED******REMOVED******REMOVED******REMOVED***trailing***REMOVED***=***REMOVED***'trailing'***REMOVED***in***REMOVED***options***REMOVED***?***REMOVED***!!options.trailing***REMOVED***:***REMOVED***trailing;
***REMOVED******REMOVED***}
***REMOVED******REMOVED***return***REMOVED***debounce(func,***REMOVED***wait,***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***'leading':***REMOVED***leading,
***REMOVED******REMOVED******REMOVED******REMOVED***'maxWait':***REMOVED***wait,
***REMOVED******REMOVED******REMOVED******REMOVED***'trailing':***REMOVED***trailing
***REMOVED******REMOVED***});
}

module.exports***REMOVED***=***REMOVED***throttle;
