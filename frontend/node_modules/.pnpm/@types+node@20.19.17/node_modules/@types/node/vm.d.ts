/**
***REMOVED*******REMOVED***The***REMOVED***`node:vm`***REMOVED***module***REMOVED***enables***REMOVED***compiling***REMOVED***and***REMOVED***running***REMOVED***code***REMOVED***within***REMOVED***V8***REMOVED***Virtual
***REMOVED*******REMOVED***Machine***REMOVED***contexts.
***REMOVED****
***REMOVED*******REMOVED*****The***REMOVED***`node:vm`***REMOVED***module***REMOVED***is***REMOVED***not***REMOVED***a***REMOVED***security**
***REMOVED*******REMOVED*****mechanism.***REMOVED***Do***REMOVED***not***REMOVED***use***REMOVED***it***REMOVED***to***REMOVED***run***REMOVED***untrusted***REMOVED***code.**
***REMOVED****
***REMOVED*******REMOVED***JavaScript***REMOVED***code***REMOVED***can***REMOVED***be***REMOVED***compiled***REMOVED***and***REMOVED***run***REMOVED***immediately***REMOVED***or
***REMOVED*******REMOVED***compiled,***REMOVED***saved,***REMOVED***and***REMOVED***run***REMOVED***later.
***REMOVED****
***REMOVED*******REMOVED***A***REMOVED***common***REMOVED***use***REMOVED***case***REMOVED***is***REMOVED***to***REMOVED***run***REMOVED***the***REMOVED***code***REMOVED***in***REMOVED***a***REMOVED***different***REMOVED***V8***REMOVED***Context.***REMOVED***This***REMOVED***means
***REMOVED*******REMOVED***invoked***REMOVED***code***REMOVED***has***REMOVED***a***REMOVED***different***REMOVED***global***REMOVED***object***REMOVED***than***REMOVED***the***REMOVED***invoking***REMOVED***code.
***REMOVED****
***REMOVED*******REMOVED***One***REMOVED***can***REMOVED***provide***REMOVED***the***REMOVED***context***REMOVED***by***REMOVED***`contextifying`***REMOVED***an
***REMOVED*******REMOVED***object.***REMOVED***The***REMOVED***invoked***REMOVED***code***REMOVED***treats***REMOVED***any***REMOVED***property***REMOVED***in***REMOVED***the***REMOVED***context***REMOVED***like***REMOVED***a
***REMOVED*******REMOVED***global***REMOVED***variable.***REMOVED***Any***REMOVED***changes***REMOVED***to***REMOVED***global***REMOVED***variables***REMOVED***caused***REMOVED***by***REMOVED***the***REMOVED***invoked
***REMOVED*******REMOVED***code***REMOVED***are***REMOVED***reflected***REMOVED***in***REMOVED***the***REMOVED***context***REMOVED***object.
***REMOVED****
***REMOVED*******REMOVED***```js
***REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED****
***REMOVED*******REMOVED***const***REMOVED***x***REMOVED***=***REMOVED***1;
***REMOVED****
***REMOVED*******REMOVED***const***REMOVED***context***REMOVED***=***REMOVED***{***REMOVED***x:***REMOVED***2***REMOVED***};
***REMOVED*******REMOVED***vm.createContext(context);***REMOVED***//***REMOVED***Contextify***REMOVED***the***REMOVED***object.
***REMOVED****
***REMOVED*******REMOVED***const***REMOVED***code***REMOVED***=***REMOVED***'x***REMOVED***+=***REMOVED***40;***REMOVED***var***REMOVED***y***REMOVED***=***REMOVED***17;';
***REMOVED*******REMOVED***//***REMOVED***`x`***REMOVED***and***REMOVED***`y`***REMOVED***are***REMOVED***global***REMOVED***variables***REMOVED***in***REMOVED***the***REMOVED***context.
***REMOVED*******REMOVED***//***REMOVED***Initially,***REMOVED***x***REMOVED***has***REMOVED***the***REMOVED***value***REMOVED***2***REMOVED***because***REMOVED***that***REMOVED***is***REMOVED***the***REMOVED***value***REMOVED***of***REMOVED***context.x.
***REMOVED*******REMOVED***vm.runInContext(code,***REMOVED***context);
***REMOVED****
***REMOVED*******REMOVED***console.log(context.x);***REMOVED***//***REMOVED***42
***REMOVED*******REMOVED***console.log(context.y);***REMOVED***//***REMOVED***17
***REMOVED****
***REMOVED*******REMOVED***console.log(x);***REMOVED***//***REMOVED***1;***REMOVED***y***REMOVED***is***REMOVED***not***REMOVED***defined.
***REMOVED*******REMOVED***```
***REMOVED*******REMOVED***@see***REMOVED***[source](https://github.com/nodejs/node/blob/v20.13.1/lib/vm.js)
***REMOVED****/
declare***REMOVED***module***REMOVED***"vm"***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***import***REMOVED***{***REMOVED***ImportAttributes***REMOVED***}***REMOVED***from***REMOVED***"node:module";
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***Context***REMOVED***extends***REMOVED***NodeJS.Dict<any>***REMOVED***{}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***BaseOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Specifies***REMOVED***the***REMOVED***filename***REMOVED***used***REMOVED***in***REMOVED***stack***REMOVED***traces***REMOVED***produced***REMOVED***by***REMOVED***this***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***''
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***filename?:***REMOVED***string***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Specifies***REMOVED***the***REMOVED***line***REMOVED***number***REMOVED***offset***REMOVED***that***REMOVED***is***REMOVED***displayed***REMOVED***in***REMOVED***stack***REMOVED***traces***REMOVED***produced***REMOVED***by***REMOVED***this***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lineOffset?:***REMOVED***number***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Specifies***REMOVED***the***REMOVED***column***REMOVED***number***REMOVED***offset***REMOVED***that***REMOVED***is***REMOVED***displayed***REMOVED***in***REMOVED***stack***REMOVED***traces***REMOVED***produced***REMOVED***by***REMOVED***this***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***columnOffset?:***REMOVED***number***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***type***REMOVED***DynamicModuleLoader<T>***REMOVED***=***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***specifier:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***referrer:***REMOVED***T,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***importAttributes:***REMOVED***ImportAttributes,
***REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***=>***REMOVED***Module***REMOVED***|***REMOVED***Promise<Module>;
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***ScriptOptions***REMOVED***extends***REMOVED***BaseOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Provides***REMOVED***an***REMOVED***optional***REMOVED***data***REMOVED***with***REMOVED***V8's***REMOVED***code***REMOVED***cache***REMOVED***data***REMOVED***for***REMOVED***the***REMOVED***supplied***REMOVED***source.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedData?:***REMOVED***Buffer***REMOVED***|***REMOVED***NodeJS.ArrayBufferView***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***@deprecated***REMOVED***in***REMOVED***favor***REMOVED***of***REMOVED***`script.createCachedData()`***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***produceCachedData?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Used***REMOVED***to***REMOVED***specify***REMOVED***how***REMOVED***the***REMOVED***modules***REMOVED***should***REMOVED***be***REMOVED***loaded***REMOVED***during***REMOVED***the***REMOVED***evaluation***REMOVED***of***REMOVED***this***REMOVED***script***REMOVED***when***REMOVED***`import()`***REMOVED***is***REMOVED***called.***REMOVED***This***REMOVED***option***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***part***REMOVED***of***REMOVED***the***REMOVED***experimental***REMOVED***modules***REMOVED***API.***REMOVED***We***REMOVED***do***REMOVED***not***REMOVED***recommend***REMOVED***using***REMOVED***it***REMOVED***in***REMOVED***a***REMOVED***production***REMOVED***environment.***REMOVED***For***REMOVED***detailed***REMOVED***information,***REMOVED***see
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[Support***REMOVED***of***REMOVED***dynamic***REMOVED***`import()`***REMOVED***in***REMOVED***compilation***REMOVED***APIs](https://nodejs.org/docs/latest-v20.x/api/vm.html#support-of-dynamic-import-in-compilation-apis).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***importModuleDynamically?:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***DynamicModuleLoader<Script>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***typeof***REMOVED***constants.USE_MAIN_CONTEXT_DEFAULT_LOADER
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***RunningScriptOptions***REMOVED***extends***REMOVED***BaseOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***When***REMOVED***`true`,***REMOVED***if***REMOVED***an***REMOVED***`Error`***REMOVED***occurs***REMOVED***while***REMOVED***compiling***REMOVED***the***REMOVED***`code`,***REMOVED***the***REMOVED***line***REMOVED***of***REMOVED***code***REMOVED***causing***REMOVED***the***REMOVED***error***REMOVED***is***REMOVED***attached***REMOVED***to***REMOVED***the***REMOVED***stack***REMOVED***trace.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***true
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***displayErrors?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Specifies***REMOVED***the***REMOVED***number***REMOVED***of***REMOVED***milliseconds***REMOVED***to***REMOVED***execute***REMOVED***code***REMOVED***before***REMOVED***terminating***REMOVED***execution.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***execution***REMOVED***is***REMOVED***terminated,***REMOVED***an***REMOVED***`Error`***REMOVED***will***REMOVED***be***REMOVED***thrown.***REMOVED***This***REMOVED***value***REMOVED***must***REMOVED***be***REMOVED***a***REMOVED***strictly***REMOVED***positive***REMOVED***integer.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***timeout?:***REMOVED***number***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`true`,***REMOVED***the***REMOVED***execution***REMOVED***will***REMOVED***be***REMOVED***terminated***REMOVED***when***REMOVED***`SIGINT`***REMOVED***(Ctrl+C)***REMOVED***is***REMOVED***received.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Existing***REMOVED***handlers***REMOVED***for***REMOVED***the***REMOVED***event***REMOVED***that***REMOVED***have***REMOVED***been***REMOVED***attached***REMOVED***via***REMOVED***`process.on('SIGINT')`***REMOVED***will***REMOVED***be***REMOVED***disabled***REMOVED***during***REMOVED***script***REMOVED***execution,***REMOVED***but***REMOVED***will***REMOVED***continue***REMOVED***to***REMOVED***work***REMOVED***after***REMOVED***that.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***execution***REMOVED***is***REMOVED***terminated,***REMOVED***an***REMOVED***`Error`***REMOVED***will***REMOVED***be***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***false
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***breakOnSigint?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***RunningScriptInNewContextOptions***REMOVED***extends***REMOVED***RunningScriptOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Human-readable***REMOVED***name***REMOVED***of***REMOVED***the***REMOVED***newly***REMOVED***created***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contextName?:***REMOVED***CreateContextOptions["name"];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Origin***REMOVED***corresponding***REMOVED***to***REMOVED***the***REMOVED***newly***REMOVED***created***REMOVED***context***REMOVED***for***REMOVED***display***REMOVED***purposes.***REMOVED***The***REMOVED***origin***REMOVED***should***REMOVED***be***REMOVED***formatted***REMOVED***like***REMOVED***a***REMOVED***URL,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***but***REMOVED***with***REMOVED***only***REMOVED***the***REMOVED***scheme,***REMOVED***host,***REMOVED***and***REMOVED***port***REMOVED***(if***REMOVED***necessary),***REMOVED***like***REMOVED***the***REMOVED***value***REMOVED***of***REMOVED***the***REMOVED***`url.origin`***REMOVED***property***REMOVED***of***REMOVED***a***REMOVED***`URL`***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Most***REMOVED***notably,***REMOVED***this***REMOVED***string***REMOVED***should***REMOVED***omit***REMOVED***the***REMOVED***trailing***REMOVED***slash,***REMOVED***as***REMOVED***that***REMOVED***denotes***REMOVED***a***REMOVED***path.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contextOrigin?:***REMOVED***CreateContextOptions["origin"];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contextCodeGeneration?:***REMOVED***CreateContextOptions["codeGeneration"];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***set***REMOVED***to***REMOVED***`afterEvaluate`,***REMOVED***microtasks***REMOVED***will***REMOVED***be***REMOVED***run***REMOVED***immediately***REMOVED***after***REMOVED***the***REMOVED***script***REMOVED***has***REMOVED***run.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***microtaskMode?:***REMOVED***CreateContextOptions["microtaskMode"];
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***RunningCodeOptions***REMOVED***extends***REMOVED***RunningScriptOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Provides***REMOVED***an***REMOVED***optional***REMOVED***data***REMOVED***with***REMOVED***V8's***REMOVED***code***REMOVED***cache***REMOVED***data***REMOVED***for***REMOVED***the***REMOVED***supplied***REMOVED***source.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedData?:***REMOVED***ScriptOptions["cachedData"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Used***REMOVED***to***REMOVED***specify***REMOVED***how***REMOVED***the***REMOVED***modules***REMOVED***should***REMOVED***be***REMOVED***loaded***REMOVED***during***REMOVED***the***REMOVED***evaluation***REMOVED***of***REMOVED***this***REMOVED***script***REMOVED***when***REMOVED***`import()`***REMOVED***is***REMOVED***called.***REMOVED***This***REMOVED***option***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***part***REMOVED***of***REMOVED***the***REMOVED***experimental***REMOVED***modules***REMOVED***API.***REMOVED***We***REMOVED***do***REMOVED***not***REMOVED***recommend***REMOVED***using***REMOVED***it***REMOVED***in***REMOVED***a***REMOVED***production***REMOVED***environment.***REMOVED***For***REMOVED***detailed***REMOVED***information,***REMOVED***see
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[Support***REMOVED***of***REMOVED***dynamic***REMOVED***`import()`***REMOVED***in***REMOVED***compilation***REMOVED***APIs](https://nodejs.org/docs/latest-v22.x/api/vm.html#support-of-dynamic-import-in-compilation-apis).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***importModuleDynamically?:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***DynamicModuleLoader<Script>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***typeof***REMOVED***constants.USE_MAIN_CONTEXT_DEFAULT_LOADER
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***RunningCodeInNewContextOptions***REMOVED***extends***REMOVED***RunningScriptInNewContextOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Provides***REMOVED***an***REMOVED***optional***REMOVED***data***REMOVED***with***REMOVED***V8's***REMOVED***code***REMOVED***cache***REMOVED***data***REMOVED***for***REMOVED***the***REMOVED***supplied***REMOVED***source.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedData?:***REMOVED***ScriptOptions["cachedData"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Used***REMOVED***to***REMOVED***specify***REMOVED***how***REMOVED***the***REMOVED***modules***REMOVED***should***REMOVED***be***REMOVED***loaded***REMOVED***during***REMOVED***the***REMOVED***evaluation***REMOVED***of***REMOVED***this***REMOVED***script***REMOVED***when***REMOVED***`import()`***REMOVED***is***REMOVED***called.***REMOVED***This***REMOVED***option***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***part***REMOVED***of***REMOVED***the***REMOVED***experimental***REMOVED***modules***REMOVED***API.***REMOVED***We***REMOVED***do***REMOVED***not***REMOVED***recommend***REMOVED***using***REMOVED***it***REMOVED***in***REMOVED***a***REMOVED***production***REMOVED***environment.***REMOVED***For***REMOVED***detailed***REMOVED***information,***REMOVED***see
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[Support***REMOVED***of***REMOVED***dynamic***REMOVED***`import()`***REMOVED***in***REMOVED***compilation***REMOVED***APIs](https://nodejs.org/docs/latest-v22.x/api/vm.html#support-of-dynamic-import-in-compilation-apis).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***importModuleDynamically?:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***DynamicModuleLoader<Script>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***typeof***REMOVED***constants.USE_MAIN_CONTEXT_DEFAULT_LOADER
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***CompileFunctionOptions***REMOVED***extends***REMOVED***BaseOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Provides***REMOVED***an***REMOVED***optional***REMOVED***data***REMOVED***with***REMOVED***V8's***REMOVED***code***REMOVED***cache***REMOVED***data***REMOVED***for***REMOVED***the***REMOVED***supplied***REMOVED***source.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedData?:***REMOVED***ScriptOptions["cachedData"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Specifies***REMOVED***whether***REMOVED***to***REMOVED***produce***REMOVED***new***REMOVED***cache***REMOVED***data.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***false
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***produceCachedData?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***sandbox/context***REMOVED***in***REMOVED***which***REMOVED***the***REMOVED***said***REMOVED***function***REMOVED***should***REMOVED***be***REMOVED***compiled***REMOVED***in.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parsingContext?:***REMOVED***Context***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***An***REMOVED***array***REMOVED***containing***REMOVED***a***REMOVED***collection***REMOVED***of***REMOVED***context***REMOVED***extensions***REMOVED***(objects***REMOVED***wrapping***REMOVED***the***REMOVED***current***REMOVED***scope)***REMOVED***to***REMOVED***be***REMOVED***applied***REMOVED***while***REMOVED***compiling
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contextExtensions?:***REMOVED***Object[]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Used***REMOVED***to***REMOVED***specify***REMOVED***how***REMOVED***the***REMOVED***modules***REMOVED***should***REMOVED***be***REMOVED***loaded***REMOVED***during***REMOVED***the***REMOVED***evaluation***REMOVED***of***REMOVED***this***REMOVED***script***REMOVED***when***REMOVED***`import()`***REMOVED***is***REMOVED***called.***REMOVED***This***REMOVED***option***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***part***REMOVED***of***REMOVED***the***REMOVED***experimental***REMOVED***modules***REMOVED***API.***REMOVED***We***REMOVED***do***REMOVED***not***REMOVED***recommend***REMOVED***using***REMOVED***it***REMOVED***in***REMOVED***a***REMOVED***production***REMOVED***environment.***REMOVED***For***REMOVED***detailed***REMOVED***information,***REMOVED***see
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[Support***REMOVED***of***REMOVED***dynamic***REMOVED***`import()`***REMOVED***in***REMOVED***compilation***REMOVED***APIs](https://nodejs.org/docs/latest-v22.x/api/vm.html#support-of-dynamic-import-in-compilation-apis).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***importModuleDynamically?:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***DynamicModuleLoader<ReturnType<typeof***REMOVED***compileFunction>>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***typeof***REMOVED***constants.USE_MAIN_CONTEXT_DEFAULT_LOADER
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***CreateContextOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Human-readable***REMOVED***name***REMOVED***of***REMOVED***the***REMOVED***newly***REMOVED***created***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***'VM***REMOVED***Context***REMOVED***i'***REMOVED***Where***REMOVED***i***REMOVED***is***REMOVED***an***REMOVED***ascending***REMOVED***numerical***REMOVED***index***REMOVED***of***REMOVED***the***REMOVED***created***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***name?:***REMOVED***string***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Corresponds***REMOVED***to***REMOVED***the***REMOVED***newly***REMOVED***created***REMOVED***context***REMOVED***for***REMOVED***display***REMOVED***purposes.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***origin***REMOVED***should***REMOVED***be***REMOVED***formatted***REMOVED***like***REMOVED***a***REMOVED***`URL`,***REMOVED***but***REMOVED***with***REMOVED***only***REMOVED***the***REMOVED***scheme,***REMOVED***host,***REMOVED***and***REMOVED***port***REMOVED***(if***REMOVED***necessary),
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***like***REMOVED***the***REMOVED***value***REMOVED***of***REMOVED***the***REMOVED***`url.origin`***REMOVED***property***REMOVED***of***REMOVED***a***REMOVED***URL***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Most***REMOVED***notably,***REMOVED***this***REMOVED***string***REMOVED***should***REMOVED***omit***REMOVED***the***REMOVED***trailing***REMOVED***slash,***REMOVED***as***REMOVED***that***REMOVED***denotes***REMOVED***a***REMOVED***path.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***''
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***origin?:***REMOVED***string***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***codeGeneration?:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***set***REMOVED***to***REMOVED***false***REMOVED***any***REMOVED***calls***REMOVED***to***REMOVED***eval***REMOVED***or***REMOVED***function***REMOVED***constructors***REMOVED***(Function,***REMOVED***GeneratorFunction,***REMOVED***etc)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***will***REMOVED***throw***REMOVED***an***REMOVED***EvalError.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***true
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***strings?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***set***REMOVED***to***REMOVED***false***REMOVED***any***REMOVED***attempt***REMOVED***to***REMOVED***compile***REMOVED***a***REMOVED***WebAssembly***REMOVED***module***REMOVED***will***REMOVED***throw***REMOVED***a***REMOVED***WebAssembly.CompileError.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***true
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***wasm?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***set***REMOVED***to***REMOVED***`afterEvaluate`,***REMOVED***microtasks***REMOVED***will***REMOVED***be***REMOVED***run***REMOVED***immediately***REMOVED***after***REMOVED***the***REMOVED***script***REMOVED***has***REMOVED***run.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***microtaskMode?:***REMOVED***"afterEvaluate"***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Used***REMOVED***to***REMOVED***specify***REMOVED***how***REMOVED***the***REMOVED***modules***REMOVED***should***REMOVED***be***REMOVED***loaded***REMOVED***during***REMOVED***the***REMOVED***evaluation***REMOVED***of***REMOVED***this***REMOVED***script***REMOVED***when***REMOVED***`import()`***REMOVED***is***REMOVED***called.***REMOVED***This***REMOVED***option***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***part***REMOVED***of***REMOVED***the***REMOVED***experimental***REMOVED***modules***REMOVED***API.***REMOVED***We***REMOVED***do***REMOVED***not***REMOVED***recommend***REMOVED***using***REMOVED***it***REMOVED***in***REMOVED***a***REMOVED***production***REMOVED***environment.***REMOVED***For***REMOVED***detailed***REMOVED***information,***REMOVED***see
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[Support***REMOVED***of***REMOVED***dynamic***REMOVED***`import()`***REMOVED***in***REMOVED***compilation***REMOVED***APIs](https://nodejs.org/docs/latest-v22.x/api/vm.html#support-of-dynamic-import-in-compilation-apis).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***importModuleDynamically?:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***DynamicModuleLoader<Context>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***typeof***REMOVED***constants.USE_MAIN_CONTEXT_DEFAULT_LOADER
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***type***REMOVED***MeasureMemoryMode***REMOVED***=***REMOVED***"summary"***REMOVED***|***REMOVED***"detailed";
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***MeasureMemoryOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***'summary'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***mode?:***REMOVED***MeasureMemoryMode***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***'default'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***execution?:***REMOVED***"default"***REMOVED***|***REMOVED***"eager"***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***MemoryMeasurement***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***total:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryEstimate:***REMOVED***number;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryRange:***REMOVED***[number,***REMOVED***number];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Instances***REMOVED***of***REMOVED***the***REMOVED***`vm.Script`***REMOVED***class***REMOVED***contain***REMOVED***precompiled***REMOVED***scripts***REMOVED***that***REMOVED***can***REMOVED***be
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***executed***REMOVED***in***REMOVED***specific***REMOVED***contexts.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***class***REMOVED***Script***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***constructor(code:***REMOVED***string,***REMOVED***options?:***REMOVED***ScriptOptions***REMOVED***|***REMOVED***string);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Runs***REMOVED***the***REMOVED***compiled***REMOVED***code***REMOVED***contained***REMOVED***by***REMOVED***the***REMOVED***`vm.Script`***REMOVED***object***REMOVED***within***REMOVED***the***REMOVED***given***REMOVED***`contextifiedObject`***REMOVED***and***REMOVED***returns***REMOVED***the***REMOVED***result.***REMOVED***Running***REMOVED***code***REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***access
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***to***REMOVED***local***REMOVED***scope.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***following***REMOVED***example***REMOVED***compiles***REMOVED***code***REMOVED***that***REMOVED***increments***REMOVED***a***REMOVED***global***REMOVED***variable,***REMOVED***sets
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***value***REMOVED***of***REMOVED***another***REMOVED***global***REMOVED***variable,***REMOVED***then***REMOVED***execute***REMOVED***the***REMOVED***code***REMOVED***multiple***REMOVED***times.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***globals***REMOVED***are***REMOVED***contained***REMOVED***in***REMOVED***the***REMOVED***`context`***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***context***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***animal:***REMOVED***'cat',
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***count:***REMOVED***2,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***script***REMOVED***=***REMOVED***new***REMOVED***vm.Script('count***REMOVED***+=***REMOVED***1;***REMOVED***name***REMOVED***=***REMOVED***"kitty";');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.createContext(context);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***10;***REMOVED***++i)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***script.runInContext(context);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(context);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***{***REMOVED***animal:***REMOVED***'cat',***REMOVED***count:***REMOVED***12,***REMOVED***name:***REMOVED***'kitty'***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Using***REMOVED***the***REMOVED***`timeout`***REMOVED***or***REMOVED***`breakOnSigint`***REMOVED***options***REMOVED***will***REMOVED***result***REMOVED***in***REMOVED***new***REMOVED***event***REMOVED***loops
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***and***REMOVED***corresponding***REMOVED***threads***REMOVED***being***REMOVED***started,***REMOVED***which***REMOVED***have***REMOVED***a***REMOVED***non-zero***REMOVED***performance
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***overhead.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***contextifiedObject***REMOVED***A***REMOVED***`contextified`***REMOVED***object***REMOVED***as***REMOVED***returned***REMOVED***by***REMOVED***the***REMOVED***`vm.createContext()`***REMOVED***method.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***the***REMOVED***result***REMOVED***of***REMOVED***the***REMOVED***very***REMOVED***last***REMOVED***statement***REMOVED***executed***REMOVED***in***REMOVED***the***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***runInContext(contextifiedObject:***REMOVED***Context,***REMOVED***options?:***REMOVED***RunningScriptOptions):***REMOVED***any;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***method***REMOVED***is***REMOVED***a***REMOVED***shortcut***REMOVED***to***REMOVED***`script.runInContext(vm.createContext(options),***REMOVED***options)`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***It***REMOVED***does***REMOVED***several***REMOVED***things***REMOVED***at***REMOVED***once:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***1.***REMOVED***Creates***REMOVED***a***REMOVED***new***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***2.***REMOVED***If***REMOVED***`contextObject`***REMOVED***is***REMOVED***an***REMOVED***object,***REMOVED***contextifies***REMOVED***it***REMOVED***with***REMOVED***the***REMOVED***new***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED***If***REMOVED***`contextObject`***REMOVED***is***REMOVED***undefined,***REMOVED***creates***REMOVED***a***REMOVED***new***REMOVED***object***REMOVED***and***REMOVED***contextifies***REMOVED***it.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED***If***REMOVED***`contextObject`***REMOVED***is***REMOVED***`vm.constants.DONT_CONTEXTIFY`,***REMOVED***don't***REMOVED***contextify***REMOVED***anything.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***3.***REMOVED***Runs***REMOVED***the***REMOVED***compiled***REMOVED***code***REMOVED***contained***REMOVED***by***REMOVED***the***REMOVED***`vm.Script`***REMOVED***object***REMOVED***within***REMOVED***the***REMOVED***created***REMOVED***context.***REMOVED***The***REMOVED***code
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***access***REMOVED***to***REMOVED***the***REMOVED***scope***REMOVED***in***REMOVED***which***REMOVED***this***REMOVED***method***REMOVED***is***REMOVED***called.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***4.***REMOVED***Returns***REMOVED***the***REMOVED***result.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***following***REMOVED***example***REMOVED***compiles***REMOVED***code***REMOVED***that***REMOVED***sets***REMOVED***a***REMOVED***global***REMOVED***variable,***REMOVED***then***REMOVED***executes
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***code***REMOVED***multiple***REMOVED***times***REMOVED***in***REMOVED***different***REMOVED***contexts.***REMOVED***The***REMOVED***globals***REMOVED***are***REMOVED***set***REMOVED***on***REMOVED***and
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***contained***REMOVED***within***REMOVED***each***REMOVED***individual***REMOVED***`context`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***require('node:vm');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***script***REMOVED***=***REMOVED***new***REMOVED***vm.Script('globalVar***REMOVED***=***REMOVED***"set"');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***contexts***REMOVED***=***REMOVED***[{},***REMOVED***{},***REMOVED***{}];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***contexts.forEach((context)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***script.runInNewContext(context);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(contexts);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***[{***REMOVED***globalVar:***REMOVED***'set'***REMOVED***},***REMOVED***{***REMOVED***globalVar:***REMOVED***'set'***REMOVED***},***REMOVED***{***REMOVED***globalVar:***REMOVED***'set'***REMOVED***}]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***This***REMOVED***would***REMOVED***throw***REMOVED***if***REMOVED***the***REMOVED***context***REMOVED***is***REMOVED***created***REMOVED***from***REMOVED***a***REMOVED***contextified***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***vm.constants.DONT_CONTEXTIFY***REMOVED***allows***REMOVED***creating***REMOVED***contexts***REMOVED***with***REMOVED***ordinary
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***global***REMOVED***objects***REMOVED***that***REMOVED***can***REMOVED***be***REMOVED***frozen.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***freezeScript***REMOVED***=***REMOVED***new***REMOVED***vm.Script('Object.freeze(globalThis);***REMOVED***globalThis;');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***frozenContext***REMOVED***=***REMOVED***freezeScript.runInNewContext(vm.constants.DONT_CONTEXTIFY);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***contextObject***REMOVED***Either***REMOVED***`vm.constants.DONT_CONTEXTIFY`***REMOVED***or***REMOVED***an***REMOVED***object***REMOVED***that***REMOVED***will***REMOVED***be***REMOVED***contextified.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`undefined`,***REMOVED***an***REMOVED***empty***REMOVED***contextified***REMOVED***object***REMOVED***will***REMOVED***be***REMOVED***created***REMOVED***for***REMOVED***backwards***REMOVED***compatibility.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***the***REMOVED***result***REMOVED***of***REMOVED***the***REMOVED***very***REMOVED***last***REMOVED***statement***REMOVED***executed***REMOVED***in***REMOVED***the***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***runInNewContext(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contextObject?:***REMOVED***Context***REMOVED***|***REMOVED***typeof***REMOVED***constants.DONT_CONTEXTIFY,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***RunningScriptInNewContextOptions,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***):***REMOVED***any;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Runs***REMOVED***the***REMOVED***compiled***REMOVED***code***REMOVED***contained***REMOVED***by***REMOVED***the***REMOVED***`vm.Script`***REMOVED***within***REMOVED***the***REMOVED***context***REMOVED***of***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***current***REMOVED***`global`***REMOVED***object.***REMOVED***Running***REMOVED***code***REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***access***REMOVED***to***REMOVED***local***REMOVED***scope,***REMOVED***but***REMOVED***_does_***REMOVED***have***REMOVED***access***REMOVED***to***REMOVED***the***REMOVED***current***REMOVED***`global`***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***following***REMOVED***example***REMOVED***compiles***REMOVED***code***REMOVED***that***REMOVED***increments***REMOVED***a***REMOVED***`global`***REMOVED***variable***REMOVED***then
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***executes***REMOVED***that***REMOVED***code***REMOVED***multiple***REMOVED***times:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***global.globalVar***REMOVED***=***REMOVED***0;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***script***REMOVED***=***REMOVED***new***REMOVED***vm.Script('globalVar***REMOVED***+=***REMOVED***1',***REMOVED***{***REMOVED***filename:***REMOVED***'myfile.vm'***REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***1000;***REMOVED***++i)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***script.runInThisContext();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(globalVar);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***1000
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***the***REMOVED***result***REMOVED***of***REMOVED***the***REMOVED***very***REMOVED***last***REMOVED***statement***REMOVED***executed***REMOVED***in***REMOVED***the***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***runInThisContext(options?:***REMOVED***RunningScriptOptions):***REMOVED***any;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Creates***REMOVED***a***REMOVED***code***REMOVED***cache***REMOVED***that***REMOVED***can***REMOVED***be***REMOVED***used***REMOVED***with***REMOVED***the***REMOVED***`Script`***REMOVED***constructor's***REMOVED***`cachedData`***REMOVED***option.***REMOVED***Returns***REMOVED***a***REMOVED***`Buffer`.***REMOVED***This***REMOVED***method***REMOVED***may***REMOVED***be***REMOVED***called***REMOVED***at***REMOVED***any
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***time***REMOVED***and***REMOVED***any***REMOVED***number***REMOVED***of***REMOVED***times.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***code***REMOVED***cache***REMOVED***of***REMOVED***the***REMOVED***`Script`***REMOVED***doesn't***REMOVED***contain***REMOVED***any***REMOVED***JavaScript***REMOVED***observable
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***states.***REMOVED***The***REMOVED***code***REMOVED***cache***REMOVED***is***REMOVED***safe***REMOVED***to***REMOVED***be***REMOVED***saved***REMOVED***along***REMOVED***side***REMOVED***the***REMOVED***script***REMOVED***source***REMOVED***and
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***used***REMOVED***to***REMOVED***construct***REMOVED***new***REMOVED***`Script`***REMOVED***instances***REMOVED***multiple***REMOVED***times.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Functions***REMOVED***in***REMOVED***the***REMOVED***`Script`***REMOVED***source***REMOVED***can***REMOVED***be***REMOVED***marked***REMOVED***as***REMOVED***lazily***REMOVED***compiled***REMOVED***and***REMOVED***they***REMOVED***are
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***not***REMOVED***compiled***REMOVED***at***REMOVED***construction***REMOVED***of***REMOVED***the***REMOVED***`Script`.***REMOVED***These***REMOVED***functions***REMOVED***are***REMOVED***going***REMOVED***to***REMOVED***be
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***compiled***REMOVED***when***REMOVED***they***REMOVED***are***REMOVED***invoked***REMOVED***the***REMOVED***first***REMOVED***time.***REMOVED***The***REMOVED***code***REMOVED***cache***REMOVED***serializes***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***metadata***REMOVED***that***REMOVED***V8***REMOVED***currently***REMOVED***knows***REMOVED***about***REMOVED***the***REMOVED***`Script`***REMOVED***that***REMOVED***it***REMOVED***can***REMOVED***use***REMOVED***to***REMOVED***speed***REMOVED***up
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***future***REMOVED***compilations.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***script***REMOVED***=***REMOVED***new***REMOVED***vm.Script(`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***function***REMOVED***add(a,***REMOVED***b)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***return***REMOVED***a***REMOVED***+***REMOVED***b;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***x***REMOVED***=***REMOVED***add(1,***REMOVED***2);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***cacheWithoutAdd***REMOVED***=***REMOVED***script.createCachedData();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***In***REMOVED***`cacheWithoutAdd`***REMOVED***the***REMOVED***function***REMOVED***`add()`***REMOVED***is***REMOVED***marked***REMOVED***for***REMOVED***full***REMOVED***compilation
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***upon***REMOVED***invocation.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***script.runInThisContext();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***cacheWithAdd***REMOVED***=***REMOVED***script.createCachedData();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***`cacheWithAdd`***REMOVED***contains***REMOVED***fully***REMOVED***compiled***REMOVED***function***REMOVED***`add()`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v10.6.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***createCachedData():***REMOVED***Buffer;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***@deprecated***REMOVED***in***REMOVED***favor***REMOVED***of***REMOVED***`script.createCachedData()`***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedDataProduced?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***When***REMOVED***`cachedData`***REMOVED***is***REMOVED***supplied***REMOVED***to***REMOVED***create***REMOVED***the***REMOVED***`vm.Script`,***REMOVED***this***REMOVED***value***REMOVED***will***REMOVED***be***REMOVED***set
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***to***REMOVED***either***REMOVED***`true`***REMOVED***or***REMOVED***`false`***REMOVED***depending***REMOVED***on***REMOVED***acceptance***REMOVED***of***REMOVED***the***REMOVED***data***REMOVED***by***REMOVED***V8.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Otherwise***REMOVED***the***REMOVED***value***REMOVED***is***REMOVED***`undefined`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v5.7.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedDataRejected?:***REMOVED***boolean***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedData?:***REMOVED***Buffer***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***When***REMOVED***the***REMOVED***script***REMOVED***is***REMOVED***compiled***REMOVED***from***REMOVED***a***REMOVED***source***REMOVED***that***REMOVED***contains***REMOVED***a***REMOVED***source***REMOVED***map***REMOVED***magic
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***comment,***REMOVED***this***REMOVED***property***REMOVED***will***REMOVED***be***REMOVED***set***REMOVED***to***REMOVED***the***REMOVED***URL***REMOVED***of***REMOVED***the***REMOVED***source***REMOVED***map.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***script***REMOVED***=***REMOVED***new***REMOVED***vm.Script(`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***function***REMOVED***myFunc()***REMOVED***{}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//#***REMOVED***sourceMappingURL=sourcemap.json
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(script.sourceMapURL);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***sourcemap.json
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v19.1.0,***REMOVED***v18.13.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***sourceMapURL?:***REMOVED***string***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***the***REMOVED***given***REMOVED***`contextObject`***REMOVED***is***REMOVED***an***REMOVED***object,***REMOVED***the***REMOVED***`vm.createContext()`***REMOVED***method***REMOVED***will
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[prepare***REMOVED***that***REMOVED***object](https://nodejs.org/docs/latest-v20.x/api/vm.html#what-does-it-mean-to-contextify-an-object)
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***and***REMOVED***return***REMOVED***a***REMOVED***reference***REMOVED***to***REMOVED***it***REMOVED***so***REMOVED***that***REMOVED***it***REMOVED***can***REMOVED***be***REMOVED***used***REMOVED***in***REMOVED***calls***REMOVED***to***REMOVED***{@link***REMOVED***runInContext}***REMOVED***or
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[`script.runInContext()`](https://nodejs.org/docs/latest-v20.x/api/vm.html#scriptrunincontextcontextifiedobject-options).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Inside***REMOVED***such***REMOVED***scripts,***REMOVED***the***REMOVED***global***REMOVED***object***REMOVED***will***REMOVED***be***REMOVED***wrapped***REMOVED***by***REMOVED***the***REMOVED***`contextObject`,***REMOVED***retaining***REMOVED***all***REMOVED***of***REMOVED***its
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***existing***REMOVED***properties***REMOVED***but***REMOVED***also***REMOVED***having***REMOVED***the***REMOVED***built-in***REMOVED***objects***REMOVED***and***REMOVED***functions***REMOVED***any***REMOVED***standard
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[global***REMOVED***object](https://es5.github.io/#x15.1)***REMOVED***has.***REMOVED***Outside***REMOVED***of***REMOVED***scripts***REMOVED***run***REMOVED***by***REMOVED***the***REMOVED***vm***REMOVED***module,***REMOVED***global
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***variables***REMOVED***will***REMOVED***remain***REMOVED***unchanged.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***require('node:vm');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***global.globalVar***REMOVED***=***REMOVED***3;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***context***REMOVED***=***REMOVED***{***REMOVED***globalVar:***REMOVED***1***REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.createContext(context);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.runInContext('globalVar***REMOVED****=***REMOVED***2;',***REMOVED***context);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(context);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***{***REMOVED***globalVar:***REMOVED***2***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(global.globalVar);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***3
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`contextObject`***REMOVED***is***REMOVED***omitted***REMOVED***(or***REMOVED***passed***REMOVED***explicitly***REMOVED***as***REMOVED***`undefined`),***REMOVED***a***REMOVED***new,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***empty***REMOVED***contextified***REMOVED***object***REMOVED***will***REMOVED***be***REMOVED***returned.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***When***REMOVED***the***REMOVED***global***REMOVED***object***REMOVED***in***REMOVED***the***REMOVED***newly***REMOVED***created***REMOVED***context***REMOVED***is***REMOVED***contextified,***REMOVED***it***REMOVED***has***REMOVED***some***REMOVED***quirks
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***compared***REMOVED***to***REMOVED***ordinary***REMOVED***global***REMOVED***objects.***REMOVED***For***REMOVED***example,***REMOVED***it***REMOVED***cannot***REMOVED***be***REMOVED***frozen.***REMOVED***To***REMOVED***create***REMOVED***a***REMOVED***context
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***without***REMOVED***the***REMOVED***contextifying***REMOVED***quirks,***REMOVED***pass***REMOVED***`vm.constants.DONT_CONTEXTIFY`***REMOVED***as***REMOVED***the***REMOVED***`contextObject`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***argument.***REMOVED***See***REMOVED***the***REMOVED***documentation***REMOVED***of***REMOVED***`vm.constants.DONT_CONTEXTIFY`***REMOVED***for***REMOVED***details.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`vm.createContext()`***REMOVED***method***REMOVED***is***REMOVED***primarily***REMOVED***useful***REMOVED***for***REMOVED***creating***REMOVED***a***REMOVED***single
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***context***REMOVED***that***REMOVED***can***REMOVED***be***REMOVED***used***REMOVED***to***REMOVED***run***REMOVED***multiple***REMOVED***scripts.***REMOVED***For***REMOVED***instance,***REMOVED***if***REMOVED***emulating***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***web***REMOVED***browser,***REMOVED***the***REMOVED***method***REMOVED***can***REMOVED***be***REMOVED***used***REMOVED***to***REMOVED***create***REMOVED***a***REMOVED***single***REMOVED***context***REMOVED***representing***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***window's***REMOVED***global***REMOVED***object,***REMOVED***then***REMOVED***run***REMOVED***all***REMOVED***`<script>`***REMOVED***tags***REMOVED***together***REMOVED***within***REMOVED***that
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***provided***REMOVED***`name`***REMOVED***and***REMOVED***`origin`***REMOVED***of***REMOVED***the***REMOVED***context***REMOVED***are***REMOVED***made***REMOVED***visible***REMOVED***through***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Inspector***REMOVED***API.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***contextObject***REMOVED***Either***REMOVED***`vm.constants.DONT_CONTEXTIFY`***REMOVED***or***REMOVED***an***REMOVED***object***REMOVED***that***REMOVED***will***REMOVED***be***REMOVED***contextified.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`undefined`,***REMOVED***an***REMOVED***empty***REMOVED***contextified***REMOVED***object***REMOVED***will***REMOVED***be***REMOVED***created***REMOVED***for***REMOVED***backwards***REMOVED***compatibility.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***contextified***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***createContext(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contextObject?:***REMOVED***Context***REMOVED***|***REMOVED***typeof***REMOVED***constants.DONT_CONTEXTIFY,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***CreateContextOptions,
***REMOVED******REMOVED******REMOVED******REMOVED***):***REMOVED***Context;
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Returns***REMOVED***`true`***REMOVED***if***REMOVED***the***REMOVED***given***REMOVED***`object`***REMOVED***object***REMOVED***has***REMOVED***been***REMOVED***contextified***REMOVED***using***REMOVED***{@link***REMOVED***createContext},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***or***REMOVED***if***REMOVED***it's***REMOVED***the***REMOVED***global***REMOVED***object***REMOVED***of***REMOVED***a***REMOVED***context***REMOVED***created***REMOVED***using***REMOVED***`vm.constants.DONT_CONTEXTIFY`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.11.7
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***isContext(sandbox:***REMOVED***Context):***REMOVED***boolean;
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`vm.runInContext()`***REMOVED***method***REMOVED***compiles***REMOVED***`code`,***REMOVED***runs***REMOVED***it***REMOVED***within***REMOVED***the***REMOVED***context***REMOVED***of
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***`contextifiedObject`,***REMOVED***then***REMOVED***returns***REMOVED***the***REMOVED***result.***REMOVED***Running***REMOVED***code***REMOVED***does***REMOVED***not***REMOVED***have
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***access***REMOVED***to***REMOVED***the***REMOVED***local***REMOVED***scope.***REMOVED***The***REMOVED***`contextifiedObject`***REMOVED***object***REMOVED***_must_***REMOVED***have***REMOVED***been
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***previously***REMOVED***`contextified`***REMOVED***using***REMOVED***the***REMOVED***{@link***REMOVED***createContext}***REMOVED***method.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`options`***REMOVED***is***REMOVED***a***REMOVED***string,***REMOVED***then***REMOVED***it***REMOVED***specifies***REMOVED***the***REMOVED***filename.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***following***REMOVED***example***REMOVED***compiles***REMOVED***and***REMOVED***executes***REMOVED***different***REMOVED***scripts***REMOVED***using***REMOVED***a***REMOVED***single***REMOVED***`contextified`***REMOVED***object:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***contextObject***REMOVED***=***REMOVED***{***REMOVED***globalVar:***REMOVED***1***REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.createContext(contextObject);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***for***REMOVED***(let***REMOVED***i***REMOVED***=***REMOVED***0;***REMOVED***i***REMOVED***<***REMOVED***10;***REMOVED***++i)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***vm.runInContext('globalVar***REMOVED****=***REMOVED***2;',***REMOVED***contextObject);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(contextObject);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***{***REMOVED***globalVar:***REMOVED***1024***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***code***REMOVED***The***REMOVED***JavaScript***REMOVED***code***REMOVED***to***REMOVED***compile***REMOVED***and***REMOVED***run.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***contextifiedObject***REMOVED***The***REMOVED***`contextified`***REMOVED***object***REMOVED***that***REMOVED***will***REMOVED***be***REMOVED***used***REMOVED***as***REMOVED***the***REMOVED***`global`***REMOVED***when***REMOVED***the***REMOVED***`code`***REMOVED***is***REMOVED***compiled***REMOVED***and***REMOVED***run.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***the***REMOVED***result***REMOVED***of***REMOVED***the***REMOVED***very***REMOVED***last***REMOVED***statement***REMOVED***executed***REMOVED***in***REMOVED***the***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***runInContext(code:***REMOVED***string,***REMOVED***contextifiedObject:***REMOVED***Context,***REMOVED***options?:***REMOVED***RunningCodeOptions***REMOVED***|***REMOVED***string):***REMOVED***any;
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***method***REMOVED***is***REMOVED***a***REMOVED***shortcut***REMOVED***to
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`(new***REMOVED***vm.Script(code,***REMOVED***options)).runInContext(vm.createContext(options),***REMOVED***options)`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`options`***REMOVED***is***REMOVED***a***REMOVED***string,***REMOVED***then***REMOVED***it***REMOVED***specifies***REMOVED***the***REMOVED***filename.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***It***REMOVED***does***REMOVED***several***REMOVED***things***REMOVED***at***REMOVED***once:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***1.***REMOVED***Creates***REMOVED***a***REMOVED***new***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***2.***REMOVED***If***REMOVED***`contextObject`***REMOVED***is***REMOVED***an***REMOVED***object,***REMOVED***contextifies***REMOVED***it***REMOVED***with***REMOVED***the***REMOVED***new***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED***If***REMOVED******REMOVED***`contextObject`***REMOVED***is***REMOVED***undefined,***REMOVED***creates***REMOVED***a***REMOVED***new***REMOVED***object***REMOVED***and***REMOVED***contextifies***REMOVED***it.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED***If***REMOVED***`contextObject`***REMOVED***is***REMOVED***`vm.constants.DONT_CONTEXTIFY`,***REMOVED***don't***REMOVED***contextify***REMOVED***anything.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***3.***REMOVED***Compiles***REMOVED***the***REMOVED***code***REMOVED***as***REMOVED***a`vm.Script`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***4.***REMOVED***Runs***REMOVED***the***REMOVED***compield***REMOVED***code***REMOVED***within***REMOVED***the***REMOVED***created***REMOVED***context.***REMOVED***The***REMOVED***code***REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***access***REMOVED***to***REMOVED***the***REMOVED***scope***REMOVED***in
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED***which***REMOVED***this***REMOVED***method***REMOVED***is***REMOVED***called.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***5.***REMOVED***Returns***REMOVED***the***REMOVED***result.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***following***REMOVED***example***REMOVED***compiles***REMOVED***and***REMOVED***executes***REMOVED***code***REMOVED***that***REMOVED***increments***REMOVED***a***REMOVED***global
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***variable***REMOVED***and***REMOVED***sets***REMOVED***a***REMOVED***new***REMOVED***one.***REMOVED***These***REMOVED***globals***REMOVED***are***REMOVED***contained***REMOVED***in***REMOVED***the***REMOVED***`contextObject`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***vm***REMOVED***=***REMOVED***require('node:vm');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***contextObject***REMOVED***=***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***animal:***REMOVED***'cat',
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***count:***REMOVED***2,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.runInNewContext('count***REMOVED***+=***REMOVED***1;***REMOVED***name***REMOVED***=***REMOVED***"kitty"',***REMOVED***contextObject);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(contextObject);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***{***REMOVED***animal:***REMOVED***'cat',***REMOVED***count:***REMOVED***3,***REMOVED***name:***REMOVED***'kitty'***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***This***REMOVED***would***REMOVED***throw***REMOVED***if***REMOVED***the***REMOVED***context***REMOVED***is***REMOVED***created***REMOVED***from***REMOVED***a***REMOVED***contextified***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***vm.constants.DONT_CONTEXTIFY***REMOVED***allows***REMOVED***creating***REMOVED***contexts***REMOVED***with***REMOVED***ordinary***REMOVED***global***REMOVED***objects***REMOVED***that
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***can***REMOVED***be***REMOVED***frozen.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***frozenContext***REMOVED***=***REMOVED***vm.runInNewContext('Object.freeze(globalThis);***REMOVED***globalThis;',***REMOVED***vm.constants.DONT_CONTEXTIFY);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***code***REMOVED***The***REMOVED***JavaScript***REMOVED***code***REMOVED***to***REMOVED***compile***REMOVED***and***REMOVED***run.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***contextObject***REMOVED***Either***REMOVED***`vm.constants.DONT_CONTEXTIFY`***REMOVED***or***REMOVED***an***REMOVED***object***REMOVED***that***REMOVED***will***REMOVED***be***REMOVED***contextified.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`undefined`,***REMOVED***an***REMOVED***empty***REMOVED***contextified***REMOVED***object***REMOVED***will***REMOVED***be***REMOVED***created***REMOVED***for***REMOVED***backwards***REMOVED***compatibility.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***the***REMOVED***result***REMOVED***of***REMOVED***the***REMOVED***very***REMOVED***last***REMOVED***statement***REMOVED***executed***REMOVED***in***REMOVED***the***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***runInNewContext(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***code:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***contextObject?:***REMOVED***Context***REMOVED***|***REMOVED***typeof***REMOVED***constants.DONT_CONTEXTIFY,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***RunningCodeInNewContextOptions***REMOVED***|***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED***):***REMOVED***any;
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`vm.runInThisContext()`***REMOVED***compiles***REMOVED***`code`,***REMOVED***runs***REMOVED***it***REMOVED***within***REMOVED***the***REMOVED***context***REMOVED***of***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***current***REMOVED***`global`***REMOVED***and***REMOVED***returns***REMOVED***the***REMOVED***result.***REMOVED***Running***REMOVED***code***REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***access***REMOVED***to
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***local***REMOVED***scope,***REMOVED***but***REMOVED***does***REMOVED***have***REMOVED***access***REMOVED***to***REMOVED***the***REMOVED***current***REMOVED***`global`***REMOVED***object.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***`options`***REMOVED***is***REMOVED***a***REMOVED***string,***REMOVED***then***REMOVED***it***REMOVED***specifies***REMOVED***the***REMOVED***filename.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***following***REMOVED***example***REMOVED***illustrates***REMOVED***using***REMOVED***both***REMOVED***`vm.runInThisContext()`***REMOVED***and
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***JavaScript***REMOVED***[`eval()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval)***REMOVED***function***REMOVED***to***REMOVED***run***REMOVED***the***REMOVED***same***REMOVED***code:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***let***REMOVED***localVar***REMOVED***=***REMOVED***'initial***REMOVED***value';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***vmResult***REMOVED***=***REMOVED***vm.runInThisContext('localVar***REMOVED***=***REMOVED***"vm";');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(`vmResult:***REMOVED***'${vmResult}',***REMOVED***localVar:***REMOVED***'${localVar}'`);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***vmResult:***REMOVED***'vm',***REMOVED***localVar:***REMOVED***'initial***REMOVED***value'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***evalResult***REMOVED***=***REMOVED***eval('localVar***REMOVED***=***REMOVED***"eval";');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***console.log(`evalResult:***REMOVED***'${evalResult}',***REMOVED***localVar:***REMOVED***'${localVar}'`);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints:***REMOVED***evalResult:***REMOVED***'eval',***REMOVED***localVar:***REMOVED***'eval'
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Because***REMOVED***`vm.runInThisContext()`***REMOVED***does***REMOVED***not***REMOVED***have***REMOVED***access***REMOVED***to***REMOVED***the***REMOVED***local***REMOVED***scope,***REMOVED***`localVar`***REMOVED***is***REMOVED***unchanged.***REMOVED***In***REMOVED***contrast,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[`eval()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval)***REMOVED***_does_***REMOVED***have***REMOVED***access***REMOVED***to***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***local***REMOVED***scope,***REMOVED***so***REMOVED***the***REMOVED***value***REMOVED***`localVar`***REMOVED***is***REMOVED***changed.***REMOVED***In***REMOVED***this***REMOVED***way***REMOVED***`vm.runInThisContext()`***REMOVED***is***REMOVED***much***REMOVED***like***REMOVED***an***REMOVED***[indirect***REMOVED***`eval()`***REMOVED***call](https://es5.github.io/#x10.4.2),***REMOVED***e.g.`(0,eval)('code')`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***##***REMOVED***Example:***REMOVED***Running***REMOVED***an***REMOVED***HTTP***REMOVED***server***REMOVED***within***REMOVED***a***REMOVED***VM
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***When***REMOVED***using***REMOVED***either***REMOVED***`script.runInThisContext()`***REMOVED***or***REMOVED***{@link***REMOVED***runInThisContext},***REMOVED***the***REMOVED***code***REMOVED***is***REMOVED***executed***REMOVED***within***REMOVED***the***REMOVED***current***REMOVED***V8***REMOVED***global
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***context.***REMOVED***The***REMOVED***code***REMOVED***passed***REMOVED***to***REMOVED***this***REMOVED***VM***REMOVED***context***REMOVED***will***REMOVED***have***REMOVED***its***REMOVED***own***REMOVED***isolated***REMOVED***scope.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***In***REMOVED***order***REMOVED***to***REMOVED***run***REMOVED***a***REMOVED***simple***REMOVED***web***REMOVED***server***REMOVED***using***REMOVED***the***REMOVED***`node:http`***REMOVED***module***REMOVED***the***REMOVED***code***REMOVED***passed
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***to***REMOVED***the***REMOVED***context***REMOVED***must***REMOVED***either***REMOVED***call***REMOVED***`require('node:http')`***REMOVED***on***REMOVED***its***REMOVED***own,***REMOVED***or***REMOVED***have***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***reference***REMOVED***to***REMOVED***the***REMOVED***`node:http`***REMOVED***module***REMOVED***passed***REMOVED***to***REMOVED***it.***REMOVED***For***REMOVED***instance:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***'use***REMOVED***strict';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***code***REMOVED***=***REMOVED***`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***((require)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***const***REMOVED***http***REMOVED***=***REMOVED***require('node:http');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***http.createServer((request,***REMOVED***response)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***response.writeHead(200,***REMOVED***{***REMOVED***'Content-Type':***REMOVED***'text/plain'***REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***response.end('Hello***REMOVED***World\\n');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***}).listen(8124);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***console.log('Server***REMOVED***running***REMOVED***at***REMOVED***http://127.0.0.1:8124/');
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***})`;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.runInThisContext(code)(require);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`require()`***REMOVED***in***REMOVED***the***REMOVED***above***REMOVED***case***REMOVED***shares***REMOVED***the***REMOVED***state***REMOVED***with***REMOVED***the***REMOVED***context***REMOVED***it***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***passed***REMOVED***from.***REMOVED***This***REMOVED***may***REMOVED***introduce***REMOVED***risks***REMOVED***when***REMOVED***untrusted***REMOVED***code***REMOVED***is***REMOVED***executed,***REMOVED***e.g.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***altering***REMOVED***objects***REMOVED***in***REMOVED***the***REMOVED***context***REMOVED***in***REMOVED***unwanted***REMOVED***ways.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v0.3.1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***code***REMOVED***The***REMOVED***JavaScript***REMOVED***code***REMOVED***to***REMOVED***compile***REMOVED***and***REMOVED***run.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***the***REMOVED***result***REMOVED***of***REMOVED***the***REMOVED***very***REMOVED***last***REMOVED***statement***REMOVED***executed***REMOVED***in***REMOVED***the***REMOVED***script.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***runInThisContext(code:***REMOVED***string,***REMOVED***options?:***REMOVED***RunningCodeOptions***REMOVED***|***REMOVED***string):***REMOVED***any;
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Compiles***REMOVED***the***REMOVED***given***REMOVED***code***REMOVED***into***REMOVED***the***REMOVED***provided***REMOVED***context***REMOVED***(if***REMOVED***no***REMOVED***context***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***supplied,***REMOVED***the***REMOVED***current***REMOVED***context***REMOVED***is***REMOVED***used),***REMOVED***and***REMOVED***returns***REMOVED***it***REMOVED***wrapped***REMOVED***inside***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***function***REMOVED***with***REMOVED***the***REMOVED***given***REMOVED***`params`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v10.10.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***code***REMOVED***The***REMOVED***body***REMOVED***of***REMOVED***the***REMOVED***function***REMOVED***to***REMOVED***compile.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***params***REMOVED***An***REMOVED***array***REMOVED***of***REMOVED***strings***REMOVED***containing***REMOVED***all***REMOVED***parameters***REMOVED***for***REMOVED***the***REMOVED***function.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***compileFunction(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***code:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***params?:***REMOVED***readonly***REMOVED***string[],
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***CompileFunctionOptions,
***REMOVED******REMOVED******REMOVED******REMOVED***):***REMOVED***Function***REMOVED***&***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedData?:***REMOVED***Script["cachedData"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedDataProduced?:***REMOVED***Script["cachedDataProduced"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedDataRejected?:***REMOVED***Script["cachedDataRejected"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***};
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Measure***REMOVED***the***REMOVED***memory***REMOVED***known***REMOVED***to***REMOVED***V8***REMOVED***and***REMOVED***used***REMOVED***by***REMOVED***all***REMOVED***contexts***REMOVED***known***REMOVED***to***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***current***REMOVED***V8***REMOVED***isolate,***REMOVED***or***REMOVED***the***REMOVED***main***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***format***REMOVED***of***REMOVED***the***REMOVED***object***REMOVED***that***REMOVED***the***REMOVED***returned***REMOVED***Promise***REMOVED***may***REMOVED***resolve***REMOVED***with***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***specific***REMOVED***to***REMOVED***the***REMOVED***V8***REMOVED***engine***REMOVED***and***REMOVED***may***REMOVED***change***REMOVED***from***REMOVED***one***REMOVED***version***REMOVED***of***REMOVED***V8***REMOVED***to***REMOVED***the***REMOVED***next.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***returned***REMOVED***result***REMOVED***is***REMOVED***different***REMOVED***from***REMOVED***the***REMOVED***statistics***REMOVED***returned***REMOVED***by***REMOVED***`v8.getHeapSpaceStatistics()`***REMOVED***in***REMOVED***that***REMOVED***`vm.measureMemory()`***REMOVED***measure***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***memory***REMOVED***reachable***REMOVED***by***REMOVED***each***REMOVED***V8***REMOVED***specific***REMOVED***contexts***REMOVED***in***REMOVED***the***REMOVED***current***REMOVED***instance***REMOVED***of
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***V8***REMOVED***engine,***REMOVED***while***REMOVED***the***REMOVED***result***REMOVED***of***REMOVED***`v8.getHeapSpaceStatistics()`***REMOVED***measure
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***memory***REMOVED***occupied***REMOVED***by***REMOVED***each***REMOVED***heap***REMOVED***space***REMOVED***in***REMOVED***the***REMOVED***current***REMOVED***V8***REMOVED***instance.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Measure***REMOVED***the***REMOVED***memory***REMOVED***used***REMOVED***by***REMOVED***the***REMOVED***main***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.measureMemory({***REMOVED***mode:***REMOVED***'summary'***REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***//***REMOVED***This***REMOVED***is***REMOVED***the***REMOVED***same***REMOVED***as***REMOVED***vm.measureMemory()
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***.then((result)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***The***REMOVED***current***REMOVED***format***REMOVED***is:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED***total:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryEstimate:***REMOVED***2418479,***REMOVED***jsMemoryRange:***REMOVED***[***REMOVED***2418479,***REMOVED***2745799***REMOVED***]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***console.log(result);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***context***REMOVED***=***REMOVED***vm.createContext({***REMOVED***a:***REMOVED***1***REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***vm.measureMemory({***REMOVED***mode:***REMOVED***'detailed',***REMOVED***execution:***REMOVED***'eager'***REMOVED***})
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***.then((result)***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Reference***REMOVED***the***REMOVED***context***REMOVED***here***REMOVED***so***REMOVED***that***REMOVED***it***REMOVED***won't***REMOVED***be***REMOVED***GC'ed
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***until***REMOVED***the***REMOVED***measurement***REMOVED***is***REMOVED***complete.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***console.log(context.a);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED***total:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryEstimate:***REMOVED***2574732,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryRange:***REMOVED***[***REMOVED***2574732,***REMOVED***2904372***REMOVED***]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED***current:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryEstimate:***REMOVED***2438996,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryRange:***REMOVED***[***REMOVED***2438996,***REMOVED***2768636***REMOVED***]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED***other:***REMOVED***[
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryEstimate:***REMOVED***135736,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***jsMemoryRange:***REMOVED***[***REMOVED***135736,***REMOVED***465376***REMOVED***]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED******REMOVED******REMOVED***]
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***console.log(result);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v13.10.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@experimental
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***function***REMOVED***measureMemory(options?:***REMOVED***MeasureMemoryOptions):***REMOVED***Promise<MemoryMeasurement>;
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***ModuleEvaluateOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***timeout?:***REMOVED***RunningScriptOptions["timeout"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***breakOnSigint?:***REMOVED***RunningScriptOptions["breakOnSigint"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***type***REMOVED***ModuleLinker***REMOVED***=***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***specifier:***REMOVED***string,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***referencingModule:***REMOVED***Module,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***extra:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/*****REMOVED***@deprecated***REMOVED***Use***REMOVED***`attributes`***REMOVED***instead***REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***assert:***REMOVED***ImportAttributes;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***attributes:***REMOVED***ImportAttributes;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***},
***REMOVED******REMOVED******REMOVED******REMOVED***)***REMOVED***=>***REMOVED***Module***REMOVED***|***REMOVED***Promise<Module>;
***REMOVED******REMOVED******REMOVED******REMOVED***type***REMOVED***ModuleStatus***REMOVED***=***REMOVED***"unlinked"***REMOVED***|***REMOVED***"linking"***REMOVED***|***REMOVED***"linked"***REMOVED***|***REMOVED***"evaluating"***REMOVED***|***REMOVED***"evaluated"***REMOVED***|***REMOVED***"errored";
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***feature***REMOVED***is***REMOVED***only***REMOVED***available***REMOVED***with***REMOVED***the***REMOVED***`--experimental-vm-modules`***REMOVED***command
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***flag***REMOVED***enabled.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`vm.Module`***REMOVED***class***REMOVED***provides***REMOVED***a***REMOVED***low-level***REMOVED***interface***REMOVED***for***REMOVED***using
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***ECMAScript***REMOVED***modules***REMOVED***in***REMOVED***VM***REMOVED***contexts.***REMOVED***It***REMOVED***is***REMOVED***the***REMOVED***counterpart***REMOVED***of***REMOVED***the***REMOVED***`vm.Script`***REMOVED***class***REMOVED***that***REMOVED***closely***REMOVED***mirrors***REMOVED***[Module***REMOVED***Record](https://262.ecma-international.org/14.0/#sec-abstract-module-records)***REMOVED***s***REMOVED***as
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***defined***REMOVED***in***REMOVED***the***REMOVED***ECMAScript
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Unlike***REMOVED***`vm.Script`***REMOVED***however,***REMOVED***every***REMOVED***`vm.Module`***REMOVED***object***REMOVED***is***REMOVED***bound***REMOVED***to***REMOVED***a***REMOVED***context***REMOVED***from
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***its***REMOVED***creation.***REMOVED***Operations***REMOVED***on***REMOVED***`vm.Module`***REMOVED***objects***REMOVED***are***REMOVED***intrinsically***REMOVED***asynchronous,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***in***REMOVED***contrast***REMOVED***with***REMOVED***the***REMOVED***synchronous***REMOVED***nature***REMOVED***of***REMOVED***`vm.Script`***REMOVED***objects.***REMOVED***The***REMOVED***use***REMOVED***of
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***'async'***REMOVED***functions***REMOVED***can***REMOVED***help***REMOVED***with***REMOVED***manipulating***REMOVED***`vm.Module`***REMOVED***objects.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Using***REMOVED***a***REMOVED***`vm.Module`***REMOVED***object***REMOVED***requires***REMOVED***three***REMOVED***distinct***REMOVED***steps:***REMOVED***creation/parsing,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***linking,***REMOVED***and***REMOVED***evaluation.***REMOVED***These***REMOVED***three***REMOVED***steps***REMOVED***are***REMOVED***illustrated***REMOVED***in***REMOVED***the***REMOVED***following
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***example.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***implementation***REMOVED***lies***REMOVED***at***REMOVED***a***REMOVED***lower***REMOVED***level***REMOVED***than***REMOVED***the***REMOVED***`ECMAScript***REMOVED***Module
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***loader`.***REMOVED***There***REMOVED***is***REMOVED***also***REMOVED***no***REMOVED***way***REMOVED***to***REMOVED***interact***REMOVED***with***REMOVED***the***REMOVED***Loader***REMOVED***yet,***REMOVED***though
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***support***REMOVED***is***REMOVED***planned.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***contextifiedObject***REMOVED***=***REMOVED***vm.createContext({
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***secret:***REMOVED***42,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***print:***REMOVED***console.log,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Step***REMOVED***1
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Create***REMOVED***a***REMOVED***Module***REMOVED***by***REMOVED***constructing***REMOVED***a***REMOVED***new***REMOVED***`vm.SourceTextModule`***REMOVED***object.***REMOVED***This
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***parses***REMOVED***the***REMOVED***provided***REMOVED***source***REMOVED***text,***REMOVED***throwing***REMOVED***a***REMOVED***`SyntaxError`***REMOVED***if***REMOVED***anything***REMOVED***goes
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***wrong.***REMOVED***By***REMOVED***default,***REMOVED***a***REMOVED***Module***REMOVED***is***REMOVED***created***REMOVED***in***REMOVED***the***REMOVED***top***REMOVED***context.***REMOVED***But***REMOVED***here,***REMOVED***we
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***specify***REMOVED***`contextifiedObject`***REMOVED***as***REMOVED***the***REMOVED***context***REMOVED***this***REMOVED***Module***REMOVED***belongs***REMOVED***to.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Here,***REMOVED***we***REMOVED***attempt***REMOVED***to***REMOVED***obtain***REMOVED***the***REMOVED***default***REMOVED***export***REMOVED***from***REMOVED***the***REMOVED***module***REMOVED***"foo",***REMOVED***and
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***put***REMOVED***it***REMOVED***into***REMOVED***local***REMOVED***binding***REMOVED***"secret".
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***bar***REMOVED***=***REMOVED***new***REMOVED***vm.SourceTextModule(`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***import***REMOVED***s***REMOVED***from***REMOVED***'foo';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***s;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***print(s);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`,***REMOVED***{***REMOVED***context:***REMOVED***contextifiedObject***REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Step***REMOVED***2
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***"Link"***REMOVED***the***REMOVED***imported***REMOVED***dependencies***REMOVED***of***REMOVED***this***REMOVED***Module***REMOVED***to***REMOVED***it.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***The***REMOVED***provided***REMOVED***linking***REMOVED***callback***REMOVED***(the***REMOVED***"linker")***REMOVED***accepts***REMOVED***two***REMOVED***arguments:***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***parent***REMOVED***module***REMOVED***(`bar`***REMOVED***in***REMOVED***this***REMOVED***case)***REMOVED***and***REMOVED***the***REMOVED***string***REMOVED***that***REMOVED***is***REMOVED***the***REMOVED***specifier***REMOVED***of
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***the***REMOVED***imported***REMOVED***module.***REMOVED***The***REMOVED***callback***REMOVED***is***REMOVED***expected***REMOVED***to***REMOVED***return***REMOVED***a***REMOVED***Module***REMOVED***that
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***corresponds***REMOVED***to***REMOVED***the***REMOVED***provided***REMOVED***specifier,***REMOVED***with***REMOVED***certain***REMOVED***requirements***REMOVED***documented
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***in***REMOVED***`module.link()`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***If***REMOVED***linking***REMOVED***has***REMOVED***not***REMOVED***started***REMOVED***for***REMOVED***the***REMOVED***returned***REMOVED***Module,***REMOVED***the***REMOVED***same***REMOVED***linker
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***callback***REMOVED***will***REMOVED***be***REMOVED***called***REMOVED***on***REMOVED***the***REMOVED***returned***REMOVED***Module.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Even***REMOVED***top-level***REMOVED***Modules***REMOVED***without***REMOVED***dependencies***REMOVED***must***REMOVED***be***REMOVED***explicitly***REMOVED***linked.***REMOVED***The
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***callback***REMOVED***provided***REMOVED***would***REMOVED***never***REMOVED***be***REMOVED***called,***REMOVED***however.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***The***REMOVED***link()***REMOVED***method***REMOVED***returns***REMOVED***a***REMOVED***Promise***REMOVED***that***REMOVED***will***REMOVED***be***REMOVED***resolved***REMOVED***when***REMOVED***all***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Promises***REMOVED***returned***REMOVED***by***REMOVED***the***REMOVED***linker***REMOVED***resolve.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Note:***REMOVED***This***REMOVED***is***REMOVED***a***REMOVED***contrived***REMOVED***example***REMOVED***in***REMOVED***that***REMOVED***the***REMOVED***linker***REMOVED***function***REMOVED***creates***REMOVED***a***REMOVED***new
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***"foo"***REMOVED***module***REMOVED***every***REMOVED***time***REMOVED***it***REMOVED***is***REMOVED***called.***REMOVED***In***REMOVED***a***REMOVED***full-fledged***REMOVED***module***REMOVED***system,***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***cache***REMOVED***would***REMOVED***probably***REMOVED***be***REMOVED***used***REMOVED***to***REMOVED***avoid***REMOVED***duplicated***REMOVED***modules.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***async***REMOVED***function***REMOVED***linker(specifier,***REMOVED***referencingModule)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***if***REMOVED***(specifier***REMOVED***===***REMOVED***'foo')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return***REMOVED***new***REMOVED***vm.SourceTextModule(`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***The***REMOVED***"secret"***REMOVED***variable***REMOVED***refers***REMOVED***to***REMOVED***the***REMOVED***global***REMOVED***variable***REMOVED***we***REMOVED***added***REMOVED***to
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***"contextifiedObject"***REMOVED***when***REMOVED***creating***REMOVED***the***REMOVED***context.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***export***REMOVED***default***REMOVED***secret;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***`,***REMOVED***{***REMOVED***context:***REMOVED***referencingModule.context***REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***Using***REMOVED***`contextifiedObject`***REMOVED***instead***REMOVED***of***REMOVED***`referencingModule.context`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***//***REMOVED***here***REMOVED***would***REMOVED***work***REMOVED***as***REMOVED***well.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***throw***REMOVED***new***REMOVED***Error(`Unable***REMOVED***to***REMOVED***resolve***REMOVED***dependency:***REMOVED***${specifier}`);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***await***REMOVED***bar.link(linker);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Step***REMOVED***3
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Evaluate***REMOVED***the***REMOVED***Module.***REMOVED***The***REMOVED***evaluate()***REMOVED***method***REMOVED***returns***REMOVED***a***REMOVED***promise***REMOVED***which***REMOVED***will
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***resolve***REMOVED***after***REMOVED***the***REMOVED***module***REMOVED***has***REMOVED***finished***REMOVED***evaluating.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Prints***REMOVED***42.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***await***REMOVED***bar.evaluate();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v13.0.0,***REMOVED***v12.16.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@experimental
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***class***REMOVED***Module***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***specifiers***REMOVED***of***REMOVED***all***REMOVED***dependencies***REMOVED***of***REMOVED***this***REMOVED***module.***REMOVED***The***REMOVED***returned***REMOVED***array***REMOVED***is***REMOVED***frozen
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***to***REMOVED***disallow***REMOVED***any***REMOVED***changes***REMOVED***to***REMOVED***it.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Corresponds***REMOVED***to***REMOVED***the***REMOVED***`[[RequestedModules]]`***REMOVED***field***REMOVED***of***REMOVED***[Cyclic***REMOVED***Module***REMOVED***Record](https://tc39.es/ecma262/#sec-cyclic-module-records)***REMOVED***s***REMOVED***in
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***ECMAScript***REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***dependencySpecifiers:***REMOVED***readonly***REMOVED***string[];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***the***REMOVED***`module.status`***REMOVED***is***REMOVED***`'errored'`,***REMOVED***this***REMOVED***property***REMOVED***contains***REMOVED***the***REMOVED***exception
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***thrown***REMOVED***by***REMOVED***the***REMOVED***module***REMOVED***during***REMOVED***evaluation.***REMOVED***If***REMOVED***the***REMOVED***status***REMOVED***is***REMOVED***anything***REMOVED***else,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***accessing***REMOVED***this***REMOVED***property***REMOVED***will***REMOVED***result***REMOVED***in***REMOVED***a***REMOVED***thrown***REMOVED***exception.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***value***REMOVED***`undefined`***REMOVED***cannot***REMOVED***be***REMOVED***used***REMOVED***for***REMOVED***cases***REMOVED***where***REMOVED***there***REMOVED***is***REMOVED***not***REMOVED***a***REMOVED***thrown
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***exception***REMOVED***due***REMOVED***to***REMOVED***possible***REMOVED***ambiguity***REMOVED***with***REMOVED***`throw***REMOVED***undefined;`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Corresponds***REMOVED***to***REMOVED***the***REMOVED***`[[EvaluationError]]`***REMOVED***field***REMOVED***of***REMOVED***[Cyclic***REMOVED***Module***REMOVED***Record](https://tc39.es/ecma262/#sec-cyclic-module-records)***REMOVED***s
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***in***REMOVED***the***REMOVED***ECMAScript***REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***error:***REMOVED***any;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***identifier***REMOVED***of***REMOVED***the***REMOVED***current***REMOVED***module,***REMOVED***as***REMOVED***set***REMOVED***in***REMOVED***the***REMOVED***constructor.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***identifier:***REMOVED***string;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***context:***REMOVED***Context;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***namespace***REMOVED***object***REMOVED***of***REMOVED***the***REMOVED***module.***REMOVED***This***REMOVED***is***REMOVED***only***REMOVED***available***REMOVED***after***REMOVED***linking
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***(`module.link()`)***REMOVED***has***REMOVED***completed.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Corresponds***REMOVED***to***REMOVED***the***REMOVED***[GetModuleNamespace](https://tc39.es/ecma262/#sec-getmodulenamespace)***REMOVED***abstract***REMOVED***operation***REMOVED***in***REMOVED***the***REMOVED***ECMAScript
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***namespace:***REMOVED***Object;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***current***REMOVED***status***REMOVED***of***REMOVED***the***REMOVED***module.***REMOVED***Will***REMOVED***be***REMOVED***one***REMOVED***of:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***`'unlinked'`:***REMOVED***`module.link()`***REMOVED***has***REMOVED***not***REMOVED***yet***REMOVED***been***REMOVED***called.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***`'linking'`:***REMOVED***`module.link()`***REMOVED***has***REMOVED***been***REMOVED***called,***REMOVED***but***REMOVED***not***REMOVED***all***REMOVED***Promises***REMOVED***returned
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***by***REMOVED***the***REMOVED***linker***REMOVED***function***REMOVED***have***REMOVED***been***REMOVED***resolved***REMOVED***yet.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***`'linked'`:***REMOVED***The***REMOVED***module***REMOVED***has***REMOVED***been***REMOVED***linked***REMOVED***successfully,***REMOVED***and***REMOVED***all***REMOVED***of***REMOVED***its
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***dependencies***REMOVED***are***REMOVED***linked,***REMOVED***but***REMOVED***`module.evaluate()`***REMOVED***has***REMOVED***not***REMOVED***yet***REMOVED***been***REMOVED***called.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***`'evaluating'`:***REMOVED***The***REMOVED***module***REMOVED***is***REMOVED***being***REMOVED***evaluated***REMOVED***through***REMOVED***a***REMOVED***`module.evaluate()`***REMOVED***on
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***itself***REMOVED***or***REMOVED***a***REMOVED***parent***REMOVED***module.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***`'evaluated'`:***REMOVED***The***REMOVED***module***REMOVED***has***REMOVED***been***REMOVED***successfully***REMOVED***evaluated.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***`'errored'`:***REMOVED***The***REMOVED***module***REMOVED***has***REMOVED***been***REMOVED***evaluated,***REMOVED***but***REMOVED***an***REMOVED***exception***REMOVED***was***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Other***REMOVED***than***REMOVED***`'errored'`,***REMOVED***this***REMOVED***status***REMOVED***string***REMOVED***corresponds***REMOVED***to***REMOVED***the***REMOVED***specification's***REMOVED***[Cyclic***REMOVED***Module***REMOVED***Record](https://tc39.es/ecma262/#sec-cyclic-module-records)'s***REMOVED***`[[Status]]`***REMOVED***field.***REMOVED***`'errored'`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***corresponds***REMOVED***to***REMOVED***`'evaluated'`***REMOVED***in***REMOVED***the***REMOVED***specification,***REMOVED***but***REMOVED***with***REMOVED***`[[EvaluationError]]`***REMOVED***set***REMOVED***to***REMOVED***a
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***value***REMOVED***that***REMOVED***is***REMOVED***not***REMOVED***`undefined`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***status:***REMOVED***ModuleStatus;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Evaluate***REMOVED***the***REMOVED***module.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***must***REMOVED***be***REMOVED***called***REMOVED***after***REMOVED***the***REMOVED***module***REMOVED***has***REMOVED***been***REMOVED***linked;***REMOVED***otherwise***REMOVED***it***REMOVED***will***REMOVED***reject.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***It***REMOVED***could***REMOVED***be***REMOVED***called***REMOVED***also***REMOVED***when***REMOVED***the***REMOVED***module***REMOVED***has***REMOVED***already***REMOVED***been***REMOVED***evaluated,***REMOVED***in***REMOVED***which
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***case***REMOVED***it***REMOVED***will***REMOVED***either***REMOVED***do***REMOVED***nothing***REMOVED***if***REMOVED***the***REMOVED***initial***REMOVED***evaluation***REMOVED***ended***REMOVED***in***REMOVED***success
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***(`module.status`***REMOVED***is***REMOVED***`'evaluated'`)***REMOVED***or***REMOVED***it***REMOVED***will***REMOVED***re-throw***REMOVED***the***REMOVED***exception***REMOVED***that***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***initial***REMOVED***evaluation***REMOVED***resulted***REMOVED***in***REMOVED***(`module.status`***REMOVED***is***REMOVED***`'errored'`).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***method***REMOVED***cannot***REMOVED***be***REMOVED***called***REMOVED***while***REMOVED***the***REMOVED***module***REMOVED***is***REMOVED***being***REMOVED***evaluated
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***(`module.status`***REMOVED***is***REMOVED***`'evaluating'`).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Corresponds***REMOVED***to***REMOVED***the***REMOVED***[Evaluate()***REMOVED***concrete***REMOVED***method](https://tc39.es/ecma262/#sec-moduleevaluation)***REMOVED***field***REMOVED***of***REMOVED***[Cyclic***REMOVED***Module***REMOVED***Record](https://tc39.es/ecma262/#sec-cyclic-module-records)***REMOVED***s***REMOVED***in***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***ECMAScript***REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@return***REMOVED***Fulfills***REMOVED***with***REMOVED***`undefined`***REMOVED***upon***REMOVED***success.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***evaluate(options?:***REMOVED***ModuleEvaluateOptions):***REMOVED***Promise<void>;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Link***REMOVED***module***REMOVED***dependencies.***REMOVED***This***REMOVED***method***REMOVED***must***REMOVED***be***REMOVED***called***REMOVED***before***REMOVED***evaluation,***REMOVED***and
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***can***REMOVED***only***REMOVED***be***REMOVED***called***REMOVED***once***REMOVED***per***REMOVED***module.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***function***REMOVED***is***REMOVED***expected***REMOVED***to***REMOVED***return***REMOVED***a***REMOVED***`Module`***REMOVED***object***REMOVED***or***REMOVED***a***REMOVED***`Promise`***REMOVED***that
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***eventually***REMOVED***resolves***REMOVED***to***REMOVED***a***REMOVED***`Module`***REMOVED***object.***REMOVED***The***REMOVED***returned***REMOVED***`Module`***REMOVED***must***REMOVED***satisfy***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***following***REMOVED***two***REMOVED***invariants:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***It***REMOVED***must***REMOVED***belong***REMOVED***to***REMOVED***the***REMOVED***same***REMOVED***context***REMOVED***as***REMOVED***the***REMOVED***parent***REMOVED***`Module`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***Its***REMOVED***`status`***REMOVED***must***REMOVED***not***REMOVED***be***REMOVED***`'errored'`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***If***REMOVED***the***REMOVED***returned***REMOVED***`Module`'s***REMOVED***`status`***REMOVED***is***REMOVED***`'unlinked'`,***REMOVED***this***REMOVED***method***REMOVED***will***REMOVED***be
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***recursively***REMOVED***called***REMOVED***on***REMOVED***the***REMOVED***returned***REMOVED***`Module`***REMOVED***with***REMOVED***the***REMOVED***same***REMOVED***provided***REMOVED***`linker`***REMOVED***function.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***`link()`***REMOVED***returns***REMOVED***a***REMOVED***`Promise`***REMOVED***that***REMOVED***will***REMOVED***either***REMOVED***get***REMOVED***resolved***REMOVED***when***REMOVED***all***REMOVED***linking
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***instances***REMOVED***resolve***REMOVED***to***REMOVED***a***REMOVED***valid***REMOVED***`Module`,***REMOVED***or***REMOVED***rejected***REMOVED***if***REMOVED***the***REMOVED***linker***REMOVED***function***REMOVED***either
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***throws***REMOVED***an***REMOVED***exception***REMOVED***or***REMOVED***returns***REMOVED***an***REMOVED***invalid***REMOVED***`Module`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***linker***REMOVED***function***REMOVED***roughly***REMOVED***corresponds***REMOVED***to***REMOVED***the***REMOVED***implementation-defined***REMOVED***[HostResolveImportedModule](https://tc39.es/ecma262/#sec-hostresolveimportedmodule)***REMOVED***abstract***REMOVED***operation***REMOVED***in***REMOVED***the
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***ECMAScript
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***specification,***REMOVED***with***REMOVED***a***REMOVED***few***REMOVED***key***REMOVED***differences:
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED*******REMOVED***The***REMOVED***linker***REMOVED***function***REMOVED***is***REMOVED***allowed***REMOVED***to***REMOVED***be***REMOVED***asynchronous***REMOVED***while***REMOVED***[HostResolveImportedModule](https://tc39.es/ecma262/#sec-hostresolveimportedmodule)***REMOVED***is***REMOVED***synchronous.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***actual***REMOVED***[HostResolveImportedModule](https://tc39.es/ecma262/#sec-hostresolveimportedmodule)***REMOVED***implementation***REMOVED***used***REMOVED***during***REMOVED***module
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***linking***REMOVED***is***REMOVED***one***REMOVED***that***REMOVED***returns***REMOVED***the***REMOVED***modules***REMOVED***linked***REMOVED***during***REMOVED***linking.***REMOVED***Since***REMOVED***at
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***that***REMOVED***point***REMOVED***all***REMOVED***modules***REMOVED***would***REMOVED***have***REMOVED***been***REMOVED***fully***REMOVED***linked***REMOVED***already,***REMOVED***the***REMOVED***[HostResolveImportedModule](https://tc39.es/ecma262/#sec-hostresolveimportedmodule)***REMOVED***implementation***REMOVED***is***REMOVED***fully***REMOVED***synchronous***REMOVED***per
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Corresponds***REMOVED***to***REMOVED***the***REMOVED***[Link()***REMOVED***concrete***REMOVED***method](https://tc39.es/ecma262/#sec-moduledeclarationlinking)***REMOVED***field***REMOVED***of***REMOVED***[Cyclic***REMOVED***Module***REMOVED***Record](https://tc39.es/ecma262/#sec-cyclic-module-records)***REMOVED***s***REMOVED***in
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***ECMAScript***REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***link(linker:***REMOVED***ModuleLinker):***REMOVED***Promise<void>;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***SourceTextModuleOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***String***REMOVED***used***REMOVED***in***REMOVED***stack***REMOVED***traces.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***'vm:module(i)'***REMOVED***where***REMOVED***i***REMOVED***is***REMOVED***a***REMOVED***context-specific***REMOVED***ascending***REMOVED***index.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***identifier?:***REMOVED***string***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Provides***REMOVED***an***REMOVED***optional***REMOVED***data***REMOVED***with***REMOVED***V8's***REMOVED***code***REMOVED***cache***REMOVED***data***REMOVED***for***REMOVED***the***REMOVED***supplied***REMOVED***source.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***cachedData?:***REMOVED***ScriptOptions["cachedData"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***context?:***REMOVED***Context***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***lineOffset?:***REMOVED***BaseOptions["lineOffset"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***columnOffset?:***REMOVED***BaseOptions["columnOffset"]***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Called***REMOVED***during***REMOVED***evaluation***REMOVED***of***REMOVED***this***REMOVED***module***REMOVED***to***REMOVED***initialize***REMOVED***the***REMOVED***`import.meta`.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***initializeImportMeta?:***REMOVED***((meta:***REMOVED***ImportMeta,***REMOVED***module:***REMOVED***SourceTextModule)***REMOVED***=>***REMOVED***void)***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Used***REMOVED***to***REMOVED***specify***REMOVED***how***REMOVED***the***REMOVED***modules***REMOVED***should***REMOVED***be***REMOVED***loaded***REMOVED***during***REMOVED***the***REMOVED***evaluation***REMOVED***of***REMOVED***this***REMOVED***script***REMOVED***when***REMOVED***`import()`***REMOVED***is***REMOVED***called.***REMOVED***This***REMOVED***option***REMOVED***is
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***part***REMOVED***of***REMOVED***the***REMOVED***experimental***REMOVED***modules***REMOVED***API.***REMOVED***We***REMOVED***do***REMOVED***not***REMOVED***recommend***REMOVED***using***REMOVED***it***REMOVED***in***REMOVED***a***REMOVED***production***REMOVED***environment.***REMOVED***For***REMOVED***detailed***REMOVED***information,***REMOVED***see
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***[Support***REMOVED***of***REMOVED***dynamic***REMOVED***`import()`***REMOVED***in***REMOVED***compilation***REMOVED***APIs](https://nodejs.org/docs/latest-v22.x/api/vm.html#support-of-dynamic-import-in-compilation-apis).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***importModuleDynamically?:***REMOVED***DynamicModuleLoader<SourceTextModule>***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***feature***REMOVED***is***REMOVED***only***REMOVED***available***REMOVED***with***REMOVED***the***REMOVED***`--experimental-vm-modules`***REMOVED***command
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***flag***REMOVED***enabled.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`vm.SourceTextModule`***REMOVED***class***REMOVED***provides***REMOVED***the***REMOVED***[Source***REMOVED***Text***REMOVED***Module***REMOVED***Record](https://tc39.es/ecma262/#sec-source-text-module-records)***REMOVED***as
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***defined***REMOVED***in***REMOVED***the***REMOVED***ECMAScript***REMOVED***specification.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v9.6.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@experimental
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***class***REMOVED***SourceTextModule***REMOVED***extends***REMOVED***Module***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Creates***REMOVED***a***REMOVED***new***REMOVED***`SourceTextModule`***REMOVED***instance.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***code***REMOVED***JavaScript***REMOVED***Module***REMOVED***code***REMOVED***to***REMOVED***parse
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***constructor(code:***REMOVED***string,***REMOVED***options?:***REMOVED***SourceTextModuleOptions);
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***interface***REMOVED***SyntheticModuleOptions***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***String***REMOVED***used***REMOVED***in***REMOVED***stack***REMOVED***traces.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@default***REMOVED***'vm:module(i)'***REMOVED***where***REMOVED***i***REMOVED***is***REMOVED***a***REMOVED***context-specific***REMOVED***ascending***REMOVED***index.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***identifier?:***REMOVED***string***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***contextified***REMOVED***object***REMOVED***as***REMOVED***returned***REMOVED***by***REMOVED***the***REMOVED***`vm.createContext()`***REMOVED***method,***REMOVED***to***REMOVED***compile***REMOVED***and***REMOVED***evaluate***REMOVED***this***REMOVED***module***REMOVED***in.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***context?:***REMOVED***Context***REMOVED***|***REMOVED***undefined;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***feature***REMOVED***is***REMOVED***only***REMOVED***available***REMOVED***with***REMOVED***the***REMOVED***`--experimental-vm-modules`***REMOVED***command
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***flag***REMOVED***enabled.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***The***REMOVED***`vm.SyntheticModule`***REMOVED***class***REMOVED***provides***REMOVED***the***REMOVED***[Synthetic***REMOVED***Module***REMOVED***Record](https://heycam.github.io/webidl/#synthetic-module-records)***REMOVED***as
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***defined***REMOVED***in***REMOVED***the***REMOVED***WebIDL***REMOVED***specification.***REMOVED***The***REMOVED***purpose***REMOVED***of***REMOVED***synthetic***REMOVED***modules***REMOVED***is***REMOVED***to
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***provide***REMOVED***a***REMOVED***generic***REMOVED***interface***REMOVED***for***REMOVED***exposing***REMOVED***non-JavaScript***REMOVED***sources***REMOVED***to***REMOVED***ECMAScript
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***module***REMOVED***graphs.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***source***REMOVED***=***REMOVED***'{***REMOVED***"a":***REMOVED***1***REMOVED***}';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***module***REMOVED***=***REMOVED***new***REMOVED***vm.SyntheticModule(['default'],***REMOVED***function()***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***const***REMOVED***obj***REMOVED***=***REMOVED***JSON.parse(source);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***this.setExport('default',***REMOVED***obj);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***//***REMOVED***Use***REMOVED***`module`***REMOVED***in***REMOVED***linking...
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v13.0.0,***REMOVED***v12.16.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@experimental
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***class***REMOVED***SyntheticModule***REMOVED***extends***REMOVED***Module***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Creates***REMOVED***a***REMOVED***new***REMOVED***`SyntheticModule`***REMOVED***instance.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***exportNames***REMOVED***Array***REMOVED***of***REMOVED***names***REMOVED***that***REMOVED***will***REMOVED***be***REMOVED***exported***REMOVED***from***REMOVED***the***REMOVED***module.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***evaluateCallback***REMOVED***Called***REMOVED***when***REMOVED***the***REMOVED***module***REMOVED***is***REMOVED***evaluated.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***constructor(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***exportNames:***REMOVED***string[],
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***evaluateCallback:***REMOVED***(this:***REMOVED***SyntheticModule)***REMOVED***=>***REMOVED***void,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***options?:***REMOVED***SyntheticModuleOptions,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***method***REMOVED***is***REMOVED***used***REMOVED***after***REMOVED***the***REMOVED***module***REMOVED***is***REMOVED***linked***REMOVED***to***REMOVED***set***REMOVED***the***REMOVED***values***REMOVED***of***REMOVED***exports.***REMOVED***If
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***it***REMOVED***is***REMOVED***called***REMOVED***before***REMOVED***the***REMOVED***module***REMOVED***is***REMOVED***linked,***REMOVED***an***REMOVED***`ERR_VM_MODULE_STATUS`***REMOVED***error
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***will***REMOVED***be***REMOVED***thrown.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```js
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***import***REMOVED***vm***REMOVED***from***REMOVED***'node:vm';
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***const***REMOVED***m***REMOVED***=***REMOVED***new***REMOVED***vm.SyntheticModule(['x'],***REMOVED***()***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED******REMOVED******REMOVED***m.setExport('x',***REMOVED***1);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***await***REMOVED***m.link(()***REMOVED***=>***REMOVED***{});
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***await***REMOVED***m.evaluate();
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***assert.strictEqual(m.namespace.x,***REMOVED***1);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***```
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v13.0.0,***REMOVED***v12.16.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***name***REMOVED***Name***REMOVED***of***REMOVED***the***REMOVED***export***REMOVED***to***REMOVED***set.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@param***REMOVED***value***REMOVED***The***REMOVED***value***REMOVED***to***REMOVED***set***REMOVED***the***REMOVED***export***REMOVED***to.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***setExport(name:***REMOVED***string,***REMOVED***value:***REMOVED***any):***REMOVED***void;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***Returns***REMOVED***an***REMOVED***object***REMOVED***containing***REMOVED***commonly***REMOVED***used***REMOVED***constants***REMOVED***for***REMOVED***VM***REMOVED***operations.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v20.12.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED***namespace***REMOVED***constants***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***A***REMOVED***constant***REMOVED***that***REMOVED***can***REMOVED***be***REMOVED***used***REMOVED***as***REMOVED***the***REMOVED***`importModuleDynamically`***REMOVED***option***REMOVED***to***REMOVED***`vm.Script`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***and***REMOVED***`vm.compileFunction()`***REMOVED***so***REMOVED***that***REMOVED***Node.js***REMOVED***uses***REMOVED***the***REMOVED***default***REMOVED***ESM***REMOVED***loader***REMOVED***from***REMOVED***the***REMOVED***main
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***context***REMOVED***to***REMOVED***load***REMOVED***the***REMOVED***requested***REMOVED***module.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***For***REMOVED***detailed***REMOVED***information,***REMOVED***see***REMOVED***[Support***REMOVED***of***REMOVED***dynamic***REMOVED***`import()`***REMOVED***in***REMOVED***compilation***REMOVED***APIs](https://nodejs.org/docs/latest-v20.x/api/vm.html#support-of-dynamic-import-in-compilation-apis).
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v20.12.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***USE_MAIN_CONTEXT_DEFAULT_LOADER:***REMOVED***number;
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/**
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***This***REMOVED***constant,***REMOVED***when***REMOVED***used***REMOVED***as***REMOVED***the***REMOVED***`contextObject`***REMOVED***argument***REMOVED***in***REMOVED***vm***REMOVED***APIs,***REMOVED***instructs***REMOVED***Node.js***REMOVED***to***REMOVED***create
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***a***REMOVED***context***REMOVED***without***REMOVED***wrapping***REMOVED***its***REMOVED***global***REMOVED***object***REMOVED***with***REMOVED***another***REMOVED***object***REMOVED***in***REMOVED***a***REMOVED***Node.js-specific***REMOVED***manner.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***As***REMOVED***a***REMOVED***result,***REMOVED***the***REMOVED***`globalThis`***REMOVED***value***REMOVED***inside***REMOVED***the***REMOVED***new***REMOVED***context***REMOVED***would***REMOVED***behave***REMOVED***more***REMOVED***closely***REMOVED***to***REMOVED***an***REMOVED***ordinary
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***one.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***When***REMOVED***`vm.constants.DONT_CONTEXTIFY`***REMOVED***is***REMOVED***used***REMOVED***as***REMOVED***the***REMOVED***`contextObject`***REMOVED***argument***REMOVED***to***REMOVED***{@link***REMOVED***createContext},
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***the***REMOVED***returned***REMOVED***object***REMOVED***is***REMOVED***a***REMOVED***proxy-like***REMOVED***object***REMOVED***to***REMOVED***the***REMOVED***global***REMOVED***object***REMOVED***in***REMOVED***the***REMOVED***newly***REMOVED***created***REMOVED***context***REMOVED***with
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***fewer***REMOVED***Node.js-specific***REMOVED***quirks.***REMOVED***It***REMOVED***is***REMOVED***reference***REMOVED***equal***REMOVED***to***REMOVED***the***REMOVED***`globalThis`***REMOVED***value***REMOVED***in***REMOVED***the***REMOVED***new***REMOVED***context,
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***can***REMOVED***be***REMOVED***modified***REMOVED***from***REMOVED***outside***REMOVED***the***REMOVED***context,***REMOVED***and***REMOVED***can***REMOVED***be***REMOVED***used***REMOVED***to***REMOVED***access***REMOVED***built-ins***REMOVED***in***REMOVED***the***REMOVED***new***REMOVED***context***REMOVED***directly.
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED*******REMOVED***@since***REMOVED***v20.18.0
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED****/
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***const***REMOVED***DONT_CONTEXTIFY:***REMOVED***number;
***REMOVED******REMOVED******REMOVED******REMOVED***}
}
declare***REMOVED***module***REMOVED***"node:vm"***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***export***REMOVED*******REMOVED***from***REMOVED***"vm";
}
