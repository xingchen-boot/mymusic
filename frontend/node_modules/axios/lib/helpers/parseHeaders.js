'use***REMOVED***strict';

import***REMOVED***utils***REMOVED***from***REMOVED***'./../utils.js';

//***REMOVED***RawAxiosHeaders***REMOVED***whose***REMOVED***duplicates***REMOVED***are***REMOVED***ignored***REMOVED***by***REMOVED***node
//***REMOVED***c.f.***REMOVED***https://nodejs.org/api/http.html#http_message_headers
const***REMOVED***ignoreDuplicateOf***REMOVED***=***REMOVED***utils.toObjectSet([
***REMOVED******REMOVED***'age',***REMOVED***'authorization',***REMOVED***'content-length',***REMOVED***'content-type',***REMOVED***'etag',
***REMOVED******REMOVED***'expires',***REMOVED***'from',***REMOVED***'host',***REMOVED***'if-modified-since',***REMOVED***'if-unmodified-since',
***REMOVED******REMOVED***'last-modified',***REMOVED***'location',***REMOVED***'max-forwards',***REMOVED***'proxy-authorization',
***REMOVED******REMOVED***'referer',***REMOVED***'retry-after',***REMOVED***'user-agent'
]);

/**
***REMOVED*******REMOVED***Parse***REMOVED***headers***REMOVED***into***REMOVED***an***REMOVED***object
***REMOVED****
***REMOVED*******REMOVED***```
***REMOVED*******REMOVED***Date:***REMOVED***Wed,***REMOVED***27***REMOVED***Aug***REMOVED***2014***REMOVED***08:58:49***REMOVED***GMT
***REMOVED*******REMOVED***Content-Type:***REMOVED***application/json
***REMOVED*******REMOVED***Connection:***REMOVED***keep-alive
***REMOVED*******REMOVED***Transfer-Encoding:***REMOVED***chunked
***REMOVED*******REMOVED***```
***REMOVED****
***REMOVED*******REMOVED***@param***REMOVED***{String}***REMOVED***rawHeaders***REMOVED***Headers***REMOVED***needing***REMOVED***to***REMOVED***be***REMOVED***parsed
***REMOVED****
***REMOVED*******REMOVED***@returns***REMOVED***{Object}***REMOVED***Headers***REMOVED***parsed***REMOVED***into***REMOVED***an***REMOVED***object
***REMOVED****/
export***REMOVED***default***REMOVED***rawHeaders***REMOVED***=>***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***parsed***REMOVED***=***REMOVED***{};
***REMOVED******REMOVED***let***REMOVED***key;
***REMOVED******REMOVED***let***REMOVED***val;
***REMOVED******REMOVED***let***REMOVED***i;

***REMOVED******REMOVED***rawHeaders***REMOVED***&&***REMOVED***rawHeaders.split('\n').forEach(function***REMOVED***parser(line)***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***i***REMOVED***=***REMOVED***line.indexOf(':');
***REMOVED******REMOVED******REMOVED******REMOVED***key***REMOVED***=***REMOVED***line.substring(0,***REMOVED***i).trim().toLowerCase();
***REMOVED******REMOVED******REMOVED******REMOVED***val***REMOVED***=***REMOVED***line.substring(i***REMOVED***+***REMOVED***1).trim();

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(!key***REMOVED***||***REMOVED***(parsed[key]***REMOVED***&&***REMOVED***ignoreDuplicateOf[key]))***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***return;
***REMOVED******REMOVED******REMOVED******REMOVED***}

***REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(key***REMOVED***===***REMOVED***'set-cookie')***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***if***REMOVED***(parsed[key])***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parsed[key].push(val);
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parsed[key]***REMOVED***=***REMOVED***[val];
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED******REMOVED******REMOVED***}***REMOVED***else***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***parsed[key]***REMOVED***=***REMOVED***parsed[key]***REMOVED***?***REMOVED***parsed[key]***REMOVED***+***REMOVED***',***REMOVED***'***REMOVED***+***REMOVED***val***REMOVED***:***REMOVED***val;
***REMOVED******REMOVED******REMOVED******REMOVED***}
***REMOVED******REMOVED***});

***REMOVED******REMOVED***return***REMOVED***parsed;
};
